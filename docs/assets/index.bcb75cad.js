var ng=Object.defineProperty;var sg=(t,e,n)=>e in t?ng(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ns=(t,e,n)=>(sg(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function rg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ce={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=Symbol.for("react.element"),ig=Symbol.for("react.portal"),og=Symbol.for("react.fragment"),ag=Symbol.for("react.strict_mode"),lg=Symbol.for("react.profiler"),ug=Symbol.for("react.provider"),cg=Symbol.for("react.context"),hg=Symbol.for("react.forward_ref"),dg=Symbol.for("react.suspense"),fg=Symbol.for("react.memo"),pg=Symbol.for("react.lazy"),Kc=Symbol.iterator;function mg(t){return t===null||typeof t!="object"?null:(t=Kc&&t[Kc]||t["@@iterator"],typeof t=="function"?t:null)}var Rd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pd=Object.assign,Fd={};function vr(t,e,n){this.props=t,this.context=e,this.refs=Fd,this.updater=n||Rd}vr.prototype.isReactComponent={};vr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bd(){}bd.prototype=vr.prototype;function Ou(t,e,n){this.props=t,this.context=e,this.refs=Fd,this.updater=n||Rd}var Du=Ou.prototype=new bd;Du.constructor=Ou;Pd(Du,vr.prototype);Du.isPureReactComponent=!0;var Jc=Array.isArray,Vd=Object.prototype.hasOwnProperty,Iu={current:null},Ld={key:!0,ref:!0,__self:!0,__source:!0};function qd(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Vd.call(e,s)&&!Ld.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:Ei,type:t,key:i,ref:o,props:r,_owner:Iu.current}}function gg(t,e){return{$$typeof:Ei,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ei}function _g(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var eh=/\/+/g;function Ka(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_g(""+t.key):e.toString(36)}function ho(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ei:case ig:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+Ka(o,0):s,Jc(r)?(n="",t!=null&&(n=t.replace(eh,"$&/")+"/"),ho(r,e,n,"",function(u){return u})):r!=null&&(Mu(r)&&(r=gg(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(eh,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",Jc(t))for(var a=0;a<t.length;a++){i=t[a];var l=s+Ka(i,a);o+=ho(i,e,n,l,r)}else if(l=mg(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=s+Ka(i,a++),o+=ho(i,e,n,l,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wi(t,e,n){if(t==null)return t;var s=[],r=0;return ho(t,s,"","",function(i){return e.call(n,i,r++)}),s}function vg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rt={current:null},fo={transition:null},yg={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:fo,ReactCurrentOwner:Iu};Y.Children={map:Wi,forEach:function(t,e,n){Wi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wi(t,function(){e++}),e},toArray:function(t){return Wi(t,function(e){return e})||[]},only:function(t){if(!Mu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=vr;Y.Fragment=og;Y.Profiler=lg;Y.PureComponent=Ou;Y.StrictMode=ag;Y.Suspense=dg;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yg;Y.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Pd({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Iu.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Vd.call(e,l)&&!Ld.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:Ei,type:t.type,key:r,ref:i,props:s,_owner:o}};Y.createContext=function(t){return t={$$typeof:cg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ug,_context:t},t.Consumer=t};Y.createElement=qd;Y.createFactory=function(t){var e=qd.bind(null,t);return e.type=t,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:hg,render:t}};Y.isValidElement=Mu;Y.lazy=function(t){return{$$typeof:pg,_payload:{_status:-1,_result:t},_init:vg}};Y.memo=function(t,e){return{$$typeof:fg,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=fo.transition;fo.transition={};try{t()}finally{fo.transition=e}};Y.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Y.useCallback=function(t,e){return rt.current.useCallback(t,e)};Y.useContext=function(t){return rt.current.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t){return rt.current.useDeferredValue(t)};Y.useEffect=function(t,e){return rt.current.useEffect(t,e)};Y.useId=function(){return rt.current.useId()};Y.useImperativeHandle=function(t,e,n){return rt.current.useImperativeHandle(t,e,n)};Y.useInsertionEffect=function(t,e){return rt.current.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return rt.current.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return rt.current.useMemo(t,e)};Y.useReducer=function(t,e,n){return rt.current.useReducer(t,e,n)};Y.useRef=function(t){return rt.current.useRef(t)};Y.useState=function(t){return rt.current.useState(t)};Y.useSyncExternalStore=function(t,e,n){return rt.current.useSyncExternalStore(t,e,n)};Y.useTransition=function(){return rt.current.useTransition()};Y.version="18.2.0";(function(t){t.exports=Y})(ce);const wg=rg(ce.exports);var El={},jd={exports:{}},wt={},zd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,M){var R=D.length;D.push(M);e:for(;0<R;){var L=R-1>>>1,U=D[L];if(0<r(U,M))D[L]=M,D[R]=U,R=L;else break e}}function n(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var M=D[0],R=D.pop();if(R!==M){D[0]=R;e:for(var L=0,U=D.length,be=U>>>1;L<be;){var Ce=2*(L+1)-1,G=D[Ce],ee=Ce+1,Ae=D[ee];if(0>r(G,R))ee<U&&0>r(Ae,G)?(D[L]=Ae,D[ee]=R,L=ee):(D[L]=G,D[Ce]=R,L=Ce);else if(ee<U&&0>r(Ae,R))D[L]=Ae,D[ee]=R,L=ee;else break e}}return M}function r(D,M){var R=D.sortIndex-M.sortIndex;return R!==0?R:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,g=!1,m=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var M=n(u);M!==null;){if(M.callback===null)s(u);else if(M.startTime<=D)s(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function S(D){if(_=!1,y(D),!m)if(n(l)!==null)m=!0,V(v);else{var M=n(u);M!==null&&j(S,M.startTime-D)}}function v(D,M){m=!1,_&&(_=!1,f(C),C=-1),g=!0;var R=d;try{for(y(M),h=n(l);h!==null&&(!(h.expirationTime>M)||D&&!O());){var L=h.callback;if(typeof L=="function"){h.callback=null,d=h.priorityLevel;var U=L(h.expirationTime<=M);M=t.unstable_now(),typeof U=="function"?h.callback=U:h===n(l)&&s(l),y(M)}else s(l);h=n(l)}if(h!==null)var be=!0;else{var Ce=n(u);Ce!==null&&j(S,Ce.startTime-M),be=!1}return be}finally{h=null,d=R,g=!1}}var k=!1,T=null,C=-1,A=5,x=-1;function O(){return!(t.unstable_now()-x<A)}function E(){if(T!==null){var D=t.unstable_now();x=D;var M=!0;try{M=T(!0,D)}finally{M?F():(k=!1,T=null)}}else k=!1}var F;if(typeof p=="function")F=function(){p(E)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,W=P.port2;P.port1.onmessage=E,F=function(){W.postMessage(null)}}else F=function(){w(E,0)};function V(D){T=D,k||(k=!0,F())}function j(D,M){C=w(function(){D(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,V(v))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var R=d;d=M;try{return D()}finally{d=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var R=d;d=D;try{return M()}finally{d=R}},t.unstable_scheduleCallback=function(D,M,R){var L=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?L+R:L):R=L,D){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=R+U,D={id:c++,callback:M,priorityLevel:D,startTime:R,expirationTime:U,sortIndex:-1},R>L?(D.sortIndex=R,e(u,D),n(l)===null&&D===n(u)&&(_?(f(C),C=-1):_=!0,j(S,R-L))):(D.sortIndex=U,e(l,D),m||g||(m=!0,V(v))),D},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(D){var M=d;return function(){var R=d;d=M;try{return D.apply(this,arguments)}finally{d=R}}}})(Wd);(function(t){t.exports=Wd})(zd);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd=ce.exports,yt=zd.exports;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ud=new Set,Yr={};function Ts(t,e){er(t,e),er(t+"Capture",e)}function er(t,e){for(Yr[t]=e,t=0;t<e.length;t++)Ud.add(e[t])}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=Object.prototype.hasOwnProperty,Sg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,th={},nh={};function kg(t){return Nl.call(nh,t)?!0:Nl.call(th,t)?!1:Sg.test(t)?nh[t]=!0:(th[t]=!0,!1)}function Tg(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Cg(t,e,n,s){if(e===null||typeof e>"u"||Tg(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function it(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ue[t]=new it(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ue[e]=new it(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ue[t]=new it(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ue[t]=new it(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ue[t]=new it(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ue[t]=new it(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ue[t]=new it(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ue[t]=new it(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ue[t]=new it(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ru=/[\-:]([a-z])/g;function Pu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ru,Pu);Ue[e]=new it(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ru,Pu);Ue[e]=new it(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ru,Pu);Ue[e]=new it(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ue[t]=new it(t,1,!1,t.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ue[t]=new it(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fu(t,e,n,s){var r=Ue.hasOwnProperty(e)?Ue[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Cg(e,n,r,s)&&(n=null),s||r===null?kg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var kn=Bd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bi=Symbol.for("react.element"),Ps=Symbol.for("react.portal"),Fs=Symbol.for("react.fragment"),bu=Symbol.for("react.strict_mode"),Al=Symbol.for("react.profiler"),$d=Symbol.for("react.provider"),Hd=Symbol.for("react.context"),Vu=Symbol.for("react.forward_ref"),Ol=Symbol.for("react.suspense"),Dl=Symbol.for("react.suspense_list"),Lu=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),Gd=Symbol.for("react.offscreen"),sh=Symbol.iterator;function Nr(t){return t===null||typeof t!="object"?null:(t=sh&&t[sh]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,Ja;function Fr(t){if(Ja===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ja=e&&e[1]||""}return`
`+Ja+t}var el=!1;function tl(t,e){if(!t||el)return"";el=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{el=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fr(t):""}function xg(t){switch(t.tag){case 5:return Fr(t.type);case 16:return Fr("Lazy");case 13:return Fr("Suspense");case 19:return Fr("SuspenseList");case 0:case 2:case 15:return t=tl(t.type,!1),t;case 11:return t=tl(t.type.render,!1),t;case 1:return t=tl(t.type,!0),t;default:return""}}function Il(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fs:return"Fragment";case Ps:return"Portal";case Al:return"Profiler";case bu:return"StrictMode";case Ol:return"Suspense";case Dl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Hd:return(t.displayName||"Context")+".Consumer";case $d:return(t._context.displayName||"Context")+".Provider";case Vu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lu:return e=t.displayName||null,e!==null?e:Il(t.type)||"Memo";case On:e=t._payload,t=t._init;try{return Il(t(e))}catch{}}return null}function Eg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Il(e);case 8:return e===bu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $n(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ng(t){var e=Qd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ui(t){t._valueTracker||(t._valueTracker=Ng(t))}function Yd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Qd(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function No(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ml(t,e){var n=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function rh(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=$n(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xd(t,e){e=e.checked,e!=null&&Fu(t,"checked",e,!1)}function Rl(t,e){Xd(t,e);var n=$n(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pl(t,e.type,$n(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ih(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pl(t,e,n){(e!=="number"||No(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var br=Array.isArray;function Gs(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+$n(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Fl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function oh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(br(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$n(n)}}function Zd(t,e){var n=$n(e.value),s=$n(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function ah(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $i,Jd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($i=$i||document.createElement("div"),$i.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$i.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ag=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(t){Ag.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qr[e]=qr[t]})});function ef(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qr.hasOwnProperty(t)&&qr[t]?(""+e).trim():e+"px"}function tf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=ef(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var Og=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vl(t,e){if(e){if(Og[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function Ll(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ql=null;function qu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jl=null,Qs=null,Ys=null;function lh(t){if(t=Oi(t)){if(typeof jl!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Na(e),jl(t.stateNode,t.type,e))}}function nf(t){Qs?Ys?Ys.push(t):Ys=[t]:Qs=t}function sf(){if(Qs){var t=Qs,e=Ys;if(Ys=Qs=null,lh(t),e)for(t=0;t<e.length;t++)lh(e[t])}}function rf(t,e){return t(e)}function of(){}var nl=!1;function af(t,e,n){if(nl)return t(e,n);nl=!0;try{return rf(t,e,n)}finally{nl=!1,(Qs!==null||Ys!==null)&&(of(),sf())}}function Zr(t,e){var n=t.stateNode;if(n===null)return null;var s=Na(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var zl=!1;if(pn)try{var Ar={};Object.defineProperty(Ar,"passive",{get:function(){zl=!0}}),window.addEventListener("test",Ar,Ar),window.removeEventListener("test",Ar,Ar)}catch{zl=!1}function Dg(t,e,n,s,r,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var jr=!1,Ao=null,Oo=!1,Wl=null,Ig={onError:function(t){jr=!0,Ao=t}};function Mg(t,e,n,s,r,i,o,a,l){jr=!1,Ao=null,Dg.apply(Ig,arguments)}function Rg(t,e,n,s,r,i,o,a,l){if(Mg.apply(this,arguments),jr){if(jr){var u=Ao;jr=!1,Ao=null}else throw Error(I(198));Oo||(Oo=!0,Wl=u)}}function Cs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uh(t){if(Cs(t)!==t)throw Error(I(188))}function Pg(t){var e=t.alternate;if(!e){if(e=Cs(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return uh(r),t;if(i===s)return uh(r),e;i=i.sibling}throw Error(I(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==s)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function uf(t){return t=Pg(t),t!==null?cf(t):null}function cf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cf(t);if(e!==null)return e;t=t.sibling}return null}var hf=yt.unstable_scheduleCallback,ch=yt.unstable_cancelCallback,Fg=yt.unstable_shouldYield,bg=yt.unstable_requestPaint,Ee=yt.unstable_now,Vg=yt.unstable_getCurrentPriorityLevel,ju=yt.unstable_ImmediatePriority,df=yt.unstable_UserBlockingPriority,Do=yt.unstable_NormalPriority,Lg=yt.unstable_LowPriority,ff=yt.unstable_IdlePriority,Ta=null,Yt=null;function qg(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Ta,t,void 0,(t.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:Wg,jg=Math.log,zg=Math.LN2;function Wg(t){return t>>>=0,t===0?32:31-(jg(t)/zg|0)|0}var Hi=64,Gi=4194304;function Vr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Io(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?s=Vr(a):(i&=o,i!==0&&(s=Vr(i)))}else o=n&~r,o!==0?s=Vr(o):i!==0&&(s=Vr(i));if(s===0)return 0;if(e!==0&&e!==s&&(e&r)===0&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if((s&4)!==0&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Vt(e),r=1<<n,s|=t[n],e&=~r;return s}function Bg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ug(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Vt(i),a=1<<o,l=r[o];l===-1?((a&n)===0||(a&s)!==0)&&(r[o]=Bg(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Bl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pf(){var t=Hi;return Hi<<=1,(Hi&4194240)===0&&(Hi=64),t}function sl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ni(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vt(e),t[e]=n}function $g(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Vt(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function zu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Vt(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var re=0;function mf(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var gf,Wu,_f,vf,yf,Ul=!1,Qi=[],bn=null,Vn=null,Ln=null,Kr=new Map,Jr=new Map,Mn=[],Hg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hh(t,e){switch(t){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Kr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(e.pointerId)}}function Or(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Oi(e),e!==null&&Wu(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Gg(t,e,n,s,r){switch(e){case"focusin":return bn=Or(bn,t,e,n,s,r),!0;case"dragenter":return Vn=Or(Vn,t,e,n,s,r),!0;case"mouseover":return Ln=Or(Ln,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return Kr.set(i,Or(Kr.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Jr.set(i,Or(Jr.get(i)||null,t,e,n,s,r)),!0}return!1}function wf(t){var e=os(t.target);if(e!==null){var n=Cs(e);if(n!==null){if(e=n.tag,e===13){if(e=lf(n),e!==null){t.blockedOn=e,yf(t.priority,function(){_f(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function po(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$l(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);ql=s,n.target.dispatchEvent(s),ql=null}else return e=Oi(n),e!==null&&Wu(e),t.blockedOn=n,!1;e.shift()}return!0}function dh(t,e,n){po(t)&&n.delete(e)}function Qg(){Ul=!1,bn!==null&&po(bn)&&(bn=null),Vn!==null&&po(Vn)&&(Vn=null),Ln!==null&&po(Ln)&&(Ln=null),Kr.forEach(dh),Jr.forEach(dh)}function Dr(t,e){t.blockedOn===e&&(t.blockedOn=null,Ul||(Ul=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,Qg)))}function ei(t){function e(r){return Dr(r,t)}if(0<Qi.length){Dr(Qi[0],t);for(var n=1;n<Qi.length;n++){var s=Qi[n];s.blockedOn===t&&(s.blockedOn=null)}}for(bn!==null&&Dr(bn,t),Vn!==null&&Dr(Vn,t),Ln!==null&&Dr(Ln,t),Kr.forEach(e),Jr.forEach(e),n=0;n<Mn.length;n++)s=Mn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)wf(n),n.blockedOn===null&&Mn.shift()}var Xs=kn.ReactCurrentBatchConfig,Mo=!0;function Yg(t,e,n,s){var r=re,i=Xs.transition;Xs.transition=null;try{re=1,Bu(t,e,n,s)}finally{re=r,Xs.transition=i}}function Xg(t,e,n,s){var r=re,i=Xs.transition;Xs.transition=null;try{re=4,Bu(t,e,n,s)}finally{re=r,Xs.transition=i}}function Bu(t,e,n,s){if(Mo){var r=$l(t,e,n,s);if(r===null)fl(t,e,s,Ro,n),hh(t,s);else if(Gg(r,t,e,n,s))s.stopPropagation();else if(hh(t,s),e&4&&-1<Hg.indexOf(t)){for(;r!==null;){var i=Oi(r);if(i!==null&&gf(i),i=$l(t,e,n,s),i===null&&fl(t,e,s,Ro,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else fl(t,e,s,null,n)}}var Ro=null;function $l(t,e,n,s){if(Ro=null,t=qu(s),t=os(t),t!==null)if(e=Cs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ro=t,null}function Sf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vg()){case ju:return 1;case df:return 4;case Do:case Lg:return 16;case ff:return 536870912;default:return 16}default:return 16}}var Pn=null,Uu=null,mo=null;function kf(){if(mo)return mo;var t,e=Uu,n=e.length,s,r="value"in Pn?Pn.value:Pn.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return mo=r.slice(t,1<s?1-s:void 0)}function go(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yi(){return!0}function fh(){return!1}function St(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yi:fh,this.isPropagationStopped=fh,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),e}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$u=St(yr),Ai=we({},yr,{view:0,detail:0}),Zg=St(Ai),rl,il,Ir,Ca=we({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ir&&(Ir&&t.type==="mousemove"?(rl=t.screenX-Ir.screenX,il=t.screenY-Ir.screenY):il=rl=0,Ir=t),rl)},movementY:function(t){return"movementY"in t?t.movementY:il}}),ph=St(Ca),Kg=we({},Ca,{dataTransfer:0}),Jg=St(Kg),e_=we({},Ai,{relatedTarget:0}),ol=St(e_),t_=we({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),n_=St(t_),s_=we({},yr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r_=St(s_),i_=we({},yr,{data:0}),mh=St(i_),o_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=l_[t])?!!e[t]:!1}function Hu(){return u_}var c_=we({},Ai,{key:function(t){if(t.key){var e=o_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=go(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(t){return t.type==="keypress"?go(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?go(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),h_=St(c_),d_=we({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gh=St(d_),f_=we({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),p_=St(f_),m_=we({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),g_=St(m_),__=we({},Ca,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v_=St(__),y_=[9,13,27,32],Gu=pn&&"CompositionEvent"in window,zr=null;pn&&"documentMode"in document&&(zr=document.documentMode);var w_=pn&&"TextEvent"in window&&!zr,Tf=pn&&(!Gu||zr&&8<zr&&11>=zr),_h=String.fromCharCode(32),vh=!1;function Cf(t,e){switch(t){case"keyup":return y_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bs=!1;function S_(t,e){switch(t){case"compositionend":return xf(e);case"keypress":return e.which!==32?null:(vh=!0,_h);case"textInput":return t=e.data,t===_h&&vh?null:t;default:return null}}function k_(t,e){if(bs)return t==="compositionend"||!Gu&&Cf(t,e)?(t=kf(),mo=Uu=Pn=null,bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tf&&e.locale!=="ko"?null:e.data;default:return null}}var T_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!T_[t.type]:e==="textarea"}function Ef(t,e,n,s){nf(s),e=Po(e,"onChange"),0<e.length&&(n=new $u("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Wr=null,ti=null;function C_(t){Vf(t,0)}function xa(t){var e=qs(t);if(Yd(e))return t}function x_(t,e){if(t==="change")return e}var Nf=!1;if(pn){var al;if(pn){var ll="oninput"in document;if(!ll){var wh=document.createElement("div");wh.setAttribute("oninput","return;"),ll=typeof wh.oninput=="function"}al=ll}else al=!1;Nf=al&&(!document.documentMode||9<document.documentMode)}function Sh(){Wr&&(Wr.detachEvent("onpropertychange",Af),ti=Wr=null)}function Af(t){if(t.propertyName==="value"&&xa(ti)){var e=[];Ef(e,ti,t,qu(t)),af(C_,e)}}function E_(t,e,n){t==="focusin"?(Sh(),Wr=e,ti=n,Wr.attachEvent("onpropertychange",Af)):t==="focusout"&&Sh()}function N_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xa(ti)}function A_(t,e){if(t==="click")return xa(e)}function O_(t,e){if(t==="input"||t==="change")return xa(e)}function D_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jt=typeof Object.is=="function"?Object.is:D_;function ni(t,e){if(jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Nl.call(e,r)||!jt(t[r],e[r]))return!1}return!0}function kh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Th(t,e){var n=kh(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kh(n)}}function Of(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Of(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Df(){for(var t=window,e=No();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=No(t.document)}return e}function Qu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function I_(t){var e=Df(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Of(n.ownerDocument.documentElement,n)){if(s!==null&&Qu(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=Th(n,i);var o=Th(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var M_=pn&&"documentMode"in document&&11>=document.documentMode,Vs=null,Hl=null,Br=null,Gl=!1;function Ch(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gl||Vs==null||Vs!==No(s)||(s=Vs,"selectionStart"in s&&Qu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Br&&ni(Br,s)||(Br=s,s=Po(Hl,"onSelect"),0<s.length&&(e=new $u("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Vs)))}function Xi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ls={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionend:Xi("Transition","TransitionEnd")},ul={},If={};pn&&(If=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function Ea(t){if(ul[t])return ul[t];if(!Ls[t])return t;var e=Ls[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in If)return ul[t]=e[n];return t}var Mf=Ea("animationend"),Rf=Ea("animationiteration"),Pf=Ea("animationstart"),Ff=Ea("transitionend"),bf=new Map,xh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(t,e){bf.set(t,e),Ts(e,[t])}for(var cl=0;cl<xh.length;cl++){var hl=xh[cl],R_=hl.toLowerCase(),P_=hl[0].toUpperCase()+hl.slice(1);Yn(R_,"on"+P_)}Yn(Mf,"onAnimationEnd");Yn(Rf,"onAnimationIteration");Yn(Pf,"onAnimationStart");Yn("dblclick","onDoubleClick");Yn("focusin","onFocus");Yn("focusout","onBlur");Yn(Ff,"onTransitionEnd");er("onMouseEnter",["mouseout","mouseover"]);er("onMouseLeave",["mouseout","mouseover"]);er("onPointerEnter",["pointerout","pointerover"]);er("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Eh(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,Rg(s,e,void 0,t),t.currentTarget=null}function Vf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;Eh(r,a,u),i=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;Eh(r,a,u),i=l}}}if(Oo)throw t=Wl,Oo=!1,Wl=null,t}function ue(t,e){var n=e[Kl];n===void 0&&(n=e[Kl]=new Set);var s=t+"__bubble";n.has(s)||(Lf(e,t,2,!1),n.add(s))}function dl(t,e,n){var s=0;e&&(s|=4),Lf(n,t,s,e)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function si(t){if(!t[Zi]){t[Zi]=!0,Ud.forEach(function(n){n!=="selectionchange"&&(F_.has(n)||dl(n,!1,t),dl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zi]||(e[Zi]=!0,dl("selectionchange",!1,e))}}function Lf(t,e,n,s){switch(Sf(e)){case 1:var r=Yg;break;case 4:r=Xg;break;default:r=Bu}n=r.bind(null,e,n,t),r=void 0,!zl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function fl(t,e,n,s,r){var i=s;if((e&1)===0&&(e&2)===0&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=os(a),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}a=a.parentNode}}s=s.return}af(function(){var u=i,c=qu(n),h=[];e:{var d=bf.get(t);if(d!==void 0){var g=$u,m=t;switch(t){case"keypress":if(go(n)===0)break e;case"keydown":case"keyup":g=h_;break;case"focusin":m="focus",g=ol;break;case"focusout":m="blur",g=ol;break;case"beforeblur":case"afterblur":g=ol;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ph;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Jg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=p_;break;case Mf:case Rf:case Pf:g=n_;break;case Ff:g=g_;break;case"scroll":g=Zg;break;case"wheel":g=v_;break;case"copy":case"cut":case"paste":g=r_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=gh}var _=(e&4)!==0,w=!_&&t==="scroll",f=_?d!==null?d+"Capture":null:d;_=[];for(var p=u,y;p!==null;){y=p;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,f!==null&&(S=Zr(p,f),S!=null&&_.push(ri(p,S,y)))),w)break;p=p.return}0<_.length&&(d=new g(d,m,null,n,c),h.push({event:d,listeners:_}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&n!==ql&&(m=n.relatedTarget||n.fromElement)&&(os(m)||m[mn]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(m=n.relatedTarget||n.toElement,g=u,m=m?os(m):null,m!==null&&(w=Cs(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=u),g!==m)){if(_=ph,S="onMouseLeave",f="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=gh,S="onPointerLeave",f="onPointerEnter",p="pointer"),w=g==null?d:qs(g),y=m==null?d:qs(m),d=new _(S,p+"leave",g,n,c),d.target=w,d.relatedTarget=y,S=null,os(c)===u&&(_=new _(f,p+"enter",m,n,c),_.target=y,_.relatedTarget=w,S=_),w=S,g&&m)t:{for(_=g,f=m,p=0,y=_;y;y=Is(y))p++;for(y=0,S=f;S;S=Is(S))y++;for(;0<p-y;)_=Is(_),p--;for(;0<y-p;)f=Is(f),y--;for(;p--;){if(_===f||f!==null&&_===f.alternate)break t;_=Is(_),f=Is(f)}_=null}else _=null;g!==null&&Nh(h,d,g,_,!1),m!==null&&w!==null&&Nh(h,w,m,_,!0)}}e:{if(d=u?qs(u):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var v=x_;else if(yh(d))if(Nf)v=O_;else{v=N_;var k=E_}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(v=A_);if(v&&(v=v(t,u))){Ef(h,v,n,c);break e}k&&k(t,d,u),t==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&Pl(d,"number",d.value)}switch(k=u?qs(u):window,t){case"focusin":(yh(k)||k.contentEditable==="true")&&(Vs=k,Hl=u,Br=null);break;case"focusout":Br=Hl=Vs=null;break;case"mousedown":Gl=!0;break;case"contextmenu":case"mouseup":case"dragend":Gl=!1,Ch(h,n,c);break;case"selectionchange":if(M_)break;case"keydown":case"keyup":Ch(h,n,c)}var T;if(Gu)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else bs?Cf(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Tf&&n.locale!=="ko"&&(bs||C!=="onCompositionStart"?C==="onCompositionEnd"&&bs&&(T=kf()):(Pn=c,Uu="value"in Pn?Pn.value:Pn.textContent,bs=!0)),k=Po(u,C),0<k.length&&(C=new mh(C,t,null,n,c),h.push({event:C,listeners:k}),T?C.data=T:(T=xf(n),T!==null&&(C.data=T)))),(T=w_?S_(t,n):k_(t,n))&&(u=Po(u,"onBeforeInput"),0<u.length&&(c=new mh("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=T))}Vf(h,e)})}function ri(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Po(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Zr(t,n),i!=null&&s.unshift(ri(t,i,r)),i=Zr(t,e),i!=null&&s.push(ri(t,i,r))),t=t.return}return s}function Is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nh(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&u!==null&&(a=u,r?(l=Zr(n,i),l!=null&&o.unshift(ri(n,l,a))):r||(l=Zr(n,i),l!=null&&o.push(ri(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var b_=/\r\n?/g,V_=/\u0000|\uFFFD/g;function Ah(t){return(typeof t=="string"?t:""+t).replace(b_,`
`).replace(V_,"")}function Ki(t,e,n){if(e=Ah(e),Ah(t)!==e&&n)throw Error(I(425))}function Fo(){}var Ql=null,Yl=null;function Xl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zl=typeof setTimeout=="function"?setTimeout:void 0,L_=typeof clearTimeout=="function"?clearTimeout:void 0,Oh=typeof Promise=="function"?Promise:void 0,q_=typeof queueMicrotask=="function"?queueMicrotask:typeof Oh<"u"?function(t){return Oh.resolve(null).then(t).catch(j_)}:Zl;function j_(t){setTimeout(function(){throw t})}function pl(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),ei(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);ei(e)}function qn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Dh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wr=Math.random().toString(36).slice(2),Qt="__reactFiber$"+wr,ii="__reactProps$"+wr,mn="__reactContainer$"+wr,Kl="__reactEvents$"+wr,z_="__reactListeners$"+wr,W_="__reactHandles$"+wr;function os(t){var e=t[Qt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mn]||n[Qt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Dh(t);t!==null;){if(n=t[Qt])return n;t=Dh(t)}return e}t=n,n=t.parentNode}return null}function Oi(t){return t=t[Qt]||t[mn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Na(t){return t[ii]||null}var Jl=[],js=-1;function Xn(t){return{current:t}}function he(t){0>js||(t.current=Jl[js],Jl[js]=null,js--)}function ae(t,e){js++,Jl[js]=t.current,t.current=e}var Hn={},Xe=Xn(Hn),ct=Xn(!1),ms=Hn;function tr(t,e){var n=t.type.contextTypes;if(!n)return Hn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function ht(t){return t=t.childContextTypes,t!=null}function bo(){he(ct),he(Xe)}function Ih(t,e,n){if(Xe.current!==Hn)throw Error(I(168));ae(Xe,e),ae(ct,n)}function qf(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(I(108,Eg(t)||"Unknown",r));return we({},n,s)}function Vo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hn,ms=Xe.current,ae(Xe,t),ae(ct,ct.current),!0}function Mh(t,e,n){var s=t.stateNode;if(!s)throw Error(I(169));n?(t=qf(t,e,ms),s.__reactInternalMemoizedMergedChildContext=t,he(ct),he(Xe),ae(Xe,t)):he(ct),ae(ct,n)}var un=null,Aa=!1,ml=!1;function jf(t){un===null?un=[t]:un.push(t)}function B_(t){Aa=!0,jf(t)}function Zn(){if(!ml&&un!==null){ml=!0;var t=0,e=re;try{var n=un;for(re=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}un=null,Aa=!1}catch(r){throw un!==null&&(un=un.slice(t+1)),hf(ju,Zn),r}finally{re=e,ml=!1}}return null}var zs=[],Ws=0,Lo=null,qo=0,Tt=[],Ct=0,gs=null,cn=1,hn="";function ss(t,e){zs[Ws++]=qo,zs[Ws++]=Lo,Lo=t,qo=e}function zf(t,e,n){Tt[Ct++]=cn,Tt[Ct++]=hn,Tt[Ct++]=gs,gs=t;var s=cn;t=hn;var r=32-Vt(s)-1;s&=~(1<<r),n+=1;var i=32-Vt(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,cn=1<<32-Vt(e)+r|n<<r|s,hn=i+t}else cn=1<<i|n<<r|s,hn=t}function Yu(t){t.return!==null&&(ss(t,1),zf(t,1,0))}function Xu(t){for(;t===Lo;)Lo=zs[--Ws],zs[Ws]=null,qo=zs[--Ws],zs[Ws]=null;for(;t===gs;)gs=Tt[--Ct],Tt[Ct]=null,hn=Tt[--Ct],Tt[Ct]=null,cn=Tt[--Ct],Tt[Ct]=null}var vt=null,mt=null,pe=!1,Pt=null;function Wf(t,e){var n=xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Rh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vt=t,mt=qn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vt=t,mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gs!==null?{id:cn,overflow:hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vt=t,mt=null,!0):!1;default:return!1}}function eu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tu(t){if(pe){var e=mt;if(e){var n=e;if(!Rh(t,e)){if(eu(t))throw Error(I(418));e=qn(n.nextSibling);var s=vt;e&&Rh(t,e)?Wf(s,n):(t.flags=t.flags&-4097|2,pe=!1,vt=t)}}else{if(eu(t))throw Error(I(418));t.flags=t.flags&-4097|2,pe=!1,vt=t}}}function Ph(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vt=t}function Ji(t){if(t!==vt)return!1;if(!pe)return Ph(t),pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xl(t.type,t.memoizedProps)),e&&(e=mt)){if(eu(t))throw Bf(),Error(I(418));for(;e;)Wf(t,e),e=qn(e.nextSibling)}if(Ph(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mt=qn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mt=null}}else mt=vt?qn(t.stateNode.nextSibling):null;return!0}function Bf(){for(var t=mt;t;)t=qn(t.nextSibling)}function nr(){mt=vt=null,pe=!1}function Zu(t){Pt===null?Pt=[t]:Pt.push(t)}var U_=kn.ReactCurrentBatchConfig;function Mt(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var jo=Xn(null),zo=null,Bs=null,Ku=null;function Ju(){Ku=Bs=zo=null}function ec(t){var e=jo.current;he(jo),t._currentValue=e}function nu(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Zs(t,e){zo=t,Ku=Bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(ut=!0),t.firstContext=null)}function At(t){var e=t._currentValue;if(Ku!==t)if(t={context:t,memoizedValue:e,next:null},Bs===null){if(zo===null)throw Error(I(308));Bs=t,zo.dependencies={lanes:0,firstContext:t}}else Bs=Bs.next=t;return e}var as=null;function tc(t){as===null?as=[t]:as.push(t)}function Uf(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,tc(e)):(n.next=r.next,r.next=n),e.interleaved=n,gn(t,s)}function gn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Dn=!1;function nc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $f(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(K&2)!==0){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,gn(t,n)}return r=s.interleaved,r===null?(e.next=e,tc(s)):(e.next=r.next,r.next=e),s.interleaved=e,gn(t,n)}function _o(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,zu(t,n)}}function Fh(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wo(t,e,n,s){var r=t.updateQueue;Dn=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=r.baseState;o=0,c=u=l=null,a=i;do{var d=a.lane,g=a.eventTime;if((s&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,_=a;switch(d=e,g=n,_.tag){case 1:if(m=_.payload,typeof m=="function"){h=m.call(g,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,d=typeof m=="function"?m.call(g,h,d):m,d==null)break e;h=we({},h,d);break e;case 2:Dn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(1);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);vs|=o,t.lanes=o,t.memoizedState=h}}function bh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(I(191,r));r.call(s)}}}var Hf=new Bd.Component().refs;function su(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Oa={isMounted:function(t){return(t=t._reactInternals)?Cs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=st(),r=Wn(t),i=dn(s,r);i.payload=e,n!=null&&(i.callback=n),e=jn(t,i,r),e!==null&&(Lt(e,t,r,s),_o(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=st(),r=Wn(t),i=dn(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=jn(t,i,r),e!==null&&(Lt(e,t,r,s),_o(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=st(),s=Wn(t),r=dn(n,s);r.tag=2,e!=null&&(r.callback=e),e=jn(t,r,s),e!==null&&(Lt(e,t,s,n),_o(e,t,s))}};function Vh(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!ni(n,s)||!ni(r,i):!0}function Gf(t,e,n){var s=!1,r=Hn,i=e.contextType;return typeof i=="object"&&i!==null?i=At(i):(r=ht(e)?ms:Xe.current,s=e.contextTypes,i=(s=s!=null)?tr(t,r):Hn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Oa,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function Lh(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Oa.enqueueReplaceState(e,e.state,null)}function ru(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=Hf,nc(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=At(i):(i=ht(e)?ms:Xe.current,r.context=tr(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(su(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Oa.enqueueReplaceState(r,r.state,null),Wo(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Mr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var s=n.stateNode}if(!s)throw Error(I(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;a===Hf&&(a=r.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function eo(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qh(t){var e=t._init;return e(t._payload)}function Qf(t){function e(f,p){if(t){var y=f.deletions;y===null?(f.deletions=[p],f.flags|=16):y.push(p)}}function n(f,p){if(!t)return null;for(;p!==null;)e(f,p),p=p.sibling;return null}function s(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function r(f,p){return f=Bn(f,p),f.index=0,f.sibling=null,f}function i(f,p,y){return f.index=y,t?(y=f.alternate,y!==null?(y=y.index,y<p?(f.flags|=2,p):y):(f.flags|=2,p)):(f.flags|=1048576,p)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,p,y,S){return p===null||p.tag!==6?(p=kl(y,f.mode,S),p.return=f,p):(p=r(p,y),p.return=f,p)}function l(f,p,y,S){var v=y.type;return v===Fs?c(f,p,y.props.children,S,y.key):p!==null&&(p.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===On&&qh(v)===p.type)?(S=r(p,y.props),S.ref=Mr(f,p,y),S.return=f,S):(S=To(y.type,y.key,y.props,null,f.mode,S),S.ref=Mr(f,p,y),S.return=f,S)}function u(f,p,y,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Tl(y,f.mode,S),p.return=f,p):(p=r(p,y.children||[]),p.return=f,p)}function c(f,p,y,S,v){return p===null||p.tag!==7?(p=hs(y,f.mode,S,v),p.return=f,p):(p=r(p,y),p.return=f,p)}function h(f,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=kl(""+p,f.mode,y),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Bi:return y=To(p.type,p.key,p.props,null,f.mode,y),y.ref=Mr(f,null,p),y.return=f,y;case Ps:return p=Tl(p,f.mode,y),p.return=f,p;case On:var S=p._init;return h(f,S(p._payload),y)}if(br(p)||Nr(p))return p=hs(p,f.mode,y,null),p.return=f,p;eo(f,p)}return null}function d(f,p,y,S){var v=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return v!==null?null:a(f,p,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bi:return y.key===v?l(f,p,y,S):null;case Ps:return y.key===v?u(f,p,y,S):null;case On:return v=y._init,d(f,p,v(y._payload),S)}if(br(y)||Nr(y))return v!==null?null:c(f,p,y,S,null);eo(f,y)}return null}function g(f,p,y,S,v){if(typeof S=="string"&&S!==""||typeof S=="number")return f=f.get(y)||null,a(p,f,""+S,v);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bi:return f=f.get(S.key===null?y:S.key)||null,l(p,f,S,v);case Ps:return f=f.get(S.key===null?y:S.key)||null,u(p,f,S,v);case On:var k=S._init;return g(f,p,y,k(S._payload),v)}if(br(S)||Nr(S))return f=f.get(y)||null,c(p,f,S,v,null);eo(p,S)}return null}function m(f,p,y,S){for(var v=null,k=null,T=p,C=p=0,A=null;T!==null&&C<y.length;C++){T.index>C?(A=T,T=null):A=T.sibling;var x=d(f,T,y[C],S);if(x===null){T===null&&(T=A);break}t&&T&&x.alternate===null&&e(f,T),p=i(x,p,C),k===null?v=x:k.sibling=x,k=x,T=A}if(C===y.length)return n(f,T),pe&&ss(f,C),v;if(T===null){for(;C<y.length;C++)T=h(f,y[C],S),T!==null&&(p=i(T,p,C),k===null?v=T:k.sibling=T,k=T);return pe&&ss(f,C),v}for(T=s(f,T);C<y.length;C++)A=g(T,f,C,y[C],S),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?C:A.key),p=i(A,p,C),k===null?v=A:k.sibling=A,k=A);return t&&T.forEach(function(O){return e(f,O)}),pe&&ss(f,C),v}function _(f,p,y,S){var v=Nr(y);if(typeof v!="function")throw Error(I(150));if(y=v.call(y),y==null)throw Error(I(151));for(var k=v=null,T=p,C=p=0,A=null,x=y.next();T!==null&&!x.done;C++,x=y.next()){T.index>C?(A=T,T=null):A=T.sibling;var O=d(f,T,x.value,S);if(O===null){T===null&&(T=A);break}t&&T&&O.alternate===null&&e(f,T),p=i(O,p,C),k===null?v=O:k.sibling=O,k=O,T=A}if(x.done)return n(f,T),pe&&ss(f,C),v;if(T===null){for(;!x.done;C++,x=y.next())x=h(f,x.value,S),x!==null&&(p=i(x,p,C),k===null?v=x:k.sibling=x,k=x);return pe&&ss(f,C),v}for(T=s(f,T);!x.done;C++,x=y.next())x=g(T,f,C,x.value,S),x!==null&&(t&&x.alternate!==null&&T.delete(x.key===null?C:x.key),p=i(x,p,C),k===null?v=x:k.sibling=x,k=x);return t&&T.forEach(function(E){return e(f,E)}),pe&&ss(f,C),v}function w(f,p,y,S){if(typeof y=="object"&&y!==null&&y.type===Fs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Bi:e:{for(var v=y.key,k=p;k!==null;){if(k.key===v){if(v=y.type,v===Fs){if(k.tag===7){n(f,k.sibling),p=r(k,y.props.children),p.return=f,f=p;break e}}else if(k.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===On&&qh(v)===k.type){n(f,k.sibling),p=r(k,y.props),p.ref=Mr(f,k,y),p.return=f,f=p;break e}n(f,k);break}else e(f,k);k=k.sibling}y.type===Fs?(p=hs(y.props.children,f.mode,S,y.key),p.return=f,f=p):(S=To(y.type,y.key,y.props,null,f.mode,S),S.ref=Mr(f,p,y),S.return=f,f=S)}return o(f);case Ps:e:{for(k=y.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(f,p.sibling),p=r(p,y.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else e(f,p);p=p.sibling}p=Tl(y,f.mode,S),p.return=f,f=p}return o(f);case On:return k=y._init,w(f,p,k(y._payload),S)}if(br(y))return m(f,p,y,S);if(Nr(y))return _(f,p,y,S);eo(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(f,p.sibling),p=r(p,y),p.return=f,f=p):(n(f,p),p=kl(y,f.mode,S),p.return=f,f=p),o(f)):n(f,p)}return w}var sr=Qf(!0),Yf=Qf(!1),Di={},Xt=Xn(Di),oi=Xn(Di),ai=Xn(Di);function ls(t){if(t===Di)throw Error(I(174));return t}function sc(t,e){switch(ae(ai,e),ae(oi,t),ae(Xt,Di),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bl(e,t)}he(Xt),ae(Xt,e)}function rr(){he(Xt),he(oi),he(ai)}function Xf(t){ls(ai.current);var e=ls(Xt.current),n=bl(e,t.type);e!==n&&(ae(oi,t),ae(Xt,n))}function rc(t){oi.current===t&&(he(Xt),he(oi))}var _e=Xn(0);function Bo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gl=[];function ic(){for(var t=0;t<gl.length;t++)gl[t]._workInProgressVersionPrimary=null;gl.length=0}var vo=kn.ReactCurrentDispatcher,_l=kn.ReactCurrentBatchConfig,_s=0,ye=null,Me=null,Ve=null,Uo=!1,Ur=!1,li=0,$_=0;function Ge(){throw Error(I(321))}function oc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jt(t[n],e[n]))return!1;return!0}function ac(t,e,n,s,r,i){if(_s=i,ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vo.current=t===null||t.memoizedState===null?Y_:X_,t=n(s,r),Ur){i=0;do{if(Ur=!1,li=0,25<=i)throw Error(I(301));i+=1,Ve=Me=null,e.updateQueue=null,vo.current=Z_,t=n(s,r)}while(Ur)}if(vo.current=$o,e=Me!==null&&Me.next!==null,_s=0,Ve=Me=ye=null,Uo=!1,e)throw Error(I(300));return t}function lc(){var t=li!==0;return li=0,t}function Ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?ye.memoizedState=Ve=t:Ve=Ve.next=t,Ve}function Ot(){if(Me===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=Ve===null?ye.memoizedState:Ve.next;if(e!==null)Ve=e,Me=t;else{if(t===null)throw Error(I(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ve===null?ye.memoizedState=Ve=t:Ve=Ve.next=t}return Ve}function ui(t,e){return typeof e=="function"?e(t):e}function vl(t){var e=Ot(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var s=Me,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((_s&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=s):l=l.next=h,ye.lanes|=c,vs|=c}u=u.next}while(u!==null&&u!==i);l===null?o=s:l.next=a,jt(s,e.memoizedState)||(ut=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,ye.lanes|=i,vs|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yl(t){var e=Ot(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);jt(i,e.memoizedState)||(ut=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function Zf(){}function Kf(t,e){var n=ye,s=Ot(),r=e(),i=!jt(s.memoizedState,r);if(i&&(s.memoizedState=r,ut=!0),s=s.queue,uc(tp.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,ci(9,ep.bind(null,n,s,r,e),void 0,null),Le===null)throw Error(I(349));(_s&30)!==0||Jf(n,e,r)}return r}function Jf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ep(t,e,n,s){e.value=n,e.getSnapshot=s,np(e)&&sp(t)}function tp(t,e,n){return n(function(){np(e)&&sp(t)})}function np(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jt(t,n)}catch{return!0}}function sp(t){var e=gn(t,1);e!==null&&Lt(e,t,1,-1)}function jh(t){var e=Ht();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:t},e.queue=t,t=t.dispatch=Q_.bind(null,ye,t),[e.memoizedState,t]}function ci(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function rp(){return Ot().memoizedState}function yo(t,e,n,s){var r=Ht();ye.flags|=t,r.memoizedState=ci(1|e,n,void 0,s===void 0?null:s)}function Da(t,e,n,s){var r=Ot();s=s===void 0?null:s;var i=void 0;if(Me!==null){var o=Me.memoizedState;if(i=o.destroy,s!==null&&oc(s,o.deps)){r.memoizedState=ci(e,n,i,s);return}}ye.flags|=t,r.memoizedState=ci(1|e,n,i,s)}function zh(t,e){return yo(8390656,8,t,e)}function uc(t,e){return Da(2048,8,t,e)}function ip(t,e){return Da(4,2,t,e)}function op(t,e){return Da(4,4,t,e)}function ap(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lp(t,e,n){return n=n!=null?n.concat([t]):null,Da(4,4,ap.bind(null,e,t),n)}function cc(){}function up(t,e){var n=Ot();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&oc(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function cp(t,e){var n=Ot();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&oc(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function hp(t,e,n){return(_s&21)===0?(t.baseState&&(t.baseState=!1,ut=!0),t.memoizedState=n):(jt(n,e)||(n=pf(),ye.lanes|=n,vs|=n,t.baseState=!0),e)}function H_(t,e){var n=re;re=n!==0&&4>n?n:4,t(!0);var s=_l.transition;_l.transition={};try{t(!1),e()}finally{re=n,_l.transition=s}}function dp(){return Ot().memoizedState}function G_(t,e,n){var s=Wn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},fp(t))pp(e,n);else if(n=Uf(t,e,n,s),n!==null){var r=st();Lt(n,t,s,r),mp(n,e,s)}}function Q_(t,e,n){var s=Wn(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(fp(t))pp(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(r.hasEagerState=!0,r.eagerState=a,jt(a,o)){var l=e.interleaved;l===null?(r.next=r,tc(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=Uf(t,e,r,s),n!==null&&(r=st(),Lt(n,t,s,r),mp(n,e,s))}}function fp(t){var e=t.alternate;return t===ye||e!==null&&e===ye}function pp(t,e){Ur=Uo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mp(t,e,n){if((n&4194240)!==0){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,zu(t,n)}}var $o={readContext:At,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},Y_={readContext:At,useCallback:function(t,e){return Ht().memoizedState=[t,e===void 0?null:e],t},useContext:At,useEffect:zh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,yo(4194308,4,ap.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yo(4194308,4,t,e)},useInsertionEffect:function(t,e){return yo(4,2,t,e)},useMemo:function(t,e){var n=Ht();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Ht();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=G_.bind(null,ye,t),[s.memoizedState,t]},useRef:function(t){var e=Ht();return t={current:t},e.memoizedState=t},useState:jh,useDebugValue:cc,useDeferredValue:function(t){return Ht().memoizedState=t},useTransition:function(){var t=jh(!1),e=t[0];return t=H_.bind(null,t[1]),Ht().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=ye,r=Ht();if(pe){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),Le===null)throw Error(I(349));(_s&30)!==0||Jf(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,zh(tp.bind(null,s,i,t),[t]),s.flags|=2048,ci(9,ep.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Ht(),e=Le.identifierPrefix;if(pe){var n=hn,s=cn;n=(s&~(1<<32-Vt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=li++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},X_={readContext:At,useCallback:up,useContext:At,useEffect:uc,useImperativeHandle:lp,useInsertionEffect:ip,useLayoutEffect:op,useMemo:cp,useReducer:vl,useRef:rp,useState:function(){return vl(ui)},useDebugValue:cc,useDeferredValue:function(t){var e=Ot();return hp(e,Me.memoizedState,t)},useTransition:function(){var t=vl(ui)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:Zf,useSyncExternalStore:Kf,useId:dp,unstable_isNewReconciler:!1},Z_={readContext:At,useCallback:up,useContext:At,useEffect:uc,useImperativeHandle:lp,useInsertionEffect:ip,useLayoutEffect:op,useMemo:cp,useReducer:yl,useRef:rp,useState:function(){return yl(ui)},useDebugValue:cc,useDeferredValue:function(t){var e=Ot();return Me===null?e.memoizedState=t:hp(e,Me.memoizedState,t)},useTransition:function(){var t=yl(ui)[0],e=Ot().memoizedState;return[t,e]},useMutableSource:Zf,useSyncExternalStore:Kf,useId:dp,unstable_isNewReconciler:!1};function ir(t,e){try{var n="",s=e;do n+=xg(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function wl(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function iu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var K_=typeof WeakMap=="function"?WeakMap:Map;function gp(t,e,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Go||(Go=!0,mu=s),iu(t,e)},n}function _p(t,e,n){n=dn(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){iu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){iu(t,e),typeof s!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Wh(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new K_;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=dv.bind(null,t,e,n),e.then(t,t))}function Bh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Uh(t,e,n,s,r){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dn(-1,1),e.tag=2,jn(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var J_=kn.ReactCurrentOwner,ut=!1;function Ke(t,e,n,s){e.child=t===null?Yf(e,null,n,s):sr(e,t.child,n,s)}function $h(t,e,n,s,r){n=n.render;var i=e.ref;return Zs(e,r),s=ac(t,e,n,s,i,r),n=lc(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,_n(t,e,r)):(pe&&n&&Yu(e),e.flags|=1,Ke(t,e,s,r),e.child)}function Hh(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!vc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,vp(t,e,i,s,r)):(t=To(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,(t.lanes&r)===0){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ni,n(o,s)&&t.ref===e.ref)return _n(t,e,r)}return e.flags|=1,t=Bn(i,s),t.ref=e.ref,t.return=e,e.child=t}function vp(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(ni(i,s)&&t.ref===e.ref)if(ut=!1,e.pendingProps=s=i,(t.lanes&r)!==0)(t.flags&131072)!==0&&(ut=!0);else return e.lanes=t.lanes,_n(t,e,r)}return ou(t,e,n,s,r)}function yp(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae($s,pt),pt|=n;else{if((n&1073741824)===0)return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae($s,pt),pt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,ae($s,pt),pt|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,ae($s,pt),pt|=s;return Ke(t,e,r,n),e.child}function wp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ou(t,e,n,s,r){var i=ht(n)?ms:Xe.current;return i=tr(e,i),Zs(e,r),n=ac(t,e,n,s,i,r),s=lc(),t!==null&&!ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,_n(t,e,r)):(pe&&s&&Yu(e),e.flags|=1,Ke(t,e,n,r),e.child)}function Gh(t,e,n,s,r){if(ht(n)){var i=!0;Vo(e)}else i=!1;if(Zs(e,r),e.stateNode===null)wo(t,e),Gf(e,n,s),ru(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=At(u):(u=ht(n)?ms:Xe.current,u=tr(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==u)&&Lh(e,o,s,u),Dn=!1;var d=e.memoizedState;o.state=d,Wo(e,s,o,r),l=e.memoizedState,a!==s||d!==l||ct.current||Dn?(typeof c=="function"&&(su(e,n,c,s),l=e.memoizedState),(a=Dn||Vh(e,n,a,s,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,$f(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Mt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=At(l):(l=ht(n)?ms:Xe.current,l=tr(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Lh(e,o,s,l),Dn=!1,d=e.memoizedState,o.state=d,Wo(e,s,o,r);var m=e.memoizedState;a!==h||d!==m||ct.current||Dn?(typeof g=="function"&&(su(e,n,g,s),m=e.memoizedState),(u=Dn||Vh(e,n,u,s,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=m),o.props=s,o.state=m,o.context=l,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),s=!1)}return au(t,e,n,s,i,r)}function au(t,e,n,s,r,i){wp(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&Mh(e,n,!1),_n(t,e,i);s=e.stateNode,J_.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=sr(e,t.child,null,i),e.child=sr(e,null,a,i)):Ke(t,e,a,i),e.memoizedState=s.state,r&&Mh(e,n,!0),e.child}function Sp(t){var e=t.stateNode;e.pendingContext?Ih(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ih(t,e.context,!1),sc(t,e.containerInfo)}function Qh(t,e,n,s,r){return nr(),Zu(r),e.flags|=256,Ke(t,e,n,s),e.child}var lu={dehydrated:null,treeContext:null,retryLane:0};function uu(t){return{baseLanes:t,cachePool:null,transitions:null}}function kp(t,e,n){var s=e.pendingProps,r=_e.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ae(_e,r&1),t===null)return tu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},(s&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ra(o,s,0,null),t=hs(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=uu(n),e.memoizedState=lu,t):hc(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return ev(t,e,o,s,a,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:s.children};return(o&1)===0&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Bn(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Bn(a,i):(i=hs(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?uu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=lu,s}return i=t.child,t=i.sibling,s=Bn(i,{mode:"visible",children:s.children}),(e.mode&1)===0&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function hc(t,e){return e=Ra({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function to(t,e,n,s){return s!==null&&Zu(s),sr(e,t.child,null,n),t=hc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ev(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=wl(Error(I(422))),to(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=Ra({mode:"visible",children:s.children},r,0,null),i=hs(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,(e.mode&1)!==0&&sr(e,t.child,null,o),e.child.memoizedState=uu(o),e.memoizedState=lu,i);if((e.mode&1)===0)return to(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(I(419)),s=wl(i,s,void 0),to(t,e,o,s)}if(a=(o&t.childLanes)!==0,ut||a){if(s=Le,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=(r&(s.suspendedLanes|o))!==0?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,gn(t,r),Lt(s,t,r,-1))}return _c(),s=wl(Error(I(421))),to(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=fv.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,mt=qn(r.nextSibling),vt=e,pe=!0,Pt=null,t!==null&&(Tt[Ct++]=cn,Tt[Ct++]=hn,Tt[Ct++]=gs,cn=t.id,hn=t.overflow,gs=e),e=hc(e,s.children),e.flags|=4096,e)}function Yh(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),nu(t.return,e,n)}function Sl(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Tp(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Ke(t,e,s.children,n),s=_e.current,(s&2)!==0)s=s&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yh(t,n,e);else if(t.tag===19)Yh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ae(_e,s),(e.mode&1)===0)e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Bo(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Sl(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Bo(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Sl(e,!0,n,null,i);break;case"together":Sl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wo(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vs|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=Bn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tv(t,e,n){switch(e.tag){case 3:Sp(e),nr();break;case 5:Xf(e);break;case 1:ht(e.type)&&Vo(e);break;case 4:sc(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;ae(jo,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ae(_e,_e.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?kp(t,e,n):(ae(_e,_e.current&1),t=_n(t,e,n),t!==null?t.sibling:null);ae(_e,_e.current&1);break;case 19:if(s=(n&e.childLanes)!==0,(t.flags&128)!==0){if(s)return Tp(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ae(_e,_e.current),s)break;return null;case 22:case 23:return e.lanes=0,yp(t,e,n)}return _n(t,e,n)}var Cp,cu,xp,Ep;Cp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cu=function(){};xp=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,ls(Xt.current);var i=null;switch(n){case"input":r=Ml(t,r),s=Ml(t,s),i=[];break;case"select":r=we({},r,{value:void 0}),s=we({},s,{value:void 0}),i=[];break;case"textarea":r=Fl(t,r),s=Fl(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Fo)}Vl(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var l=s[u];if(a=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ue("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Ep=function(t,e,n,s){n!==s&&(e.flags|=4)};function Rr(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function nv(t,e,n){var s=e.pendingProps;switch(Xu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return ht(e.type)&&bo(),Qe(e),null;case 3:return s=e.stateNode,rr(),he(ct),he(Xe),ic(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ji(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Pt!==null&&(vu(Pt),Pt=null))),cu(t,e),Qe(e),null;case 5:rc(e);var r=ls(ai.current);if(n=e.type,t!==null&&e.stateNode!=null)xp(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(I(166));return Qe(e),null}if(t=ls(Xt.current),Ji(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[Qt]=e,s[ii]=i,t=(e.mode&1)!==0,n){case"dialog":ue("cancel",s),ue("close",s);break;case"iframe":case"object":case"embed":ue("load",s);break;case"video":case"audio":for(r=0;r<Lr.length;r++)ue(Lr[r],s);break;case"source":ue("error",s);break;case"img":case"image":case"link":ue("error",s),ue("load",s);break;case"details":ue("toggle",s);break;case"input":rh(s,i),ue("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ue("invalid",s);break;case"textarea":oh(s,i),ue("invalid",s)}Vl(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ki(s.textContent,a,t),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ki(s.textContent,a,t),r=["children",""+a]):Yr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ue("scroll",s)}switch(n){case"input":Ui(s),ih(s,i,!0);break;case"textarea":Ui(s),ah(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Fo)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Qt]=e,t[ii]=s,Cp(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ll(n,s),n){case"dialog":ue("cancel",t),ue("close",t),r=s;break;case"iframe":case"object":case"embed":ue("load",t),r=s;break;case"video":case"audio":for(r=0;r<Lr.length;r++)ue(Lr[r],t);r=s;break;case"source":ue("error",t),r=s;break;case"img":case"image":case"link":ue("error",t),ue("load",t),r=s;break;case"details":ue("toggle",t),r=s;break;case"input":rh(t,s),r=Ml(t,s),ue("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=we({},s,{value:void 0}),ue("invalid",t);break;case"textarea":oh(t,s),r=Fl(t,s),ue("invalid",t);break;default:r=s}Vl(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?tf(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Jd(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xr(t,l):typeof l=="number"&&Xr(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ue("scroll",t):l!=null&&Fu(t,i,l,o))}switch(n){case"input":Ui(t),ih(t,s,!1);break;case"textarea":Ui(t),ah(t);break;case"option":s.value!=null&&t.setAttribute("value",""+$n(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?Gs(t,!!s.multiple,i,!1):s.defaultValue!=null&&Gs(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Fo)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qe(e),null;case 6:if(t&&e.stateNode!=null)Ep(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(I(166));if(n=ls(ai.current),ls(Xt.current),Ji(e)){if(s=e.stateNode,n=e.memoizedProps,s[Qt]=e,(i=s.nodeValue!==n)&&(t=vt,t!==null))switch(t.tag){case 3:Ki(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ki(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Qt]=e,e.stateNode=s}return Qe(e),null;case 13:if(he(_e),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pe&&mt!==null&&(e.mode&1)!==0&&(e.flags&128)===0)Bf(),nr(),e.flags|=98560,i=!1;else if(i=Ji(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(I(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[Qt]=e}else nr(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Qe(e),i=!1}else Pt!==null&&(vu(Pt),Pt=null),i=!0;if(!i)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(_e.current&1)!==0?Re===0&&(Re=3):_c())),e.updateQueue!==null&&(e.flags|=4),Qe(e),null);case 4:return rr(),cu(t,e),t===null&&si(e.stateNode.containerInfo),Qe(e),null;case 10:return ec(e.type._context),Qe(e),null;case 17:return ht(e.type)&&bo(),Qe(e),null;case 19:if(he(_e),i=e.memoizedState,i===null)return Qe(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)Rr(i,!1);else{if(Re!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=Bo(t),o!==null){for(e.flags|=128,Rr(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ae(_e,_e.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ee()>or&&(e.flags|=128,s=!0,Rr(i,!1),e.lanes=4194304)}else{if(!s)if(t=Bo(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Rr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pe)return Qe(e),null}else 2*Ee()-i.renderingStartTime>or&&n!==1073741824&&(e.flags|=128,s=!0,Rr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ee(),e.sibling=null,n=_e.current,ae(_e,s?n&1|2:n&1),e):(Qe(e),null);case 22:case 23:return gc(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&(e.mode&1)!==0?(pt&1073741824)!==0&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function sv(t,e){switch(Xu(e),e.tag){case 1:return ht(e.type)&&bo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rr(),he(ct),he(Xe),ic(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return rc(e),null;case 13:if(he(_e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));nr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(_e),null;case 4:return rr(),null;case 10:return ec(e.type._context),null;case 22:case 23:return gc(),null;case 24:return null;default:return null}}var no=!1,Ye=!1,rv=typeof WeakSet=="function"?WeakSet:Set,q=null;function Us(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ke(t,e,s)}else n.current=null}function hu(t,e,n){try{n()}catch(s){ke(t,e,s)}}var Xh=!1;function iv(t,e){if(Ql=Mo,t=Df(),Qu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var g;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==i||s!==0&&h.nodeType!==3||(l=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)d=h,h=g;for(;;){if(h===t)break t;if(d===n&&++u===r&&(a=o),d===i&&++c===s&&(l=o),(g=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yl={focusedElem:t,selectionRange:n},Mo=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var m=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,w=m.memoizedState,f=e.stateNode,p=f.getSnapshotBeforeUpdate(e.elementType===e.type?_:Mt(e.type,_),w);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(S){ke(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return m=Xh,Xh=!1,m}function $r(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&hu(e,n,i)}r=r.next}while(r!==s)}}function Ia(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function du(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Np(t){var e=t.alternate;e!==null&&(t.alternate=null,Np(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qt],delete e[ii],delete e[Kl],delete e[z_],delete e[W_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ap(t){return t.tag===5||t.tag===3||t.tag===4}function Zh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ap(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fo));else if(s!==4&&(t=t.child,t!==null))for(fu(t,e,n),t=t.sibling;t!==null;)fu(t,e,n),t=t.sibling}function pu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(pu(t,e,n),t=t.sibling;t!==null;)pu(t,e,n),t=t.sibling}var ze=null,Rt=!1;function Nn(t,e,n){for(n=n.child;n!==null;)Op(t,e,n),n=n.sibling}function Op(t,e,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Ta,n)}catch{}switch(n.tag){case 5:Ye||Us(n,e);case 6:var s=ze,r=Rt;ze=null,Nn(t,e,n),ze=s,Rt=r,ze!==null&&(Rt?(t=ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Rt?(t=ze,n=n.stateNode,t.nodeType===8?pl(t.parentNode,n):t.nodeType===1&&pl(t,n),ei(t)):pl(ze,n.stateNode));break;case 4:s=ze,r=Rt,ze=n.stateNode.containerInfo,Rt=!0,Nn(t,e,n),ze=s,Rt=r;break;case 0:case 11:case 14:case 15:if(!Ye&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&((i&2)!==0||(i&4)!==0)&&hu(n,e,o),r=r.next}while(r!==s)}Nn(t,e,n);break;case 1:if(!Ye&&(Us(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){ke(n,e,a)}Nn(t,e,n);break;case 21:Nn(t,e,n);break;case 22:n.mode&1?(Ye=(s=Ye)||n.memoizedState!==null,Nn(t,e,n),Ye=s):Nn(t,e,n);break;default:Nn(t,e,n)}}function Kh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rv),e.forEach(function(s){var r=pv.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function It(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ze=a.stateNode,Rt=!1;break e;case 3:ze=a.stateNode.containerInfo,Rt=!0;break e;case 4:ze=a.stateNode.containerInfo,Rt=!0;break e}a=a.return}if(ze===null)throw Error(I(160));Op(i,o,r),ze=null,Rt=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){ke(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Dp(e,t),e=e.sibling}function Dp(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(It(e,t),$t(t),s&4){try{$r(3,t,t.return),Ia(3,t)}catch(_){ke(t,t.return,_)}try{$r(5,t,t.return)}catch(_){ke(t,t.return,_)}}break;case 1:It(e,t),$t(t),s&512&&n!==null&&Us(n,n.return);break;case 5:if(It(e,t),$t(t),s&512&&n!==null&&Us(n,n.return),t.flags&32){var r=t.stateNode;try{Xr(r,"")}catch(_){ke(t,t.return,_)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Xd(r,i),Ll(a,o);var u=Ll(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?tf(r,h):c==="dangerouslySetInnerHTML"?Jd(r,h):c==="children"?Xr(r,h):Fu(r,c,h,u)}switch(a){case"input":Rl(r,i);break;case"textarea":Zd(r,i);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Gs(r,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?Gs(r,!!i.multiple,i.defaultValue,!0):Gs(r,!!i.multiple,i.multiple?[]:"",!1))}r[ii]=i}catch(_){ke(t,t.return,_)}}break;case 6:if(It(e,t),$t(t),s&4){if(t.stateNode===null)throw Error(I(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(_){ke(t,t.return,_)}}break;case 3:if(It(e,t),$t(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ei(e.containerInfo)}catch(_){ke(t,t.return,_)}break;case 4:It(e,t),$t(t);break;case 13:It(e,t),$t(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(pc=Ee())),s&4&&Kh(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ye=(u=Ye)||c,It(e,t),Ye=u):It(e,t),$t(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(q=t,c=t.child;c!==null;){for(h=q=c;q!==null;){switch(d=q,g=d.child,d.tag){case 0:case 11:case 14:case 15:$r(4,d,d.return);break;case 1:Us(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){s=d,n=d.return;try{e=s,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(_){ke(s,n,_)}}break;case 5:Us(d,d.return);break;case 22:if(d.memoizedState!==null){ed(h);continue}}g!==null?(g.return=d,q=g):ed(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ef("display",o))}catch(_){ke(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){ke(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:It(e,t),$t(t),s&4&&Kh(t);break;case 21:break;default:It(e,t),$t(t)}}function $t(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ap(n)){var s=n;break e}n=n.return}throw Error(I(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Xr(r,""),s.flags&=-33);var i=Zh(t);pu(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Zh(t);fu(t,a,o);break;default:throw Error(I(161))}}catch(l){ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ov(t,e,n){q=t,Ip(t)}function Ip(t,e,n){for(var s=(t.mode&1)!==0;q!==null;){var r=q,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||no;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Ye;a=no;var u=Ye;if(no=o,(Ye=l)&&!u)for(q=r;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?td(r):l!==null?(l.return=o,q=l):td(r);for(;i!==null;)q=i,Ip(i),i=i.sibling;q=r,no=a,Ye=u}Jh(t)}else(r.subtreeFlags&8772)!==0&&i!==null?(i.return=r,q=i):Jh(t)}}function Jh(t){for(;q!==null;){var e=q;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Ye||Ia(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Ye)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Mt(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&bh(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bh(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ei(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ye||e.flags&512&&du(e)}catch(d){ke(e,e.return,d)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function ed(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function td(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ia(4,e)}catch(l){ke(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){ke(e,r,l)}}var i=e.return;try{du(e)}catch(l){ke(e,i,l)}break;case 5:var o=e.return;try{du(e)}catch(l){ke(e,o,l)}}}catch(l){ke(e,e.return,l)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var av=Math.ceil,Ho=kn.ReactCurrentDispatcher,dc=kn.ReactCurrentOwner,Et=kn.ReactCurrentBatchConfig,K=0,Le=null,Oe=null,Be=0,pt=0,$s=Xn(0),Re=0,hi=null,vs=0,Ma=0,fc=0,Hr=null,at=null,pc=0,or=1/0,an=null,Go=!1,mu=null,zn=null,so=!1,Fn=null,Qo=0,Gr=0,gu=null,So=-1,ko=0;function st(){return(K&6)!==0?Ee():So!==-1?So:So=Ee()}function Wn(t){return(t.mode&1)===0?1:(K&2)!==0&&Be!==0?Be&-Be:U_.transition!==null?(ko===0&&(ko=pf()),ko):(t=re,t!==0||(t=window.event,t=t===void 0?16:Sf(t.type)),t)}function Lt(t,e,n,s){if(50<Gr)throw Gr=0,gu=null,Error(I(185));Ni(t,n,s),((K&2)===0||t!==Le)&&(t===Le&&((K&2)===0&&(Ma|=n),Re===4&&Rn(t,Be)),dt(t,s),n===1&&K===0&&(e.mode&1)===0&&(or=Ee()+500,Aa&&Zn()))}function dt(t,e){var n=t.callbackNode;Ug(t,e);var s=Io(t,t===Le?Be:0);if(s===0)n!==null&&ch(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&ch(n),e===1)t.tag===0?B_(nd.bind(null,t)):jf(nd.bind(null,t)),q_(function(){(K&6)===0&&Zn()}),n=null;else{switch(mf(s)){case 1:n=ju;break;case 4:n=df;break;case 16:n=Do;break;case 536870912:n=ff;break;default:n=Do}n=qp(n,Mp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Mp(t,e){if(So=-1,ko=0,(K&6)!==0)throw Error(I(327));var n=t.callbackNode;if(Ks()&&t.callbackNode!==n)return null;var s=Io(t,t===Le?Be:0);if(s===0)return null;if((s&30)!==0||(s&t.expiredLanes)!==0||e)e=Yo(t,s);else{e=s;var r=K;K|=2;var i=Pp();(Le!==t||Be!==e)&&(an=null,or=Ee()+500,cs(t,e));do try{cv();break}catch(a){Rp(t,a)}while(1);Ju(),Ho.current=i,K=r,Oe!==null?e=0:(Le=null,Be=0,e=Re)}if(e!==0){if(e===2&&(r=Bl(t),r!==0&&(s=r,e=_u(t,r))),e===1)throw n=hi,cs(t,0),Rn(t,s),dt(t,Ee()),n;if(e===6)Rn(t,s);else{if(r=t.current.alternate,(s&30)===0&&!lv(r)&&(e=Yo(t,s),e===2&&(i=Bl(t),i!==0&&(s=i,e=_u(t,i))),e===1))throw n=hi,cs(t,0),Rn(t,s),dt(t,Ee()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(I(345));case 2:rs(t,at,an);break;case 3:if(Rn(t,s),(s&130023424)===s&&(e=pc+500-Ee(),10<e)){if(Io(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){st(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Zl(rs.bind(null,t,at,an),e);break}rs(t,at,an);break;case 4:if(Rn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-Vt(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=Ee()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*av(s/1960))-s,10<s){t.timeoutHandle=Zl(rs.bind(null,t,at,an),s);break}rs(t,at,an);break;case 5:rs(t,at,an);break;default:throw Error(I(329))}}}return dt(t,Ee()),t.callbackNode===n?Mp.bind(null,t):null}function _u(t,e){var n=Hr;return t.current.memoizedState.isDehydrated&&(cs(t,e).flags|=256),t=Yo(t,e),t!==2&&(e=at,at=n,e!==null&&vu(e)),t}function vu(t){at===null?at=t:at.push.apply(at,t)}function lv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!jt(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rn(t,e){for(e&=~fc,e&=~Ma,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vt(e),s=1<<n;t[n]=-1,e&=~s}}function nd(t){if((K&6)!==0)throw Error(I(327));Ks();var e=Io(t,0);if((e&1)===0)return dt(t,Ee()),null;var n=Yo(t,e);if(t.tag!==0&&n===2){var s=Bl(t);s!==0&&(e=s,n=_u(t,s))}if(n===1)throw n=hi,cs(t,0),Rn(t,e),dt(t,Ee()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rs(t,at,an),dt(t,Ee()),null}function mc(t,e){var n=K;K|=1;try{return t(e)}finally{K=n,K===0&&(or=Ee()+500,Aa&&Zn())}}function ys(t){Fn!==null&&Fn.tag===0&&(K&6)===0&&Ks();var e=K;K|=1;var n=Et.transition,s=re;try{if(Et.transition=null,re=1,t)return t()}finally{re=s,Et.transition=n,K=e,(K&6)===0&&Zn()}}function gc(){pt=$s.current,he($s)}function cs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,L_(n)),Oe!==null)for(n=Oe.return;n!==null;){var s=n;switch(Xu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&bo();break;case 3:rr(),he(ct),he(Xe),ic();break;case 5:rc(s);break;case 4:rr();break;case 13:he(_e);break;case 19:he(_e);break;case 10:ec(s.type._context);break;case 22:case 23:gc()}n=n.return}if(Le=t,Oe=t=Bn(t.current,null),Be=pt=e,Re=0,hi=null,fc=Ma=vs=0,at=Hr=null,as!==null){for(e=0;e<as.length;e++)if(n=as[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}as=null}return t}function Rp(t,e){do{var n=Oe;try{if(Ju(),vo.current=$o,Uo){for(var s=ye.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Uo=!1}if(_s=0,Ve=Me=ye=null,Ur=!1,li=0,dc.current=null,n===null||n.return===null){Re=1,hi=e,Oe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Be,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if((c.mode&1)===0&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Bh(o);if(g!==null){g.flags&=-257,Uh(g,o,a,i,e),g.mode&1&&Wh(i,u,e),e=g,l=u;var m=e.updateQueue;if(m===null){var _=new Set;_.add(l),e.updateQueue=_}else m.add(l);break e}else{if((e&1)===0){Wh(i,u,e),_c();break e}l=Error(I(426))}}else if(pe&&a.mode&1){var w=Bh(o);if(w!==null){(w.flags&65536)===0&&(w.flags|=256),Uh(w,o,a,i,e),Zu(ir(l,a));break e}}i=l=ir(l,a),Re!==4&&(Re=2),Hr===null?Hr=[i]:Hr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var f=gp(i,l,e);Fh(i,f);break e;case 1:a=l;var p=i.type,y=i.stateNode;if((i.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(zn===null||!zn.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=_p(i,a,e);Fh(i,S);break e}}i=i.return}while(i!==null)}bp(n)}catch(v){e=v,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(1)}function Pp(){var t=Ho.current;return Ho.current=$o,t===null?$o:t}function _c(){(Re===0||Re===3||Re===2)&&(Re=4),Le===null||(vs&268435455)===0&&(Ma&268435455)===0||Rn(Le,Be)}function Yo(t,e){var n=K;K|=2;var s=Pp();(Le!==t||Be!==e)&&(an=null,cs(t,e));do try{uv();break}catch(r){Rp(t,r)}while(1);if(Ju(),K=n,Ho.current=s,Oe!==null)throw Error(I(261));return Le=null,Be=0,Re}function uv(){for(;Oe!==null;)Fp(Oe)}function cv(){for(;Oe!==null&&!Fg();)Fp(Oe)}function Fp(t){var e=Lp(t.alternate,t,pt);t.memoizedProps=t.pendingProps,e===null?bp(t):Oe=e,dc.current=null}function bp(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=nv(n,e,pt),n!==null){Oe=n;return}}else{if(n=sv(n,e),n!==null){n.flags&=32767,Oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Re=6,Oe=null;return}}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);Re===0&&(Re=5)}function rs(t,e,n){var s=re,r=Et.transition;try{Et.transition=null,re=1,hv(t,e,n,s)}finally{Et.transition=r,re=s}return null}function hv(t,e,n,s){do Ks();while(Fn!==null);if((K&6)!==0)throw Error(I(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if($g(t,i),t===Le&&(Oe=Le=null,Be=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||so||(so=!0,qp(Do,function(){return Ks(),null})),i=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||i){i=Et.transition,Et.transition=null;var o=re;re=1;var a=K;K|=4,dc.current=null,iv(t,n),Dp(n,t),I_(Yl),Mo=!!Ql,Yl=Ql=null,t.current=n,ov(n),bg(),K=a,re=o,Et.transition=i}else t.current=n;if(so&&(so=!1,Fn=t,Qo=r),i=t.pendingLanes,i===0&&(zn=null),qg(n.stateNode),dt(t,Ee()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Go)throw Go=!1,t=mu,mu=null,t;return(Qo&1)!==0&&t.tag!==0&&Ks(),i=t.pendingLanes,(i&1)!==0?t===gu?Gr++:(Gr=0,gu=t):Gr=0,Zn(),null}function Ks(){if(Fn!==null){var t=mf(Qo),e=Et.transition,n=re;try{if(Et.transition=null,re=16>t?16:t,Fn===null)var s=!1;else{if(t=Fn,Fn=null,Qo=0,(K&6)!==0)throw Error(I(331));var r=K;for(K|=4,q=t.current;q!==null;){var i=q,o=i.child;if((q.flags&16)!==0){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(q=u;q!==null;){var c=q;switch(c.tag){case 0:case 11:case 15:$r(8,c,i)}var h=c.child;if(h!==null)h.return=c,q=h;else for(;q!==null;){c=q;var d=c.sibling,g=c.return;if(Np(c),c===u){q=null;break}if(d!==null){d.return=g,q=d;break}q=g}}}var m=i.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}q=i}}if((i.subtreeFlags&2064)!==0&&o!==null)o.return=i,q=o;else e:for(;q!==null;){if(i=q,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:$r(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,q=f;break e}q=i.return}}var p=t.current;for(q=p;q!==null;){o=q;var y=o.child;if((o.subtreeFlags&2064)!==0&&y!==null)y.return=o,q=y;else e:for(o=p;q!==null;){if(a=q,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:Ia(9,a)}}catch(v){ke(a,a.return,v)}if(a===o){q=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,q=S;break e}q=a.return}}if(K=r,Zn(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Ta,t)}catch{}s=!0}return s}finally{re=n,Et.transition=e}}return!1}function sd(t,e,n){e=ir(n,e),e=gp(t,e,1),t=jn(t,e,1),e=st(),t!==null&&(Ni(t,1,e),dt(t,e))}function ke(t,e,n){if(t.tag===3)sd(t,t,n);else for(;e!==null;){if(e.tag===3){sd(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(zn===null||!zn.has(s))){t=ir(n,t),t=_p(e,t,1),e=jn(e,t,1),t=st(),e!==null&&(Ni(e,1,t),dt(e,t));break}}e=e.return}}function dv(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=st(),t.pingedLanes|=t.suspendedLanes&n,Le===t&&(Be&n)===n&&(Re===4||Re===3&&(Be&130023424)===Be&&500>Ee()-pc?cs(t,0):fc|=n),dt(t,e)}function Vp(t,e){e===0&&((t.mode&1)===0?e=1:(e=Gi,Gi<<=1,(Gi&130023424)===0&&(Gi=4194304)));var n=st();t=gn(t,e),t!==null&&(Ni(t,e,n),dt(t,n))}function fv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Vp(t,n)}function pv(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(e),Vp(t,n)}var Lp;Lp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ct.current)ut=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return ut=!1,tv(t,e,n);ut=(t.flags&131072)!==0}else ut=!1,pe&&(e.flags&1048576)!==0&&zf(e,qo,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;wo(t,e),t=e.pendingProps;var r=tr(e,Xe.current);Zs(e,n),r=ac(null,e,s,t,r,n);var i=lc();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ht(s)?(i=!0,Vo(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,nc(e),r.updater=Oa,e.stateNode=r,r._reactInternals=e,ru(e,s,t,n),e=au(null,e,s,!0,i,n)):(e.tag=0,pe&&i&&Yu(e),Ke(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(wo(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=gv(s),t=Mt(s,t),r){case 0:e=ou(null,e,s,t,n);break e;case 1:e=Gh(null,e,s,t,n);break e;case 11:e=$h(null,e,s,t,n);break e;case 14:e=Hh(null,e,s,Mt(s.type,t),n);break e}throw Error(I(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Mt(s,r),ou(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Mt(s,r),Gh(t,e,s,r,n);case 3:e:{if(Sp(e),t===null)throw Error(I(387));s=e.pendingProps,i=e.memoizedState,r=i.element,$f(t,e),Wo(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=ir(Error(I(423)),e),e=Qh(t,e,s,n,r);break e}else if(s!==r){r=ir(Error(I(424)),e),e=Qh(t,e,s,n,r);break e}else for(mt=qn(e.stateNode.containerInfo.firstChild),vt=e,pe=!0,Pt=null,n=Yf(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nr(),s===r){e=_n(t,e,n);break e}Ke(t,e,s,n)}e=e.child}return e;case 5:return Xf(e),t===null&&tu(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,Xl(s,r)?o=null:i!==null&&Xl(s,i)&&(e.flags|=32),wp(t,e),Ke(t,e,o,n),e.child;case 6:return t===null&&tu(e),null;case 13:return kp(t,e,n);case 4:return sc(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=sr(e,null,s,n):Ke(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Mt(s,r),$h(t,e,s,r,n);case 7:return Ke(t,e,e.pendingProps,n),e.child;case 8:return Ke(t,e,e.pendingProps.children,n),e.child;case 12:return Ke(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,ae(jo,s._currentValue),s._currentValue=o,i!==null)if(jt(i.value,o)){if(i.children===r.children&&!ct.current){e=_n(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=dn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),nu(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),nu(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ke(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Zs(e,n),r=At(r),s=s(r),e.flags|=1,Ke(t,e,s,n),e.child;case 14:return s=e.type,r=Mt(s,e.pendingProps),r=Mt(s.type,r),Hh(t,e,s,r,n);case 15:return vp(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Mt(s,r),wo(t,e),e.tag=1,ht(s)?(t=!0,Vo(e)):t=!1,Zs(e,n),Gf(e,s,r),ru(e,s,r,n),au(null,e,s,!0,t,n);case 19:return Tp(t,e,n);case 22:return yp(t,e,n)}throw Error(I(156,e.tag))};function qp(t,e){return hf(t,e)}function mv(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(t,e,n,s){return new mv(t,e,n,s)}function vc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gv(t){if(typeof t=="function")return vc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vu)return 11;if(t===Lu)return 14}return 2}function Bn(t,e){var n=t.alternate;return n===null?(n=xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function To(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")vc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fs:return hs(n.children,r,i,e);case bu:o=8,r|=8;break;case Al:return t=xt(12,n,e,r|2),t.elementType=Al,t.lanes=i,t;case Ol:return t=xt(13,n,e,r),t.elementType=Ol,t.lanes=i,t;case Dl:return t=xt(19,n,e,r),t.elementType=Dl,t.lanes=i,t;case Gd:return Ra(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $d:o=10;break e;case Hd:o=9;break e;case Vu:o=11;break e;case Lu:o=14;break e;case On:o=16,s=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=xt(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function hs(t,e,n,s){return t=xt(7,t,s,e),t.lanes=n,t}function Ra(t,e,n,s){return t=xt(22,t,s,e),t.elementType=Gd,t.lanes=n,t.stateNode={isHidden:!1},t}function kl(t,e,n){return t=xt(6,t,null,e),t.lanes=n,t}function Tl(t,e,n){return e=xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _v(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sl(0),this.expirationTimes=sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sl(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function yc(t,e,n,s,r,i,o,a,l){return t=new _v(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=xt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nc(i),t}function vv(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ps,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function jp(t){if(!t)return Hn;t=t._reactInternals;e:{if(Cs(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(ht(n))return qf(t,n,e)}return e}function zp(t,e,n,s,r,i,o,a,l){return t=yc(n,s,!0,t,r,i,o,a,l),t.context=jp(null),n=t.current,s=st(),r=Wn(n),i=dn(s,r),i.callback=e!=null?e:null,jn(n,i,r),t.current.lanes=r,Ni(t,r,s),dt(t,s),t}function Pa(t,e,n,s){var r=e.current,i=st(),o=Wn(r);return n=jp(n),e.context===null?e.context=n:e.pendingContext=n,e=dn(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=jn(r,e,o),t!==null&&(Lt(t,r,o,i),_o(t,r,o)),o}function Xo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wc(t,e){rd(t,e),(t=t.alternate)&&rd(t,e)}function yv(){return null}var Wp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sc(t){this._internalRoot=t}Fa.prototype.render=Sc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));Pa(t,e,null,null)};Fa.prototype.unmount=Sc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ys(function(){Pa(null,t,null,null)}),e[mn]=null}};function Fa(t){this._internalRoot=t}Fa.prototype.unstable_scheduleHydration=function(t){if(t){var e=vf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mn.length&&e!==0&&e<Mn[n].priority;n++);Mn.splice(n,0,t),n===0&&wf(t)}};function kc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ba(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function id(){}function wv(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=Xo(o);i.call(u)}}var o=zp(e,s,t,0,null,!1,!1,"",id);return t._reactRootContainer=o,t[mn]=o.current,si(t.nodeType===8?t.parentNode:t),ys(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var u=Xo(l);a.call(u)}}var l=yc(t,0,!1,null,null,!1,!1,"",id);return t._reactRootContainer=l,t[mn]=l.current,si(t.nodeType===8?t.parentNode:t),ys(function(){Pa(e,l,n,s)}),l}function Va(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var l=Xo(o);a.call(l)}}Pa(e,o,t,r)}else o=wv(n,e,t,r,s);return Xo(o)}gf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Vr(e.pendingLanes);n!==0&&(zu(e,n|1),dt(e,Ee()),(K&6)===0&&(or=Ee()+500,Zn()))}break;case 13:ys(function(){var s=gn(t,1);if(s!==null){var r=st();Lt(s,t,1,r)}}),wc(t,1)}};Wu=function(t){if(t.tag===13){var e=gn(t,134217728);if(e!==null){var n=st();Lt(e,t,134217728,n)}wc(t,134217728)}};_f=function(t){if(t.tag===13){var e=Wn(t),n=gn(t,e);if(n!==null){var s=st();Lt(n,t,e,s)}wc(t,e)}};vf=function(){return re};yf=function(t,e){var n=re;try{return re=t,e()}finally{re=n}};jl=function(t,e,n){switch(e){case"input":if(Rl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=Na(s);if(!r)throw Error(I(90));Yd(s),Rl(s,r)}}}break;case"textarea":Zd(t,n);break;case"select":e=n.value,e!=null&&Gs(t,!!n.multiple,e,!1)}};rf=mc;of=ys;var Sv={usingClientEntryPoint:!1,Events:[Oi,qs,Na,nf,sf,mc]},Pr={findFiberByHostInstance:os,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},kv={bundleType:Pr.bundleType,version:Pr.version,rendererPackageName:Pr.rendererPackageName,rendererConfig:Pr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uf(t),t===null?null:t.stateNode},findFiberByHostInstance:Pr.findFiberByHostInstance||yv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{Ta=ro.inject(kv),Yt=ro}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sv;wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kc(e))throw Error(I(200));return vv(t,e,null,n)};wt.createRoot=function(t,e){if(!kc(t))throw Error(I(299));var n=!1,s="",r=Wp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=yc(t,1,!1,null,null,n,!1,s,r),t[mn]=e.current,si(t.nodeType===8?t.parentNode:t),new Sc(e)};wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=uf(e),t=t===null?null:t.stateNode,t};wt.flushSync=function(t){return ys(t)};wt.hydrate=function(t,e,n){if(!ba(e))throw Error(I(200));return Va(null,t,e,!0,n)};wt.hydrateRoot=function(t,e,n){if(!kc(t))throw Error(I(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=Wp;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zp(e,null,t,1,n!=null?n:null,r,!1,i,o),t[mn]=e.current,si(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Fa(e)};wt.render=function(t,e,n){if(!ba(e))throw Error(I(200));return Va(null,t,e,!1,n)};wt.unmountComponentAtNode=function(t){if(!ba(t))throw Error(I(40));return t._reactRootContainer?(ys(function(){Va(null,null,t,!1,function(){t._reactRootContainer=null,t[mn]=null})}),!0):!1};wt.unstable_batchedUpdates=mc;wt.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!ba(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return Va(t,e,n,!1,s)};wt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=wt})(jd);var od=jd.exports;El.createRoot=od.createRoot,El.hydrateRoot=od.hydrateRoot;const Bp="14.7.77",ad=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),ld=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),yu=(t,e)=>({startTime:e,type:"setValue",value:t}),Up=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),$p=(t,e,{startTime:n,target:s,timeConstant:r})=>s+(e-s)*Math.exp((n-t)/r),Hs=t=>t.type==="exponentialRampToValue",Zo=t=>t.type==="linearRampToValue",In=t=>Hs(t)||Zo(t),Tc=t=>t.type==="setValue",ln=t=>t.type==="setValueCurve",Ko=(t,e,n,s)=>{const r=t[e];return r===void 0?s:In(r)||Tc(r)?r.value:ln(r)?r.values[r.values.length-1]:$p(n,Ko(t,e-1,r.startTime,s),r)},ud=(t,e,n,s,r)=>n===void 0?[s.insertTime,r]:In(n)?[n.endTime,n.value]:Tc(n)?[n.startTime,n.value]:ln(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,Ko(t,e-1,n.startTime,r)],wu=t=>t.type==="cancelAndHold",Su=t=>t.type==="cancelScheduledValues",An=t=>wu(t)||Su(t)?t.cancelTime:Hs(t)||Zo(t)?t.endTime:t.startTime,cd=(t,e,n,{endTime:s,value:r})=>n===r?r:0<n&&0<r||n<0&&r<0?n*(r/n)**((t-e)/(s-e)):0,hd=(t,e,n,{endTime:s,value:r})=>n+(t-e)/(s-e)*(r-n),Tv=(t,e)=>{const n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]},Cv=(t,{duration:e,startTime:n,values:s})=>{const r=(t-n)/e*(s.length-1);return Tv(s,r)},io=t=>t.type==="setTarget";class xv{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=An(e);if(wu(e)||Su(e)){const s=this._automationEvents.findIndex(i=>Su(e)&&ln(i)?i.startTime+i.duration>=n:An(i)>=n),r=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),wu(e)){const i=this._automationEvents[this._automationEvents.length-1];if(r!==void 0&&In(r)){if(io(i))throw new Error("The internal list is malformed.");const o=ln(i)?i.startTime+i.duration:An(i),a=ln(i)?i.values[i.values.length-1]:i.value,l=Hs(r)?cd(n,o,a,r):hd(n,o,a,r),u=Hs(r)?ad(l,n,this._currenTime):ld(l,n,this._currenTime);this._automationEvents.push(u)}i!==void 0&&io(i)&&this._automationEvents.push(yu(this.getValue(n),n)),i!==void 0&&ln(i)&&i.startTime+i.duration>n&&(this._automationEvents[this._automationEvents.length-1]=Up(new Float32Array([6,7]),i.startTime,n-i.startTime))}}else{const s=this._automationEvents.findIndex(o=>An(o)>n),r=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(r!==void 0&&ln(r)&&An(r)+r.duration>n)return!1;const i=Hs(e)?ad(e.value,e.endTime,this._currenTime):Zo(e)?ld(e.value,n,this._currenTime):e;if(s===-1)this._automationEvents.push(i);else{if(ln(e)&&n+e.duration>An(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(s=>An(s)>e);if(n>1){const s=this._automationEvents.slice(n-1),r=s[0];io(r)&&s.unshift(yu(Ko(this._automationEvents,n-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>An(o)>e),s=this._automationEvents[n],r=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[r];if(i!==void 0&&io(i)&&(s===void 0||!In(s)||s.insertTime>e))return $p(e,Ko(this._automationEvents,r-1,i.startTime,this._defaultValue),i);if(i!==void 0&&Tc(i)&&(s===void 0||!In(s)))return i.value;if(i!==void 0&&ln(i)&&(s===void 0||!In(s)||i.startTime+i.duration>e))return e<i.startTime+i.duration?Cv(e,i):i.values[i.values.length-1];if(i!==void 0&&In(i)&&(s===void 0||!In(s)))return i.value;if(s!==void 0&&Hs(s)){const[o,a]=ud(this._automationEvents,r,i,s,this._defaultValue);return cd(e,o,a,s)}if(s!==void 0&&Zo(s)){const[o,a]=ud(this._automationEvents,r,i,s,this._defaultValue);return hd(e,o,a,s)}return this._defaultValue}}const Ev=t=>({cancelTime:t,type:"cancelAndHold"}),Nv=t=>({cancelTime:t,type:"cancelScheduledValues"}),Av=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),Ov=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),Dv=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),Iv=()=>new DOMException("","AbortError"),Mv=t=>(e,n,[s,r,i],o)=>{t(e[r],[n,s,i],a=>a[0]===n&&a[1]===s,o)},Rv=t=>(e,n,s)=>{const r=[];for(let i=0;i<s.numberOfInputs;i+=1)r.push(new Set);t.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},Pv=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},ar=new WeakSet,Hp=new WeakMap,Cc=new WeakMap,Gp=new WeakMap,xc=new WeakMap,La=new WeakMap,Qp=new WeakMap,ku=new WeakMap,Tu=new WeakMap,Cu=new WeakMap,Yp={construct(){return Yp}},Fv=t=>{try{const e=new Proxy(t,Yp);new e}catch{return!1}return!0},dd=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,fd=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),r=s.match(dd);for(;r!==null;){const i=r[1].slice(1,-1),o=r[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),s=s.slice(r[0].length).replace(/^[\s]+/,""),r=s.match(dd)}return[n.join(";"),s]},pd=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},md=t=>{if(!Fv(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},bv=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>{let g=0;return(m,_,w={credentials:"omit"})=>{const f=c.get(m);if(f!==void 0&&f.has(_))return Promise.resolve();const p=u.get(m);if(p!==void 0){const v=p.get(_);if(v!==void 0)return v}const y=i(m),S=y.audioWorklet===void 0?r(_).then(([v,k])=>{const[T,C]=fd(v,k),A=`${T};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${C}
})})(window,'_AWGS')`;return n(A)}).then(()=>{const v=d._AWGS.pop();if(v===void 0)throw new SyntaxError;s(y.currentTime,y.sampleRate,()=>v(class{},void 0,(k,T)=>{if(k.trim()==="")throw e();const C=Tu.get(y);if(C!==void 0){if(C.has(k))throw e();md(T),pd(T.parameterDescriptors),C.set(k,T)}else md(T),pd(T.parameterDescriptors),Tu.set(y,new Map([[k,T]]))},y.sampleRate,void 0,void 0))}):Promise.all([r(_),Promise.resolve(t(h,h))]).then(([[v,k],T])=>{const C=g+1;g=C;const[A,x]=fd(v,k),P=`${A};((AudioWorkletProcessor,registerProcessor)=>{${x}
})(${T?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${T?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${T?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${C}',class extends AudioWorkletProcessor{process(){return !1}})`,W=new Blob([P],{type:"application/javascript; charset=utf-8"}),V=URL.createObjectURL(W);return y.audioWorklet.addModule(V,w).then(()=>{if(a(y))return y;const j=o(y);return j.audioWorklet.addModule(V,w).then(()=>j)}).then(j=>{if(l===null)throw new SyntaxError;try{new l(j,`__sac${C}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(V))});return p===void 0?u.set(m,new Map([[_,S]])):p.set(_,S),S.then(()=>{const v=c.get(m);v===void 0?c.set(m,new Set([_])):v.add(_)}).finally(()=>{const v=u.get(m);v!==void 0&&v.delete(_)}),S}},zt=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},qa=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[s]=n;return t.delete(s),s},Xp=(t,e,n,s)=>{const r=zt(t,e),i=qa(r,o=>o[0]===n&&o[1]===s);return r.size===0&&t.delete(e),i},Ii=t=>zt(Qp,t),lr=t=>{if(ar.has(t))throw new Error("The AudioNode is already stored.");ar.add(t),Ii(t).forEach(e=>e(!0))},Zp=t=>"port"in t,Mi=t=>{if(!ar.has(t))throw new Error("The AudioNode is not stored.");ar.delete(t),Ii(t).forEach(e=>e(!1))},xu=(t,e)=>{!Zp(t)&&e.every(n=>n.size===0)&&Mi(t)},Vv=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>{const g=new WeakMap;return(m,_,w,f,p)=>{const{activeInputs:y,passiveInputs:S}=i(_),{outputs:v}=i(m),k=a(m),T=C=>{const A=l(_),x=l(m);if(C){const O=Xp(S,m,w,f);t(y,m,O,!1),!p&&!h(m)&&n(x,A,w,f),d(_)&&lr(_)}else{const O=s(y,m,w,f);e(S,f,O,!1),!p&&!h(m)&&r(x,A,w,f);const E=o(_);if(E===0)c(_)&&xu(_,y);else{const F=g.get(_);F!==void 0&&clearTimeout(F),g.set(_,setTimeout(()=>{c(_)&&xu(_,y)},E*1e3))}}};return u(v,[_,w,f],C=>C[0]===_&&C[1]===w&&C[2]===f,!0)?(k.add(T),c(m)?t(y,m,[w,f,T],!0):e(S,f,[m,w,T],!0),!0):!1}},Lv=t=>(e,n,[s,r,i],o)=>{const a=e.get(s);a===void 0?e.set(s,new Set([[r,n,i]])):t(a,[r,n,i],l=>l[0]===r&&l[1]===n,o)},qv=t=>(e,n)=>{const s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(e.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(s),s.disconnect()};n.addEventListener("ended",r)},jv=t=>(e,n)=>{t(e).add(n)},zv={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Wv=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=r(a),c={...zv,...l},h=s(u,c),d=i(u)?e():null;super(a,!1,h,d),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Ze=(t,e)=>t.context===e,Bv=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,u)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Jo=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},tn=()=>new DOMException("","IndexSizeError"),Ec=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(s){throw s.code===12?tn():s}})(t.getChannelData)},Uv={numberOfChannels:1},$v=(t,e,n,s,r,i,o,a)=>{let l=null;return class Kp{constructor(c){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:g}={...Uv,...c};l===null&&(l=new r(1,1,44100));const m=s!==null&&e(i,i)?new s({length:h,numberOfChannels:d,sampleRate:g}):l.createBuffer(d,h,g);if(m.numberOfChannels===0)throw n();return typeof m.copyFromChannel!="function"?(o(m),Ec(m)):e(Jo,()=>Jo(m))||a(m),t.add(m),m}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===Kp.prototype||t.has(c)}}},lt=-34028234663852886e22,Je=-lt,fn=t=>ar.has(t),Hv={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Gv=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...Hv,...c},g=r(h,d),m=o(h),_=m?e():null;super(u,!1,g,_),this._audioBufferSourceNodeRenderer=_,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=g,this._onended=null,this._playbackRate=n(this,m,g.playbackRate,Je,lt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const c=typeof u=="function"?a(this,u):null;this._nativeAudioBufferSourceNode.onended=c;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===c?u:h}get playbackRate(){return this._playbackRate}start(u=0,c=0,h){if(this._nativeAudioBufferSourceNode.start(u,c,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[u,c]:[u,c,h]),this.context.state!=="closed"){lr(this);const d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),fn(this)&&Mi(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},Qv=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=Ze(h,c);if(!d){const g={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(c,g),o!==null&&h.start(...o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.playbackRate,h.playbackRate):await s(c,u.playbackRate,h.playbackRate),await r(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},Yv=t=>"playbackRate"in t,Xv=t=>"frequency"in t&&"gain"in t,Zv=t=>"offset"in t,Kv=t=>!("frequency"in t)&&"gain"in t,Jv=t=>"detune"in t&&"frequency"in t,ey=t=>"pan"in t,tt=t=>zt(Hp,t),Ri=t=>zt(Gp,t),Eu=(t,e)=>{const{activeInputs:n}=tt(t);n.forEach(r=>r.forEach(([i])=>{e.includes(t)||Eu(i,[...e,t])}));const s=Yv(t)?[t.playbackRate]:Zp(t)?Array.from(t.parameters.values()):Xv(t)?[t.Q,t.detune,t.frequency,t.gain]:Zv(t)?[t.offset]:Kv(t)?[t.gain]:Jv(t)?[t.detune,t.frequency]:ey(t)?[t.pan]:[];for(const r of s){const i=Ri(r);i!==void 0&&i.activeInputs.forEach(([o])=>Eu(o,e))}fn(t)&&Mi(t)},Jp=t=>{Eu(t.destination,[])},ty=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),ny=(t,e,n,s,r,i,o,a,l)=>class extends t{constructor(c={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new l(c)}catch(m){throw m.code===12&&m.message==="sampleRate is not in range"?n():m}if(h===null)throw s();if(!ty(c.latencyHint))throw new TypeError(`The provided value '${c.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(c.sampleRate!==void 0&&h.sampleRate!==c.sampleRate)throw n();super(h,2);const{latencyHint:d}=c,{sampleRate:g}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:d==="balanced"?512/g:d==="interactive"||d===void 0?256/g:d==="playback"?1024/g:Math.max(2,Math.min(128,Math.round(d*g/128)))*128/g,this._nativeAudioContext=h,l.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const m=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",m)};h.addEventListener("statechange",m)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Jp(this)}))}createMediaElementSource(c){return new r(this,{mediaElement:c})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(c){return new o(this,{mediaStream:c})}createMediaStreamTrackSource(c){return new a(this,{mediaStreamTrack:c})}resume(){return this._state==="suspended"?new Promise((c,h)=>{const d=()=>{this._nativeAudioContext.removeEventListener("statechange",d),this._nativeAudioContext.state==="running"?c():this.resume().then(c,h)};this._nativeAudioContext.addEventListener("statechange",d)}):this._nativeAudioContext.resume().catch(c=>{throw c===void 0||c.code===15?e():c})}suspend(){return this._nativeAudioContext.suspend().catch(c=>{throw c===void 0?e():c})}},sy=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d=o(h),g=r(h,c,d),m=d?e(a):null;super(u,!1,g,m),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=g}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},ry=t=>{const e=new WeakMap,n=async(s,r)=>{const i=r.destination;return e.set(r,i),await t(s,r,i),i};return{render(s,r){const i=e.get(r);return i!==void 0?Promise.resolve(i):n(s,r)}}},iy=(t,e,n,s,r,i,o,a)=>(l,u)=>{const c=u.listener,h=()=>{const v=new Float32Array(1),k=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),T=o(u);let C=!1,A=[0,0,-1,0,1,0],x=[0,0,0];const O=()=>{if(C)return;C=!0;const W=s(u,256,9,0);W.onaudioprocess=({inputBuffer:V})=>{const j=[i(V,v,0),i(V,v,1),i(V,v,2),i(V,v,3),i(V,v,4),i(V,v,5)];j.some((M,R)=>M!==A[R])&&(c.setOrientation(...j),A=j);const D=[i(V,v,6),i(V,v,7),i(V,v,8)];D.some((M,R)=>M!==x[R])&&(c.setPosition(...D),x=D)},k.connect(W)},E=W=>V=>{V!==A[W]&&(A[W]=V,c.setOrientation(...A))},F=W=>V=>{V!==x[W]&&(x[W]=V,c.setPosition(...x))},P=(W,V,j)=>{const D=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:V});D.connect(k,0,W),D.start(),Object.defineProperty(D.offset,"defaultValue",{get(){return V}});const M=t({context:l},T,D.offset,Je,lt);return a(M,"value",R=>()=>R.call(M),R=>L=>{try{R.call(M,L)}catch(U){if(U.code!==9)throw U}O(),T&&j(L)}),M.cancelAndHoldAtTime=(R=>T?()=>{throw r()}:(...L)=>{const U=R.apply(M,L);return O(),U})(M.cancelAndHoldAtTime),M.cancelScheduledValues=(R=>T?()=>{throw r()}:(...L)=>{const U=R.apply(M,L);return O(),U})(M.cancelScheduledValues),M.exponentialRampToValueAtTime=(R=>T?()=>{throw r()}:(...L)=>{const U=R.apply(M,L);return O(),U})(M.exponentialRampToValueAtTime),M.linearRampToValueAtTime=(R=>T?()=>{throw r()}:(...L)=>{const U=R.apply(M,L);return O(),U})(M.linearRampToValueAtTime),M.setTargetAtTime=(R=>T?()=>{throw r()}:(...L)=>{const U=R.apply(M,L);return O(),U})(M.setTargetAtTime),M.setValueAtTime=(R=>T?()=>{throw r()}:(...L)=>{const U=R.apply(M,L);return O(),U})(M.setValueAtTime),M.setValueCurveAtTime=(R=>T?()=>{throw r()}:(...L)=>{const U=R.apply(M,L);return O(),U})(M.setValueCurveAtTime),M};return{forwardX:P(0,0,E(0)),forwardY:P(1,0,E(1)),forwardZ:P(2,-1,E(2)),positionX:P(6,0,F(0)),positionY:P(7,0,F(1)),positionZ:P(8,0,F(2)),upX:P(3,0,E(3)),upY:P(4,1,E(4)),upZ:P(5,0,E(5))}},{forwardX:d,forwardY:g,forwardZ:m,positionX:_,positionY:w,positionZ:f,upX:p,upY:y,upZ:S}=c.forwardX===void 0?h():c;return{get forwardX(){return d},get forwardY(){return g},get forwardZ(){return m},get positionX(){return _},get positionY(){return w},get positionZ(){return f},get upX(){return p},get upY(){return y},get upZ(){return S}}},ea=t=>"context"in t,Pi=t=>ea(t[0]),xs=(t,e,n,s)=>{for(const r of t)if(n(r)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},gd=(t,e,[n,s],r)=>{xs(t,[e,n,s],i=>i[0]===e&&i[1]===n,r)},_d=(t,[e,n,s],r)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,s]])):xs(i,[n,s],o=>o[0]===n,r)},Sr=t=>"inputs"in t,ta=(t,e,n,s)=>{if(Sr(e)){const r=e.inputs[s];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,s),[e,n,s]},em=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},oy=(t,e,n)=>qa(t,s=>s[0]===e&&s[1]===n),tm=(t,e)=>{if(!Ii(t).delete(e))throw new Error("Missing the expected event listener.")},nm=(t,e,n)=>{const s=zt(t,e),r=qa(s,i=>i[0]===n);return s.size===0&&t.delete(e),r},na=(t,e,n,s)=>{Sr(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},de=t=>zt(Cc,t),di=t=>zt(xc,t),ws=t=>ku.has(t),Co=t=>!ar.has(t),vd=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const s=t.createScriptProcessor(256,1,1),r=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(s).connect(t.destination),a.connect(r),a.disconnect(r),s.onaudioprocess=l=>{const u=l.inputBuffer.getChannelData(0);Array.prototype.some.call(u,c=>c===1)?n(!0):n(!1),a.stop(),s.onaudioprocess=null,a.disconnect(s),s.disconnect(t.destination)},a.start()}}),Cl=(t,e)=>{const n=new Map;for(const s of t)for(const r of s){const i=n.get(r);n.set(r,i===void 0?1:i+1)}n.forEach((s,r)=>e(r,s))},sa=t=>"context"in t,ay=t=>{const e=new Map;t.connect=(n=>(s,r=0,i=0)=>{const o=sa(s)?n(s,r,i):n(s,r),a=e.get(s);return a===void 0?e.set(s,[{input:i,output:r}]):a.every(l=>l.input!==i||l.output!==r)&&a.push({input:i,output:r}),o})(t.connect.bind(t)),t.disconnect=(n=>(s,r,i)=>{if(n.apply(t),s===void 0)e.clear();else if(typeof s=="number")for(const[o,a]of e){const l=a.filter(u=>u.output!==s);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(s))if(r===void 0)e.delete(s);else{const o=e.get(s);if(o!==void 0){const a=o.filter(l=>l.output!==r&&(l.input!==i||i===void 0));a.length===0?e.delete(s):e.set(s,a)}}for(const[o,a]of e)a.forEach(l=>{sa(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},ly=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=Ri(e),{outputs:o}=tt(t),a=Ii(t),l=u=>{const c=de(t),h=di(e);if(u){const d=nm(i,t,n);gd(r,t,d,!1),!s&&!ws(t)&&c.connect(h,n)}else{const d=oy(r,t,n);_d(i,d,!1),!s&&!ws(t)&&c.disconnect(h,n)}};return xs(o,[e,n],u=>u[0]===e&&u[1]===n,!0)?(a.add(l),fn(t)?gd(r,t,[n,l],!0):_d(i,[t,n,l],!0),!0):!1},uy=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=tt(e),o=em(r[s],t,n);return o===null?[Xp(i,t,n,s)[2],!1]:[o[2],!0]},cy=(t,e,n)=>{const{activeInputs:s,passiveInputs:r}=Ri(e),i=em(s,t,n);return i===null?[nm(r,t,n)[1],!1]:[i[2],!0]},Nc=(t,e,n,s,r)=>{const[i,o]=uy(t,n,s,r);if(i!==null&&(tm(t,i),o&&!e&&!ws(t)&&na(de(t),de(n),s,r)),fn(n)){const{activeInputs:a}=tt(n);xu(n,a)}},Ac=(t,e,n,s)=>{const[r,i]=cy(t,n,s);r!==null&&(tm(t,r),i&&!e&&!ws(t)&&de(t).disconnect(di(n),s))},hy=(t,e)=>{const n=tt(t),s=[];for(const r of n.outputs)Pi(r)?Nc(t,e,...r):Ac(t,e,...r),s.push(r[0]);return n.outputs.clear(),s},dy=(t,e,n)=>{const s=tt(t),r=[];for(const i of s.outputs)i[1]===n&&(Pi(i)?Nc(t,e,...i):Ac(t,e,...i),r.push(i[0]),s.outputs.delete(i));return r},fy=(t,e,n,s,r)=>{const i=tt(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(s===void 0||o[1]===s)&&(r===void 0||o[2]===r)).map(o=>(Pi(o)?Nc(t,e,...o):Ac(t,e,...o),i.outputs.delete(o),o[0]))},py=(t,e,n,s,r,i,o,a,l,u,c,h,d,g,m,_)=>class extends u{constructor(f,p,y,S){super(y),this._context=f,this._nativeAudioNode=y;const v=c(f);h(v)&&n(vd,()=>vd(v,_))!==!0&&ay(y),Cc.set(this,y),Qp.set(this,new Set),f.state!=="closed"&&p&&lr(this),t(this,S,y)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(f){this._nativeAudioNode.channelCount=f}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(f){this._nativeAudioNode.channelCountMode=f}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(f){this._nativeAudioNode.channelInterpretation=f}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(f,p=0,y=0){if(p<0||p>=this._nativeAudioNode.numberOfOutputs)throw r();const S=c(this._context),v=m(S);if(d(f)||g(f))throw i();if(ea(f)){const C=de(f);try{const x=ta(this._nativeAudioNode,C,p,y),O=Co(this);(v||O)&&this._nativeAudioNode.disconnect(...x),this.context.state!=="closed"&&!O&&Co(f)&&lr(f)}catch(x){throw x.code===12?i():x}if(e(this,f,p,y,v)){const x=l([this],f);Cl(x,s(v))}return f}const k=di(f);if(k.name==="playbackRate"&&k.maxValue===1024)throw o();try{this._nativeAudioNode.connect(k,p),(v||Co(this))&&this._nativeAudioNode.disconnect(k,p)}catch(C){throw C.code===12?i():C}if(ly(this,f,p,v)){const C=l([this],f);Cl(C,s(v))}}disconnect(f,p,y){let S;const v=c(this._context),k=m(v);if(f===void 0)S=hy(this,k);else if(typeof f=="number"){if(f<0||f>=this.numberOfOutputs)throw r();S=dy(this,k,f)}else{if(p!==void 0&&(p<0||p>=this.numberOfOutputs)||ea(f)&&y!==void 0&&(y<0||y>=f.numberOfInputs))throw r();if(S=fy(this,k,f,p,y),S.length===0)throw i()}for(const T of S){const C=l([this],T);Cl(C,a)}}},my=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>(g,m,_,w=null,f=null)=>{const p=new xv(_.defaultValue),y=m?s(p):null,S={get defaultValue(){return _.defaultValue},get maxValue(){return w===null?_.maxValue:w},get minValue(){return f===null?_.minValue:f},get value(){return _.value},set value(v){_.value=v,S.setValueAtTime(v,g.context.currentTime)},cancelAndHoldAtTime(v){if(typeof _.cancelAndHoldAtTime=="function")y===null&&p.flush(g.context.currentTime),p.add(r(v)),_.cancelAndHoldAtTime(v);else{const k=Array.from(p).pop();y===null&&p.flush(g.context.currentTime),p.add(r(v));const T=Array.from(p).pop();_.cancelScheduledValues(v),k!==T&&T!==void 0&&(T.type==="exponentialRampToValue"?_.exponentialRampToValueAtTime(T.value,T.endTime):T.type==="linearRampToValue"?_.linearRampToValueAtTime(T.value,T.endTime):T.type==="setValue"?_.setValueAtTime(T.value,T.startTime):T.type==="setValueCurve"&&_.setValueCurveAtTime(T.values,T.startTime,T.duration))}return S},cancelScheduledValues(v){return y===null&&p.flush(g.context.currentTime),p.add(i(v)),_.cancelScheduledValues(v),S},exponentialRampToValueAtTime(v,k){if(v===0)throw new RangeError;if(!Number.isFinite(k)||k<0)throw new RangeError;return y===null&&p.flush(g.context.currentTime),p.add(o(v,k)),_.exponentialRampToValueAtTime(v,k),S},linearRampToValueAtTime(v,k){return y===null&&p.flush(g.context.currentTime),p.add(a(v,k)),_.linearRampToValueAtTime(v,k),S},setTargetAtTime(v,k,T){return y===null&&p.flush(g.context.currentTime),p.add(l(v,k,T)),_.setTargetAtTime(v,k,T),S},setValueAtTime(v,k){return y===null&&p.flush(g.context.currentTime),p.add(u(v,k)),_.setValueAtTime(v,k),S},setValueCurveAtTime(v,k,T){const C=v instanceof Float32Array?v:new Float32Array(v);if(h!==null&&h.name==="webkitAudioContext"){const A=k+T,x=g.context.sampleRate,O=Math.ceil(k*x),E=Math.floor(A*x),F=E-O,P=new Float32Array(F);for(let V=0;V<F;V+=1){const j=(C.length-1)/T*((O+V)/x-k),D=Math.floor(j),M=Math.ceil(j);P[V]=D===M?C[D]:(1-(j-D))*C[D]+(1-(M-j))*C[M]}y===null&&p.flush(g.context.currentTime),p.add(c(P,k,T)),_.setValueCurveAtTime(P,k,T);const W=E/x;W<A&&d(S,P[P.length-1],W),d(S,C[C.length-1],A)}else y===null&&p.flush(g.context.currentTime),p.add(c(C,k,T)),_.setValueCurveAtTime(C,k,T);return S}};return n.set(S,_),e.set(S,g),t(S,y),S},gy=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:s,value:r}=n;e.exponentialRampToValueAtTime(r,s)}else if(n.type==="linearRampToValue"){const{endTime:s,value:r}=n;e.linearRampToValueAtTime(r,s)}else if(n.type==="setTarget"){const{startTime:s,target:r,timeConstant:i}=n;e.setTargetAtTime(r,s,i)}else if(n.type==="setValue"){const{startTime:s,value:r}=n;e.setValueAtTime(r,s)}else if(n.type==="setValueCurve"){const{duration:s,startTime:r,values:i}=n;e.setValueCurveAtTime(i,r,s)}else throw new Error("Can't apply an unknown automation.")}});class sm{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((s,r)=>e.call(n,s,r,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const _y={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},vy=(t,e,n,s,r,i,o,a,l,u,c,h,d,g)=>class extends e{constructor(_,w,f){var p;const y=a(_),S=l(y),v=c({..._y,...f});d(v);const k=Tu.get(y),T=k==null?void 0:k.get(w),C=S||y.state!=="closed"?y:(p=o(y))!==null&&p!==void 0?p:y,A=r(C,S?null:_.baseLatency,u,w,T,v),x=S?s(w,v,T):null;super(_,!0,A,x);const O=[];A.parameters.forEach((F,P)=>{const W=n(this,S,F);O.push([P,W])}),this._nativeAudioWorkletNode=A,this._onprocessorerror=null,this._parameters=new sm(O),S&&t(y,this);const{activeInputs:E}=i(this);h(A,E)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(_){const w=typeof _=="function"?g(this,_):null;this._nativeAudioWorkletNode.onprocessorerror=w;const f=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=f!==null&&f===w?_:f}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function ra(t,e,n,s,r){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,r);else{const i=t.getChannelData(s);if(e[n].byteLength===0)e[n]=i.slice(r,r+128);else{const o=new Float32Array(i.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const rm=(t,e,n,s,r)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],s,r):e[n].byteLength!==0&&t.getChannelData(s).set(e[n],r)},ia=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const r=[],i=typeof e=="number"?e:e[s];for(let o=0;o<i;o+=1)r.push(new Float32Array(128));n.push(r)}return n},yy=(t,e)=>{const n=zt(Cu,t),s=de(e);return zt(n,s)},wy=async(t,e,n,s,r,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=s.channelCount*s.numberOfInputs,u=r.reduce((w,f)=>w+f,0),c=u===0?null:n.createBuffer(u,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const h=tt(t),d=await yy(n,t),g=ia(s.numberOfInputs,s.channelCount),m=ia(s.numberOfOutputs,r),_=Array.from(t.parameters.keys()).reduce((w,f)=>({...w,[f]:new Float32Array(128)}),{});for(let w=0;w<a;w+=128){if(s.numberOfInputs>0&&e!==null)for(let f=0;f<s.numberOfInputs;f+=1)for(let p=0;p<s.channelCount;p+=1)ra(e,g[f],p,p,w);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:f},p)=>{ra(e,_,f,l+p,w)});for(let f=0;f<s.numberOfInputs;f+=1)for(let p=0;p<r[f];p+=1)m[f][p].byteLength===0&&(m[f][p]=new Float32Array(128));try{const f=g.map((y,S)=>h.activeInputs[S].size===0?[]:y),p=o(w/n.sampleRate,n.sampleRate,()=>d.process(f,m,_));if(c!==null)for(let y=0,S=0;y<s.numberOfOutputs;y+=1){for(let v=0;v<r[y];v+=1)rm(c,m[y],v,S+v,w);S+=r[y]}if(!p)break}catch(f){t.dispatchEvent(new ErrorEvent("processorerror",{colno:f.colno,filename:f.filename,lineno:f.lineno,message:f.message}));break}}return c},Sy=(t,e,n,s,r,i,o,a,l,u,c,h,d,g,m,_)=>(w,f,p)=>{const y=new WeakMap;let S=null;const v=async(k,T)=>{let C=c(k),A=null;const x=Ze(C,T),O=Array.isArray(f.outputChannelCount)?f.outputChannelCount:Array.from(f.outputChannelCount);if(h===null){const E=O.reduce((V,j)=>V+j,0),F=r(T,{channelCount:Math.max(1,E),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,E)}),P=[];for(let V=0;V<k.numberOfOutputs;V+=1)P.push(s(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:O[V]}));const W=o(T,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1});W.connect=e.bind(null,P),W.disconnect=l.bind(null,P),A=[F,P,W]}else x||(C=new h(T,w));if(y.set(T,A===null?C:A[2]),A!==null){if(S===null){if(p===void 0)throw new Error("Missing the processor constructor.");if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const j=k.channelCount*k.numberOfInputs,D=p.parameterDescriptors===void 0?0:p.parameterDescriptors.length,M=j+D;S=wy(k,M===0?null:await(async()=>{const L=new d(M,Math.ceil(k.context.length/128)*128,T.sampleRate),U=[],be=[];for(let ee=0;ee<f.numberOfInputs;ee+=1)U.push(o(L,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1})),be.push(r(L,{channelCount:f.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:f.channelCount}));const Ce=await Promise.all(Array.from(k.parameters.values()).map(async ee=>{const Ae=i(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ee.value});return await g(L,ee,Ae.offset),Ae})),G=s(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,j+D)});for(let ee=0;ee<f.numberOfInputs;ee+=1){U[ee].connect(be[ee]);for(let Ae=0;Ae<f.channelCount;Ae+=1)be[ee].connect(G,Ae,ee*f.channelCount+Ae)}for(const[ee,Ae]of Ce.entries())Ae.connect(G,0,j+ee),Ae.start(0);return G.connect(L.destination),await Promise.all(U.map(ee=>m(k,L,ee))),_(L)})(),T,f,O,p,u)}const E=await S,F=n(T,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[P,W,V]=A;E!==null&&(F.buffer=E,F.start(0)),F.connect(P);for(let j=0,D=0;j<k.numberOfOutputs;j+=1){const M=W[j];for(let R=0;R<O[j];R+=1)P.connect(M,D+R,R);D+=O[j]}return V}if(x)for(const[E,F]of k.parameters.entries())await t(T,F,C.parameters.get(E));else for(const[E,F]of k.parameters.entries())await g(T,F,C.parameters.get(E));return await m(k,T,C),C};return{render(k,T){a(T,k);const C=y.get(T);return C!==void 0?Promise.resolve(C):v(k,T)}}},ky=(t,e,n,s,r,i,o,a,l,u,c,h,d,g,m,_,w,f,p,y)=>class extends m{constructor(v,k){super(v,k),this._nativeContext=v,this._audioWorklet=t===void 0?void 0:{addModule:(T,C)=>t(this,T,C)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(v,k,T){return new n({length:k,numberOfChannels:v,sampleRate:T})}createBufferSource(){return new s(this)}createChannelMerger(v=6){return new i(this,{numberOfInputs:v})}createChannelSplitter(v=6){return new o(this,{numberOfOutputs:v})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(v=1){return new c(this,{maxDelayTime:v})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(v,k){return new g(this,{feedback:k,feedforward:v})}createOscillator(){return new _(this)}createPanner(){return new w(this)}createPeriodicWave(v,k,T={disableNormalization:!1}){return new f(this,{...T,imag:k,real:v})}createStereoPanner(){return new p(this)}createWaveShaper(){return new y(this)}decodeAudioData(v,k,T){return u(this._nativeContext,v).then(C=>(typeof k=="function"&&k(C),C),C=>{throw typeof T=="function"&&T(C),C})}},Ty={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Cy=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...Ty,...c},g=r(h,d),m=o(h),_=m?n():null;super(u,!1,g,_),this._Q=e(this,m,g.Q,Je,lt),this._detune=e(this,m,g.detune,1200*Math.log2(Je),-1200*Math.log2(Je)),this._frequency=e(this,m,g.frequency,u.sampleRate/2,0),this._gain=e(this,m,g.gain,40*Math.log10(Je),lt),this._nativeBiquadFilterNode=g,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,c,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,c,h)}catch(d){throw d.code===11?s():d}if(u.length!==c.length||c.length!==h.length)throw s()}},xy=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Ze(u,l);if(!c){const h={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(l,h)}return i.set(l,u),c?(await t(l,a.Q,u.Q),await t(l,a.detune,u.detune),await t(l,a.frequency,u.frequency),await t(l,a.gain,u.gain)):(await s(l,a.Q,u.Q),await s(l,a.detune,u.detune),await s(l,a.frequency,u.frequency),await s(l,a.gain,u.gain)),await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},Ey=(t,e)=>(n,s)=>{const r=e.get(n);if(r!==void 0)return r;const i=t.get(n);if(i!==void 0)return i;try{const o=s();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},Ny={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Ay=(t,e,n,s,r)=>class extends t{constructor(o,a){const l=s(o),u={...Ny,...a},c=n(l,u),h=r(l)?e():null;super(o,!1,c,h)}},Oy=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,u)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Dy={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Iy=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=s(a),c=i({...Dy,...l}),h=n(u,c),d=r(u)?e():null;super(a,!1,h,d)}},My=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,u)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Ry=t=>(e,n,s)=>t(n,e,s),Py=t=>(e,n,s=0,r=0)=>{const i=e[s];if(i===void 0)throw t();return sa(n)?i.connect(n,0,r):i.connect(n,0)},Fy=t=>(e,n)=>{const s=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return s.buffer=r,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}},by={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Vy=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...by,...u},d=s(c,h),g=i(c),m=g?n():null;super(l,!1,d,m),this._constantSourceNodeRenderer=m,this._nativeConstantSourceNode=d,this._offset=e(this,g,d.offset,Je,lt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=u;const c=this._nativeConstantSourceNode.onended;this._onended=c!==null&&c===u?l:c}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){lr(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),fn(this)&&Mi(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},Ly=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=Ze(h,c);if(!d){const g={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(c,g),o!==null&&h.start(o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.offset,h.offset):await s(c,u.offset,h.offset),await r(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},qy=t=>e=>(t[0]=e,t[0]),jy={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},zy=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=s(a),c={...jy,...l},h=n(u,c),g=r(u)?e():null;super(a,!1,h,g),this._isBufferNullified=!1,this._nativeConvolverNode=h,c.buffer!==null&&i(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},Wy=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,u)}return s.set(o,a),Sr(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},By=(t,e)=>(n,s,r)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,r)}catch(i){throw i.name==="SyntaxError"?t():i}},Uy=()=>new DOMException("","DataCloneError"),yd=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(s=>{const r=()=>{n.onmessage=null,e.close(),n.close(),s()};n.onmessage=()=>r();try{e.postMessage(t,[t])}finally{r()}})},$y=(t,e,n,s,r,i,o,a,l,u,c)=>(h,d)=>{const g=o(h)?h:i(h);if(r.has(d)){const m=n();return Promise.reject(m)}try{r.add(d)}catch{}return e(l,()=>l(g))?g.decodeAudioData(d).then(m=>(yd(d).catch(()=>{}),e(a,()=>a(m))||c(m),t.add(m),m)):new Promise((m,_)=>{const w=async()=>{try{await yd(d)}catch{}},f=p=>{_(p),w()};try{g.decodeAudioData(d,p=>{typeof p.copyFromChannel!="function"&&(u(p),Ec(p)),t.add(p),w().then(()=>m(p))},p=>{f(p===null?s():p)})}catch(p){f(p)}})},Hy=(t,e,n,s,r,i,o,a)=>(l,u)=>{const c=e.get(l);if(c===void 0)throw new Error("Missing the expected cycle count.");const h=i(l.context),d=a(h);if(c===u){if(e.delete(l),!d&&o(l)){const g=s(l),{outputs:m}=n(l);for(const _ of m)if(Pi(_)){const w=s(_[0]);t(g,w,_[1],_[2])}else{const w=r(_[0]);g.connect(w,_[1])}}}else e.set(l,c-u)},Gy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Qy=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...Gy,...u},d=s(c,h),g=i(c),m=g?n(h.maxDelayTime):null;super(l,!1,d,m),this._delayTime=e(this,g,d.delayTime),o(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},Yy=(t,e,n,s,r)=>i=>{const o=new WeakMap,a=async(l,u)=>{let c=n(l);const h=Ze(c,u);if(!h){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:i};c=e(u,d)}return o.set(u,c),h?await t(u,l.delayTime,c.delayTime):await s(u,l.delayTime,c.delayTime),await r(l,u,c),c};return{render(l,u){const c=o.get(u);return c!==void 0?Promise.resolve(c):a(l,u)}}},Xy=t=>(e,n,s,r)=>t(e[r],i=>i[0]===n&&i[1]===s),Zy=t=>(e,n)=>{t(e).delete(n)},Ky=t=>"delayTime"in t,Jy=(t,e,n)=>function s(r,i){const o=ea(i)?i:n(t,i);if(Ky(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>s([...r,o],l[0])).reduce((l,u)=>l.concat(u),[])},oo=(t,e,n)=>{const s=e[n];if(s===void 0)throw t();return s},e0=t=>(e,n=void 0,s=void 0,r=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?oo(t,e,n).disconnect():sa(n)?s===void 0?e.forEach(i=>i.disconnect(n)):r===void 0?oo(t,e,s).disconnect(n,0):oo(t,e,s).disconnect(n,0,r):s===void 0?e.forEach(i=>i.disconnect(n)):oo(t,e,s).disconnect(n,0),t0={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},n0=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...t0,...c},g=s(h,d),m=o(h),_=m?n():null;super(u,!1,g,_),this._attack=e(this,m,g.attack),this._knee=e(this,m,g.knee),this._nativeDynamicsCompressorNode=g,this._ratio=e(this,m,g.ratio),this._release=e(this,m,g.release),this._threshold=e(this,m,g.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const c=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=c,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const c=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=c,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},s0=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Ze(u,l);if(!c){const h={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(l,h)}return i.set(l,u),c?(await t(l,a.attack,u.attack),await t(l,a.knee,u.knee),await t(l,a.ratio,u.ratio),await t(l,a.release,u.release),await t(l,a.threshold,u.threshold)):(await s(l,a.attack,u.attack),await s(l,a.knee,u.knee),await s(l,a.ratio,u.ratio),await s(l,a.release,u.release),await s(l,a.threshold,u.threshold)),await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},r0=()=>new DOMException("","EncodingError"),i0=t=>e=>new Promise((n,s)=>{if(t===null){s(new SyntaxError);return}const r=t.document.head;if(r===null)s(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(c,h,d,g,m)=>{if(h===a||h===t.location.href&&d===1&&g===1)return u(),s(m),!1;if(l!==null)return l(c,h,d,g,m)},i.onerror=()=>{u(),s(new SyntaxError)},i.onload=()=>{u(),n()},i.src=a,i.type="module",r.appendChild(i)}}),o0=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,s,r){if(s!==null){let i=this._listeners.get(s);i===void 0&&(i=t(this,s),typeof s=="function"&&this._listeners.set(s,i)),this._nativeEventTarget.addEventListener(n,i,r)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,s,r){const i=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,r)}},a0=t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},l0=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},u0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},c0=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=r(a),c={...u0,...l},h=s(u,c),d=i(u),g=d?n():null;super(a,!1,h,g),this._gain=e(this,d,h.gain,Je,lt)}get gain(){return this._gain}},h0=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Ze(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.gain,u.gain):await s(l,a.gain,u.gain),await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},d0=(t,e)=>n=>e(t,n),f0=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},p0=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},m0=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},g0=t=>e=>t.get(e),qe=()=>new DOMException("","InvalidStateError"),_0=t=>e=>{const n=t.get(e);if(n===void 0)throw qe();return n},v0=(t,e)=>n=>{let s=t.get(n);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),t.set(n,s),s},y0=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},ja=()=>new DOMException("","InvalidAccessError"),w0=t=>{t.getFrequencyResponse=(e=>(n,s,r)=>{if(n.length!==s.length||s.length!==r.length)throw ja();return e.call(t,n,s,r)})(t.getFrequencyResponse)},S0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},k0=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=s(a),c=r(u),h={...S0,...l},d=e(u,c?null:a.baseLatency,h),g=c?n(h.feedback,h.feedforward):null;super(a,!1,d,g),w0(d),this._nativeIIRFilterNode=d,i(this,1)}getFrequencyResponse(a,l,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,u)}},im=(t,e,n,s,r,i,o,a,l,u,c)=>{const h=u.length;let d=a;for(let g=0;g<h;g+=1){let m=n[0]*u[g];for(let _=1;_<r;_+=1){const w=d-_&l-1;m+=n[_]*i[w],m-=t[_]*o[w]}for(let _=r;_<s;_+=1)m+=n[_]*i[d-_&l-1];for(let _=r;_<e;_+=1)m-=t[_]*o[d-_&l-1];i[d]=u[g],o[d]=m,d=d+1&l-1,c[g]=m}return d},T0=(t,e,n,s)=>{const r=n instanceof Float64Array?n:new Float64Array(n),i=s instanceof Float64Array?s:new Float64Array(s),o=r.length,a=i.length,l=Math.min(o,a);if(r[0]!==1){for(let m=0;m<o;m+=1)i[m]/=r[0];for(let m=1;m<a;m+=1)r[m]/=r[0]}const u=32,c=new Float32Array(u),h=new Float32Array(u),d=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),g=t.numberOfChannels;for(let m=0;m<g;m+=1){const _=t.getChannelData(m),w=d.getChannelData(m);c.fill(0),h.fill(0),im(r,o,i,a,l,c,h,0,u,_,w)}return d},C0=(t,e,n,s,r)=>(i,o)=>{const a=new WeakMap;let l=null;const u=async(c,h)=>{let d=null,g=e(c);const m=Ze(g,h);if(h.createIIRFilter===void 0?d=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):m||(g=h.createIIRFilter(o,i)),a.set(h,d===null?g:d),d!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const w=new n(c.context.destination.channelCount,c.context.length,h.sampleRate);l=(async()=>{await s(c,w,w.destination);const f=await r(w);return T0(f,h,i,o)})()}const _=await l;return d.buffer=_,d.start(0),d}return await s(c,h,g),g};return{render(c,h){const d=a.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},x0=(t,e,n,s,r,i)=>o=>(a,l)=>{const u=t.get(a);if(u===void 0){if(!o&&i(a)){const c=s(a),{outputs:h}=n(a);for(const d of h)if(Pi(d)){const g=s(d[0]);e(c,g,d[1],d[2])}else{const g=r(d[0]);c.disconnect(g,d[1])}}t.set(a,l)}else t.set(a,u+l)},E0=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},N0=(t,e)=>n=>t.has(n)||e(n),A0=(t,e)=>n=>t.has(n)||e(n),O0=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},D0=t=>e=>t!==null&&e instanceof t,I0=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,M0=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,R0=(t,e)=>n=>t(n)||e(n),P0=t=>e=>t!==null&&e instanceof t,F0=t=>t!==null&&t.isSecureContext,b0=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(s(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},V0={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},L0=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i);if(s(a))throw new TypeError;const l={...V0,...o},u=e(a,l);super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},q0=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(s(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},j0=(t,e,n)=>class extends t{constructor(r,i){const o=n(r),a=e(o,i);super(r,!0,a,null)}},z0=(t,e,n,s,r,i)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,La.set(this,a),s(a)&&r.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===l?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},fi=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},W0=(t,e)=>(n,s,r)=>{const i=new Set;return n.connect=(o=>(a,l=0,u=0)=>{const c=i.size===0;if(e(a))return o.call(n,a,l,u),t(i,[a,l,u],h=>h[0]===a&&h[1]===l&&h[2]===u,!0),c&&s(),a;o.call(n,a,l),t(i,[a,l],h=>h[0]===a&&h[1]===l,!0),c&&s()})(n.connect),n.disconnect=(o=>(a,l,u)=>{const c=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const d of i)d[1]===a&&i.delete(d)}else{e(a)?o.call(n,a,l,u):o.call(n,a,l);for(const d of i)d[0]===a&&(l===void 0||d[1]===l)&&(u===void 0||d[2]===u)&&i.delete(d)}const h=i.size===0;c&&h&&r()})(n.disconnect),n},fe=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n]&&(t[n]=s)},Pe=(t,e)=>{fe(t,e,"channelCount"),fe(t,e,"channelCountMode"),fe(t,e,"channelInterpretation")},wd=t=>typeof t.getFloatTimeDomainData=="function",B0=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let r=0;r<s;r+=1)e[r]=(n[r]-128)*.0078125;return e}},U0=(t,e)=>(n,s)=>{const r=n.createAnalyser();if(Pe(r,s),!(s.maxDecibels>s.minDecibels))throw e();return fe(r,s,"fftSize"),fe(r,s,"maxDecibels"),fe(r,s,"minDecibels"),fe(r,s,"smoothingTimeConstant"),t(wd,()=>wd(r))||B0(r),r},$0=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Te=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n].value&&(t[n].value=s)},H0=t=>{t.start=(e=>{let n=!1;return(s=0,r=0,i)=>{if(n)throw qe();e.call(t,s,r,i),n=!0}})(t.start)},Oc=t=>{t.start=(e=>(n=0,s=0,r)=>{if(typeof r=="number"&&r<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,r)})(t.start)},Dc=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},G0=(t,e,n,s,r,i,o,a,l,u,c)=>(h,d)=>{const g=h.createBufferSource();return Pe(g,d),Te(g,d,"playbackRate"),fe(g,d,"buffer"),fe(g,d,"loop"),fe(g,d,"loopEnd"),fe(g,d,"loopStart"),e(n,()=>n(h))||H0(g),e(s,()=>s(h))||l(g),e(r,()=>r(h))||u(g,h),e(i,()=>i(h))||Oc(g),e(o,()=>o(h))||c(g,h),e(a,()=>a(h))||Dc(g),t(h,g),g},Q0=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,Y0=(t,e)=>(n,s,r)=>{const i=n.destination;if(i.channelCount!==s)try{i.channelCount=s}catch{}r&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:s});const o=t(n,{channelCount:s,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{i.channelCount=l}catch(u){if(l>i.maxChannelCount)throw u}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},X0=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,Z0=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},K0=(t,e,n,s,r)=>(i,o,a,l,u,c)=>{if(a!==null)try{const h=new a(i,l,c),d=new Map;let g=null;if(Object.defineProperties(h,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>g,set:m=>{typeof g=="function"&&h.removeEventListener("processorerror",g),g=typeof m=="function"?m:null,typeof g=="function"&&h.addEventListener("processorerror",g)}}}),h.addEventListener=(m=>(..._)=>{if(_[0]==="processorerror"){const w=typeof _[1]=="function"?_[1]:typeof _[1]=="object"&&_[1]!==null&&typeof _[1].handleEvent=="function"?_[1].handleEvent:null;if(w!==null){const f=d.get(_[1]);f!==void 0?_[1]=f:(_[1]=p=>{p.type==="error"?(Object.defineProperties(p,{type:{value:"processorerror"}}),w(p)):w(new ErrorEvent(_[0],{...p}))},d.set(w,_[1]))}}return m.call(h,"error",_[1],_[2]),m.call(h,..._)})(h.addEventListener),h.removeEventListener=(m=>(..._)=>{if(_[0]==="processorerror"){const w=d.get(_[1]);w!==void 0&&(d.delete(_[1]),_[1]=w)}return m.call(h,"error",_[1],_[2]),m.call(h,_[0],_[1],_[2])})(h.removeEventListener),c.numberOfOutputs!==0){const m=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(m).connect(i.destination),r(h,()=>m.disconnect(),()=>m.connect(i.destination))}return h}catch(h){throw h.code===11?s():h}if(u===void 0)throw s();return Z0(c),e(i,o,u,c)},om=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),J0=t=>new Promise((e,n)=>{const{port1:s,port2:r}=new MessageChannel;s.onmessage=({data:i})=>{s.close(),r.close(),e(i)},s.onmessageerror=({data:i})=>{s.close(),r.close(),n(i)},r.postMessage(t)}),e1=async(t,e)=>{const n=await J0(e);return new t(n)},t1=(t,e,n,s)=>{let r=Cu.get(t);r===void 0&&(r=new WeakMap,Cu.set(t,r));const i=e1(n,s);return r.set(e,i),i},n1=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>(g,m,_,w)=>{if(w.numberOfInputs===0&&w.numberOfOutputs===0)throw l();const f=Array.isArray(w.outputChannelCount)?w.outputChannelCount:Array.from(w.outputChannelCount);if(f.some(b=>b<1))throw l();if(f.length!==w.numberOfOutputs)throw e();if(w.channelCountMode!=="explicit")throw l();const p=w.channelCount*w.numberOfInputs,y=f.reduce((b,$)=>b+$,0),S=_.parameterDescriptors===void 0?0:_.parameterDescriptors.length;if(p+S>6||y>6)throw l();const v=new MessageChannel,k=[],T=[];for(let b=0;b<w.numberOfInputs;b+=1)k.push(o(g,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1})),T.push(r(g,{channelCount:w.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:w.channelCount}));const C=[];if(_.parameterDescriptors!==void 0)for(const{defaultValue:b,maxValue:$,minValue:Ie,name:ge}of _.parameterDescriptors){const te=i(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:w.parameterData[ge]!==void 0?w.parameterData[ge]:b===void 0?0:b});Object.defineProperties(te.offset,{defaultValue:{get:()=>b===void 0?0:b},maxValue:{get:()=>$===void 0?Je:$},minValue:{get:()=>Ie===void 0?lt:Ie}}),C.push(te)}const A=s(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,p+S)}),x=om(m,g.sampleRate),O=a(g,x,p+S,Math.max(1,y)),E=r(g,{channelCount:Math.max(1,y),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,y)}),F=[];for(let b=0;b<w.numberOfOutputs;b+=1)F.push(s(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:f[b]}));for(let b=0;b<w.numberOfInputs;b+=1){k[b].connect(T[b]);for(let $=0;$<w.channelCount;$+=1)T[b].connect(A,$,b*w.channelCount+$)}const P=new sm(_.parameterDescriptors===void 0?[]:_.parameterDescriptors.map(({name:b},$)=>{const Ie=C[$];return Ie.connect(A,0,p+$),Ie.start(0),[b,Ie.offset]}));A.connect(O);let W=w.channelInterpretation,V=null;const j=w.numberOfOutputs===0?[O]:F,D={get bufferSize(){return x},get channelCount(){return w.channelCount},set channelCount(b){throw n()},get channelCountMode(){return w.channelCountMode},set channelCountMode(b){throw n()},get channelInterpretation(){return W},set channelInterpretation(b){for(const $ of k)$.channelInterpretation=b;W=b},get context(){return O.context},get inputs(){return k},get numberOfInputs(){return w.numberOfInputs},get numberOfOutputs(){return w.numberOfOutputs},get onprocessorerror(){return V},set onprocessorerror(b){typeof V=="function"&&D.removeEventListener("processorerror",V),V=typeof b=="function"?b:null,typeof V=="function"&&D.addEventListener("processorerror",V)},get parameters(){return P},get port(){return v.port2},addEventListener(...b){return O.addEventListener(b[0],b[1],b[2])},connect:t.bind(null,j),disconnect:u.bind(null,j),dispatchEvent(...b){return O.dispatchEvent(b[0])},removeEventListener(...b){return O.removeEventListener(b[0],b[1],b[2])}},M=new Map;v.port1.addEventListener=(b=>(...$)=>{if($[0]==="message"){const Ie=typeof $[1]=="function"?$[1]:typeof $[1]=="object"&&$[1]!==null&&typeof $[1].handleEvent=="function"?$[1].handleEvent:null;if(Ie!==null){const ge=M.get($[1]);ge!==void 0?$[1]=ge:($[1]=te=>{c(g.currentTime,g.sampleRate,()=>Ie(te))},M.set(Ie,$[1]))}}return b.call(v.port1,$[0],$[1],$[2])})(v.port1.addEventListener),v.port1.removeEventListener=(b=>(...$)=>{if($[0]==="message"){const Ie=M.get($[1]);Ie!==void 0&&(M.delete($[1]),$[1]=Ie)}return b.call(v.port1,$[0],$[1],$[2])})(v.port1.removeEventListener);let R=null;Object.defineProperty(v.port1,"onmessage",{get:()=>R,set:b=>{typeof R=="function"&&v.port1.removeEventListener("message",R),R=typeof b=="function"?b:null,typeof R=="function"&&(v.port1.addEventListener("message",R),v.port1.start())}}),_.prototype.port=v.port1;let L=null;t1(g,D,_,w).then(b=>L=b);const be=ia(w.numberOfInputs,w.channelCount),Ce=ia(w.numberOfOutputs,f),G=_.parameterDescriptors===void 0?[]:_.parameterDescriptors.reduce((b,{name:$})=>({...b,[$]:new Float32Array(128)}),{});let ee=!0;const Ae=()=>{w.numberOfOutputs>0&&O.disconnect(E);for(let b=0,$=0;b<w.numberOfOutputs;b+=1){const Ie=F[b];for(let ge=0;ge<f[b];ge+=1)E.disconnect(Ie,$+ge,ge);$+=f[b]}},z=new Map;O.onaudioprocess=({inputBuffer:b,outputBuffer:$})=>{if(L!==null){const Ie=h(D);for(let ge=0;ge<x;ge+=128){for(let te=0;te<w.numberOfInputs;te+=1)for(let Se=0;Se<w.channelCount;Se+=1)ra(b,be[te],Se,Se,ge);_.parameterDescriptors!==void 0&&_.parameterDescriptors.forEach(({name:te},Se)=>{ra(b,G,te,p+Se,ge)});for(let te=0;te<w.numberOfInputs;te+=1)for(let Se=0;Se<f[te];Se+=1)Ce[te][Se].byteLength===0&&(Ce[te][Se]=new Float32Array(128));try{const te=be.map((kt,En)=>{if(Ie[En].size>0)return z.set(En,x/128),kt;const Za=z.get(En);return Za===void 0?[]:(kt.every(eg=>eg.every(tg=>tg===0))&&(Za===1?z.delete(En):z.set(En,Za-1)),kt)});ee=c(g.currentTime+ge/g.sampleRate,g.sampleRate,()=>L.process(te,Ce,G));for(let kt=0,En=0;kt<w.numberOfOutputs;kt+=1){for(let Er=0;Er<f[kt];Er+=1)rm($,Ce[kt],Er,En+Er,ge);En+=f[kt]}}catch(te){ee=!1,D.dispatchEvent(new ErrorEvent("processorerror",{colno:te.colno,filename:te.filename,lineno:te.lineno,message:te.message}))}if(!ee){for(let te=0;te<w.numberOfInputs;te+=1){k[te].disconnect(T[te]);for(let Se=0;Se<w.channelCount;Se+=1)T[ge].disconnect(A,Se,te*w.channelCount+Se)}if(_.parameterDescriptors!==void 0){const te=_.parameterDescriptors.length;for(let Se=0;Se<te;Se+=1){const kt=C[Se];kt.disconnect(A,0,p+Se),kt.stop()}}A.disconnect(O),O.onaudioprocess=null,es?Ae():Ds();break}}}};let es=!1;const ts=o(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Os=()=>O.connect(ts).connect(g.destination),Ds=()=>{O.disconnect(ts),ts.disconnect()},Km=()=>{if(ee){Ds(),w.numberOfOutputs>0&&O.connect(E);for(let b=0,$=0;b<w.numberOfOutputs;b+=1){const Ie=F[b];for(let ge=0;ge<f[b];ge+=1)E.connect(Ie,$+ge,ge);$+=f[b]}}es=!0},Jm=()=>{ee&&(Os(),Ae()),es=!1};return Os(),d(D,Km,Jm)},am=(t,e)=>{const n=t.createBiquadFilter();return Pe(n,e),Te(n,e,"Q"),Te(n,e,"detune"),Te(n,e,"frequency"),Te(n,e,"gain"),fe(n,e,"type"),n},s1=(t,e)=>(n,s)=>{const r=n.createChannelMerger(s.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,r),Pe(r,s),r},r1=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw qe()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw qe()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw qe()}})},Fi=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Pe(n,e),r1(n),n},i1=(t,e,n,s,r)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return Pe(a,o),Te(a,o,"offset"),e(s,()=>s(i))||Oc(a),e(r,()=>r(i))||Dc(a),t(i,a),a},kr=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),o1=(t,e,n,s)=>(r,{offset:i,...o})=>{const a=r.createBuffer(1,2,44100),l=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(r,{...o,gain:i}),c=a.getChannelData(0);c[0]=1,c[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(m){u.channelCount=m},get channelCountMode(){return u.channelCountMode},set channelCountMode(m){u.channelCountMode=m},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(m){u.channelInterpretation=m},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(m){l.onended=m},addEventListener(...m){return l.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return l.dispatchEvent(m[0])},removeEventListener(...m){return l.removeEventListener(m[0],m[1],m[2])},start(m=0){l.start.call(l,m)},stop(m=0){l.stop.call(l,m)}},d=()=>l.connect(u),g=()=>l.disconnect(u);return t(r,l),s(kr(h,u),d,g)},a1=(t,e)=>(n,s)=>{const r=n.createConvolver();if(Pe(r,s),s.disableNormalization===r.normalize&&(r.normalize=!s.disableNormalization),fe(r,s,"buffer"),s.channelCount>2||(e(r,"channelCount",i=>()=>i.call(r),i=>o=>{if(o>2)throw t();return i.call(r,o)}),s.channelCountMode==="max"))throw t();return e(r,"channelCountMode",i=>()=>i.call(r),i=>o=>{if(o==="max")throw t();return i.call(r,o)}),r},lm=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Pe(n,e),Te(n,e,"delayTime"),n},l1=t=>(e,n)=>{const s=e.createDynamicsCompressor();if(Pe(s,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Te(s,n,"attack"),Te(s,n,"knee"),Te(s,n,"ratio"),Te(s,n,"release"),Te(s,n,"threshold"),s},ft=(t,e)=>{const n=t.createGain();return Pe(n,e),Te(n,e,"gain"),n},u1=t=>(e,n,s)=>{if(e.createIIRFilter===void 0)return t(e,n,s);const r=e.createIIRFilter(s.feedforward,s.feedback);return Pe(r,s),r};function c1(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function h1(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Sd(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)n=h1(n,e),n[0]+=t[s];return n}const d1=(t,e,n,s)=>(r,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:u,feedforward:c})=>{const h=om(i,r.sampleRate),d=u instanceof Float64Array?u:new Float64Array(u),g=c instanceof Float64Array?c:new Float64Array(c),m=d.length,_=g.length,w=Math.min(m,_);if(m===0||m>20)throw s();if(d[0]===0)throw e();if(_===0||_>20)throw s();if(g[0]===0)throw e();if(d[0]!==1){for(let C=0;C<_;C+=1)g[C]/=d[0];for(let C=1;C<m;C+=1)d[C]/=d[0]}const f=n(r,h,o,o);f.channelCount=o,f.channelCountMode=a,f.channelInterpretation=l;const p=32,y=[],S=[],v=[];for(let C=0;C<o;C+=1){y.push(0);const A=new Float32Array(p),x=new Float32Array(p);A.fill(0),x.fill(0),S.push(A),v.push(x)}f.onaudioprocess=C=>{const A=C.inputBuffer,x=C.outputBuffer,O=A.numberOfChannels;for(let E=0;E<O;E+=1){const F=A.getChannelData(E),P=x.getChannelData(E);y[E]=im(d,m,g,_,w,S[E],v[E],y[E],p,F,P)}};const k=r.sampleRate/2;return kr({get bufferSize(){return h},get channelCount(){return f.channelCount},set channelCount(C){f.channelCount=C},get channelCountMode(){return f.channelCountMode},set channelCountMode(C){f.channelCountMode=C},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(C){f.channelInterpretation=C},get context(){return f.context},get inputs(){return[f]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},addEventListener(...C){return f.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return f.dispatchEvent(C[0])},getFrequencyResponse(C,A,x){if(C.length!==A.length||A.length!==x.length)throw t();const O=C.length;for(let E=0;E<O;E+=1){const F=-Math.PI*(C[E]/k),P=[Math.cos(F),Math.sin(F)],W=Sd(g,P),V=Sd(d,P),j=c1(W,V);A[E]=Math.sqrt(j[0]*j[0]+j[1]*j[1]),x[E]=Math.atan2(j[1],j[0])}},removeEventListener(...C){return f.removeEventListener(C[0],C[1],C[2])}},f)},f1=(t,e)=>t.createMediaElementSource(e.mediaElement),p1=(t,e)=>{const n=t.createMediaStreamDestination();return Pe(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},m1=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const s=n.slice(0,1),r=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(r,"mediaStream",{value:e}),r},g1=(t,e)=>(n,{mediaStreamTrack:s})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(s);const r=new MediaStream([s]),i=n.createMediaStreamSource(r);if(s.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},_1=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,v1=(t,e,n,s,r,i)=>(o,a)=>{const l=o.createOscillator();return Pe(l,a),Te(l,a,"detune"),Te(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):fe(l,a,"type"),e(n,()=>n(o))||Oc(l),e(s,()=>s(o))||i(l,o),e(r,()=>r(o))||Dc(l),t(o,l),l},y1=t=>(e,n)=>{const s=e.createPanner();return s.orientationX===void 0?t(e,n):(Pe(s,n),Te(s,n,"orientationX"),Te(s,n,"orientationY"),Te(s,n,"orientationZ"),Te(s,n,"positionX"),Te(s,n,"positionY"),Te(s,n,"positionZ"),fe(s,n,"coneInnerAngle"),fe(s,n,"coneOuterAngle"),fe(s,n,"coneOuterGain"),fe(s,n,"distanceModel"),fe(s,n,"maxDistance"),fe(s,n,"panningModel"),fe(s,n,"refDistance"),fe(s,n,"rolloffFactor"),s)},w1=(t,e,n,s,r,i,o,a,l,u)=>(c,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:g,distanceModel:m,maxDistance:_,orientationX:w,orientationY:f,orientationZ:p,panningModel:y,positionX:S,positionY:v,positionZ:k,refDistance:T,rolloffFactor:C,...A})=>{const x=c.createPanner();if(A.channelCount>2||A.channelCountMode==="max")throw o();Pe(x,A);const O={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},E=n(c,{...O,channelInterpretation:"speakers",numberOfInputs:6}),F=s(c,{...A,gain:1}),P=s(c,{...O,gain:1}),W=s(c,{...O,gain:0}),V=s(c,{...O,gain:0}),j=s(c,{...O,gain:0}),D=s(c,{...O,gain:0}),M=s(c,{...O,gain:0}),R=r(c,256,6,1),L=i(c,{...O,curve:new Float32Array([1,1]),oversample:"none"});let U=[w,f,p],be=[S,v,k];const Ce=new Float32Array(1);R.onaudioprocess=({inputBuffer:z})=>{const es=[l(z,Ce,0),l(z,Ce,1),l(z,Ce,2)];es.some((Os,Ds)=>Os!==U[Ds])&&(x.setOrientation(...es),U=es);const ts=[l(z,Ce,3),l(z,Ce,4),l(z,Ce,5)];ts.some((Os,Ds)=>Os!==be[Ds])&&(x.setPosition(...ts),be=ts)},Object.defineProperty(W.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"defaultValue",{get:()=>0});const G={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(z){if(z>2)throw o();F.channelCount=z,x.channelCount=z},get channelCountMode(){return x.channelCountMode},set channelCountMode(z){if(z==="max")throw o();F.channelCountMode=z,x.channelCountMode=z},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(z){F.channelInterpretation=z,x.channelInterpretation=z},get coneInnerAngle(){return x.coneInnerAngle},set coneInnerAngle(z){x.coneInnerAngle=z},get coneOuterAngle(){return x.coneOuterAngle},set coneOuterAngle(z){x.coneOuterAngle=z},get coneOuterGain(){return x.coneOuterGain},set coneOuterGain(z){if(z<0||z>1)throw e();x.coneOuterGain=z},get context(){return x.context},get distanceModel(){return x.distanceModel},set distanceModel(z){x.distanceModel=z},get inputs(){return[F]},get maxDistance(){return x.maxDistance},set maxDistance(z){if(z<0)throw new RangeError;x.maxDistance=z},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get orientationX(){return P.gain},get orientationY(){return W.gain},get orientationZ(){return V.gain},get panningModel(){return x.panningModel},set panningModel(z){x.panningModel=z},get positionX(){return j.gain},get positionY(){return D.gain},get positionZ(){return M.gain},get refDistance(){return x.refDistance},set refDistance(z){if(z<0)throw new RangeError;x.refDistance=z},get rolloffFactor(){return x.rolloffFactor},set rolloffFactor(z){if(z<0)throw new RangeError;x.rolloffFactor=z},addEventListener(...z){return F.addEventListener(z[0],z[1],z[2])},dispatchEvent(...z){return F.dispatchEvent(z[0])},removeEventListener(...z){return F.removeEventListener(z[0],z[1],z[2])}};h!==G.coneInnerAngle&&(G.coneInnerAngle=h),d!==G.coneOuterAngle&&(G.coneOuterAngle=d),g!==G.coneOuterGain&&(G.coneOuterGain=g),m!==G.distanceModel&&(G.distanceModel=m),_!==G.maxDistance&&(G.maxDistance=_),w!==G.orientationX.value&&(G.orientationX.value=w),f!==G.orientationY.value&&(G.orientationY.value=f),p!==G.orientationZ.value&&(G.orientationZ.value=p),y!==G.panningModel&&(G.panningModel=y),S!==G.positionX.value&&(G.positionX.value=S),v!==G.positionY.value&&(G.positionY.value=v),k!==G.positionZ.value&&(G.positionZ.value=k),T!==G.refDistance&&(G.refDistance=T),C!==G.rolloffFactor&&(G.rolloffFactor=C),(U[0]!==1||U[1]!==0||U[2]!==0)&&x.setOrientation(...U),(be[0]!==0||be[1]!==0||be[2]!==0)&&x.setPosition(...be);const ee=()=>{F.connect(x),t(F,L,0,0),L.connect(P).connect(E,0,0),L.connect(W).connect(E,0,1),L.connect(V).connect(E,0,2),L.connect(j).connect(E,0,3),L.connect(D).connect(E,0,4),L.connect(M).connect(E,0,5),E.connect(R).connect(c.destination)},Ae=()=>{F.disconnect(x),a(F,L,0,0),L.disconnect(P),P.disconnect(E),L.disconnect(W),W.disconnect(E),L.disconnect(V),V.disconnect(E),L.disconnect(j),j.disconnect(E),L.disconnect(D),D.disconnect(E),L.disconnect(M),M.disconnect(E),E.disconnect(R),R.disconnect(c.destination)};return u(kr(G,x),ee,Ae)},S1=t=>(e,{disableNormalization:n,imag:s,real:r})=>{const i=s instanceof Float32Array?s:new Float32Array(s),o=r instanceof Float32Array?r:new Float32Array(r),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(s).length<2)throw t();return a},bi=(t,e,n,s)=>t.createScriptProcessor(e,n,s),k1=(t,e)=>(n,s)=>{const r=s.channelCountMode;if(r==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,s);const i=n.createStereoPanner();return Pe(i,s),Te(i,s,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>r,set:o=>{if(o!==r)throw e()}}),i},T1=(t,e,n,s,r,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(m,_,w,f)=>{const p=new Float32Array(16385),y=new Float32Array(16385);for(let A=0;A<16385;A+=1){const x=A/16384*l;p[A]=Math.cos(x),y[A]=Math.sin(x)}const S=n(m,{...u,gain:0}),v=s(m,{...c,curve:p}),k=s(m,{...c,curve:a}),T=n(m,{...u,gain:0}),C=s(m,{...c,curve:y});return{connectGraph(){_.connect(S),_.connect(k.inputs===void 0?k:k.inputs[0]),_.connect(T),k.connect(w),w.connect(v.inputs===void 0?v:v.inputs[0]),w.connect(C.inputs===void 0?C:C.inputs[0]),v.connect(S.gain),C.connect(T.gain),S.connect(f,0,0),T.connect(f,0,1)},disconnectGraph(){_.disconnect(S),_.disconnect(k.inputs===void 0?k:k.inputs[0]),_.disconnect(T),k.disconnect(w),w.disconnect(v.inputs===void 0?v:v.inputs[0]),w.disconnect(C.inputs===void 0?C:C.inputs[0]),v.disconnect(S.gain),C.disconnect(T.gain),S.disconnect(f,0,0),T.disconnect(f,0,1)}}},d=(m,_,w,f)=>{const p=new Float32Array(16385),y=new Float32Array(16385),S=new Float32Array(16385),v=new Float32Array(16385),k=Math.floor(16385/2);for(let j=0;j<16385;j+=1)if(j>k){const D=(j-k)/(16384-k)*l;p[j]=Math.cos(D),y[j]=Math.sin(D),S[j]=0,v[j]=1}else{const D=j/(16384-k)*l;p[j]=1,y[j]=0,S[j]=Math.cos(D),v[j]=Math.sin(D)}const T=e(m,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),C=n(m,{...u,gain:0}),A=s(m,{...c,curve:p}),x=n(m,{...u,gain:0}),O=s(m,{...c,curve:y}),E=s(m,{...c,curve:a}),F=n(m,{...u,gain:0}),P=s(m,{...c,curve:S}),W=n(m,{...u,gain:0}),V=s(m,{...c,curve:v});return{connectGraph(){_.connect(T),_.connect(E.inputs===void 0?E:E.inputs[0]),T.connect(C,0),T.connect(x,0),T.connect(F,1),T.connect(W,1),E.connect(w),w.connect(A.inputs===void 0?A:A.inputs[0]),w.connect(O.inputs===void 0?O:O.inputs[0]),w.connect(P.inputs===void 0?P:P.inputs[0]),w.connect(V.inputs===void 0?V:V.inputs[0]),A.connect(C.gain),O.connect(x.gain),P.connect(F.gain),V.connect(W.gain),C.connect(f,0,0),F.connect(f,0,0),x.connect(f,0,1),W.connect(f,0,1)},disconnectGraph(){_.disconnect(T),_.disconnect(E.inputs===void 0?E:E.inputs[0]),T.disconnect(C,0),T.disconnect(x,0),T.disconnect(F,1),T.disconnect(W,1),E.disconnect(w),w.disconnect(A.inputs===void 0?A:A.inputs[0]),w.disconnect(O.inputs===void 0?O:O.inputs[0]),w.disconnect(P.inputs===void 0?P:P.inputs[0]),w.disconnect(V.inputs===void 0?V:V.inputs[0]),A.disconnect(C.gain),O.disconnect(x.gain),P.disconnect(F.gain),V.disconnect(W.gain),C.disconnect(f,0,0),F.disconnect(f,0,0),x.disconnect(f,0,1),W.disconnect(f,0,1)}}},g=(m,_,w,f,p)=>{if(_===1)return h(m,w,f,p);if(_===2)return d(m,w,f,p);throw r()};return(m,{channelCount:_,channelCountMode:w,pan:f,...p})=>{if(w==="max")throw r();const y=t(m,{...p,channelCount:1,channelCountMode:w,numberOfInputs:2}),S=n(m,{...p,channelCount:_,channelCountMode:w,gain:1}),v=n(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:f});let{connectGraph:k,disconnectGraph:T}=g(m,_,S,v,y);Object.defineProperty(v.gain,"defaultValue",{get:()=>0}),Object.defineProperty(v.gain,"maxValue",{get:()=>1}),Object.defineProperty(v.gain,"minValue",{get:()=>-1});const C={get bufferSize(){},get channelCount(){return S.channelCount},set channelCount(E){S.channelCount!==E&&(A&&T(),{connectGraph:k,disconnectGraph:T}=g(m,E,S,v,y),A&&k()),S.channelCount=E},get channelCountMode(){return S.channelCountMode},set channelCountMode(E){if(E==="clamped-max"||E==="max")throw r();S.channelCountMode=E},get channelInterpretation(){return S.channelInterpretation},set channelInterpretation(E){S.channelInterpretation=E},get context(){return S.context},get inputs(){return[S]},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get pan(){return v.gain},addEventListener(...E){return S.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return S.dispatchEvent(E[0])},removeEventListener(...E){return S.removeEventListener(E[0],E[1],E[2])}};let A=!1;const x=()=>{k(),A=!0},O=()=>{T(),A=!1};return i(kr(C,y),x,O)}},C1=(t,e,n,s,r,i,o)=>(a,l)=>{const u=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);Pe(u,l);const c=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(c!==null&&c.length<2)throw e();fe(u,{curve:c},"curve"),fe(u,l,"oversample");let h=null,d=!1;return o(u,"curve",_=>()=>_.call(u),_=>w=>(_.call(u,w),d&&(s(w)&&h===null?h=t(a,u):!s(w)&&h!==null&&(h(),h=null)),w)),r(u,()=>{d=!0,s(u.curve)&&(h=t(a,u))},()=>{d=!1,h!==null&&(h(),h=null)})},x1=(t,e,n,s,r)=>(i,{curve:o,oversample:a,...l})=>{const u=i.createWaveShaper(),c=i.createWaveShaper();Pe(u,l),Pe(c,l);const h=n(i,{...l,gain:1}),d=n(i,{...l,gain:-1}),g=n(i,{...l,gain:1}),m=n(i,{...l,gain:-1});let _=null,w=!1,f=null;const p={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(v){h.channelCount=v,d.channelCount=v,u.channelCount=v,g.channelCount=v,c.channelCount=v,m.channelCount=v},get channelCountMode(){return u.channelCountMode},set channelCountMode(v){h.channelCountMode=v,d.channelCountMode=v,u.channelCountMode=v,g.channelCountMode=v,c.channelCountMode=v,m.channelCountMode=v},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(v){h.channelInterpretation=v,d.channelInterpretation=v,u.channelInterpretation=v,g.channelInterpretation=v,c.channelInterpretation=v,m.channelInterpretation=v},get context(){return u.context},get curve(){return f},set curve(v){if(v!==null&&v.length<2)throw e();if(v===null)u.curve=v,c.curve=v;else{const k=v.length,T=new Float32Array(k+2-k%2),C=new Float32Array(k+2-k%2);T[0]=v[0],C[0]=-v[k-1];const A=Math.ceil((k+1)/2),x=(k+1)/2-1;for(let O=1;O<A;O+=1){const E=O/A*x,F=Math.floor(E),P=Math.ceil(E);T[O]=F===P?v[F]:(1-(E-F))*v[F]+(1-(P-E))*v[P],C[O]=F===P?-v[k-1-F]:-((1-(E-F))*v[k-1-F])-(1-(P-E))*v[k-1-P]}T[A]=k%2===1?v[A-1]:(v[A-2]+v[A-1])/2,u.curve=T,c.curve=C}f=v,w&&(s(f)&&_===null?_=t(i,h):_!==null&&(_(),_=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(v){u.oversample=v,c.oversample=v},addEventListener(...v){return h.addEventListener(v[0],v[1],v[2])},dispatchEvent(...v){return h.dispatchEvent(v[0])},removeEventListener(...v){return h.removeEventListener(v[0],v[1],v[2])}};o!==null&&(p.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==p.oversample&&(p.oversample=a);const y=()=>{h.connect(u).connect(g),h.connect(d).connect(c).connect(m).connect(g),w=!0,s(f)&&(_=t(i,h))},S=()=>{h.disconnect(u),u.disconnect(g),h.disconnect(d),d.disconnect(c),c.disconnect(m),m.disconnect(g),w=!1,_!==null&&(_(),_=null)};return r(kr(p,g),y,S)},ot=()=>new DOMException("","NotSupportedError"),E1={numberOfChannels:1},N1=(t,e,n,s,r)=>class extends t{constructor(o,a,l){let u;if(typeof o=="number"&&a!==void 0&&l!==void 0)u={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")u=o;else throw new Error("The given parameters are not valid.");const{length:c,numberOfChannels:h,sampleRate:d}={...E1,...u},g=s(h,c,d);e(fi,()=>fi(g))||g.addEventListener("statechange",(()=>{let m=0;const _=w=>{this._state==="running"&&(m>0?(g.removeEventListener("statechange",_),w.stopImmediatePropagation(),this._waitForThePromiseToSettle(w)):m+=1)};return _})()),super(g,h),this._length=c,this._nativeOfflineAudioContext=g,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Jp(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},A1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},O1=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...A1,...u},d=n(c,h),g=i(c),m=g?s():null,_=l.sampleRate/2;super(l,!1,d,m),this._detune=e(this,g,d.detune,153600,-153600),this._frequency=e(this,g,d.frequency,_,-_),this._nativeOscillatorNode=d,this._onended=null,this._oscillatorNodeRenderer=m,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=u;const c=this._nativeOscillatorNode.onended;this._onended=c!==null&&c===u?l:c}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){lr(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),fn(this)&&Mi(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},D1=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;const u=async(c,h)=>{let d=n(c);const g=Ze(d,h);if(!g){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:o===null?void 0:o,type:d.type};d=e(h,m),a!==null&&d.start(a),l!==null&&d.stop(l)}return i.set(h,d),g?(await t(h,c.detune,d.detune),await t(h,c.frequency,d.frequency)):(await s(h,c.detune,d.detune),await s(h,c.frequency,d.frequency)),await r(c,h,d),d};return{set periodicWave(c){o=c},set start(c){a=c},set stop(c){l=c},render(c,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},I1={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},M1=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...I1,...u},d=n(c,h),g=i(c),m=g?s():null;super(l,!1,d,m),this._nativePannerNode=d,this._orientationX=e(this,g,d.orientationX,Je,lt),this._orientationY=e(this,g,d.orientationY,Je,lt),this._orientationZ=e(this,g,d.orientationZ,Je,lt),this._positionX=e(this,g,d.positionX,Je,lt),this._positionY=e(this,g,d.positionY,Je,lt),this._positionZ=e(this,g,d.positionZ,Je,lt),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},R1=(t,e,n,s,r,i,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;const d=async(g,m)=>{let _=null,w=i(g);const f={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation},p={...f,coneInnerAngle:w.coneInnerAngle,coneOuterAngle:w.coneOuterAngle,coneOuterGain:w.coneOuterGain,distanceModel:w.distanceModel,maxDistance:w.maxDistance,panningModel:w.panningModel,refDistance:w.refDistance,rolloffFactor:w.rolloffFactor},y=Ze(w,m);if("bufferSize"in w)_=s(m,{...f,gain:1});else if(!y){const S={...p,orientationX:w.orientationX.value,orientationY:w.orientationY.value,orientationZ:w.orientationZ.value,positionX:w.positionX.value,positionY:w.positionY.value,positionZ:w.positionZ.value};w=r(m,S)}if(c.set(m,_===null?w:_),_!==null){if(h===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const O=new o(6,g.context.length,m.sampleRate),E=e(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});E.connect(O.destination),h=(async()=>{const F=await Promise.all([g.orientationX,g.orientationY,g.orientationZ,g.positionX,g.positionY,g.positionZ].map(async(P,W)=>{const V=n(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:W===0?1:0});return await a(O,P,V.offset),V}));for(let P=0;P<6;P+=1)F[P].connect(E,0,P),F[P].start(0);return u(O)})()}const S=await h,v=s(m,{...f,gain:1});await l(g,m,v);const k=[];for(let O=0;O<S.numberOfChannels;O+=1)k.push(S.getChannelData(O));let T=[k[0][0],k[1][0],k[2][0]],C=[k[3][0],k[4][0],k[5][0]],A=s(m,{...f,gain:1}),x=r(m,{...p,orientationX:T[0],orientationY:T[1],orientationZ:T[2],positionX:C[0],positionY:C[1],positionZ:C[2]});v.connect(A).connect(x.inputs[0]),x.connect(_);for(let O=128;O<S.length;O+=128){const E=[k[0][O],k[1][O],k[2][O]],F=[k[3][O],k[4][O],k[5][O]];if(E.some((P,W)=>P!==T[W])||F.some((P,W)=>P!==C[W])){T=E,C=F;const P=O/m.sampleRate;A.gain.setValueAtTime(0,P),A=s(m,{...f,gain:0}),x=r(m,{...p,orientationX:T[0],orientationY:T[1],orientationZ:T[2],positionX:C[0],positionY:C[1],positionZ:C[2]}),A.gain.setValueAtTime(1,P),v.connect(A).connect(x.inputs[0]),x.connect(_)}}return _}return y?(await t(m,g.orientationX,w.orientationX),await t(m,g.orientationY,w.orientationY),await t(m,g.orientationZ,w.orientationZ),await t(m,g.positionX,w.positionX),await t(m,g.positionY,w.positionY),await t(m,g.positionZ,w.positionZ)):(await a(m,g.orientationX,w.orientationX),await a(m,g.orientationY,w.orientationY),await a(m,g.orientationZ,w.orientationZ),await a(m,g.positionX,w.positionX),await a(m,g.positionY,w.positionY),await a(m,g.positionZ,w.positionZ)),Sr(w)?await l(g,m,w.inputs[0]):await l(g,m,w),w};return{render(g,m){const _=c.get(m);return _!==void 0?Promise.resolve(_):d(g,m)}}},P1={disableNormalization:!1},F1=(t,e,n,s)=>class um{constructor(i,o){const a=e(i),l=s({...P1,...o}),u=t(a,l);return n.add(u),u}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===um.prototype||n.has(i)}},b1=(t,e)=>(n,s,r)=>(t(s).replay(r),e(s,n,r)),V1=(t,e,n)=>async(s,r,i)=>{const o=t(s);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([u,c])=>{const d=await e(u).render(u,r),g=s.context.destination;!n(u)&&(s!==g||!n(s))&&d.connect(i,c,l)})).reduce((a,l)=>[...a,...l],[]))},L1=(t,e,n)=>async(s,r,i)=>{const o=e(s);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const c=await t(a).render(a,r);n(a)||c.connect(i,l)}))},q1=(t,e,n,s)=>r=>t(fi,()=>fi(r))?Promise.resolve(t(s,s)).then(i=>{if(!i){const o=n(r,512,0,1);r.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>r.currentTime,o.connect(r.destination)}return r.startRendering()}):new Promise(i=>{const o=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(r.destination),r.startRendering()}),j1=t=>(e,n)=>{t.set(e,n)},z1=t=>(e,n)=>t.set(e,n),W1=(t,e,n,s,r,i,o,a)=>(l,u)=>n(l).render(l,u).then(()=>Promise.all(Array.from(s(u)).map(c=>n(c).render(c,u)))).then(()=>r(u)).then(c=>(typeof c.copyFromChannel!="function"?(o(c),Ec(c)):e(i,()=>i(c))||a(c),t.add(c),c)),B1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},U1=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=r(a),c={...B1,...l},h=n(u,c),d=i(u),g=d?s():null;super(a,!1,h,g),this._pan=e(this,d,h.pan)}get pan(){return this._pan}},$1=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Ze(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.pan,u.pan):await s(l,a.pan,u.pan),Sr(u)?await r(a,l,u.inputs[0]):await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},H1=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},G1=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),r=URL.createObjectURL(n);let i=!1,o=!1;try{await s.audioWorklet.addModule(r);const a=new t(s,"a",{numberOfOutputs:0}),l=s.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await s.startRendering()}catch{}finally{URL.revokeObjectURL(r)}return i&&!o},Q1=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{n.oncomplete=()=>{s.disconnect(),r(n.currentTime!==0)},n.startRendering()})},Y1=()=>new DOMException("","UnknownError"),X1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Z1=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...X1,...u},d=n(c,h),m=i(c)?s():null;super(l,!0,d,m),this._isCurveNullified=!1,this._nativeWaveShaperNode=d,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},K1=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,u)}return s.set(o,a),Sr(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},J1=()=>typeof window>"u"?null:window,ew=(t,e)=>n=>{n.copyFromChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=s.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)s[h]=u[h+o]},n.copyToChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=s.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)u[h+o]=s[h]}},tw=t=>e=>{e.copyFromChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyToChannel)},nw=t=>(e,n)=>{const s=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),t(e,"buffer",r=>()=>{const i=r.call(e);return i===s?null:i},r=>i=>r.call(e,i===null?s:i))},sw=(t,e)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const r=n.createBufferSource();e(s,()=>{const a=s.numberOfInputs;for(let l=0;l<a;l+=1)r.connect(s,0,l)},()=>r.disconnect(s))},cm=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),hm=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},Vi=(t,e,n,s)=>{let r=t;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:i,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(i),set:s(o)})},rw=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),iw=t=>({...t,channelCount:t.numberOfOutputs}),ow=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},dm=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(s.code!==9)throw s;dm(t,e,n+1e-7)}},aw=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},lw=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},uw=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Ic=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},fm=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Mc=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},cw=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},hw=t=>{t.start=(e=>(n=0,s=0,r)=>{const i=t.buffer,o=i===null?s:Math.min(i.duration,s);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,r)})(t.start)},pm=(t,e)=>{const n=e.createGain();t.connect(n);const s=(r=>()=>{r.call(t,n),t.removeEventListener("ended",s)})(t.disconnect);t.addEventListener("ended",s),kr(t,n),t.stop=(r=>{let i=!1;return(o=0)=>{if(i)try{r.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else r.call(t,o),i=!0}})(t.stop)},Tr=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},dw=Mv(xs),fw=Lv(xs),pw=Xy(qa),mm=new WeakMap,mw=p0(mm),Wt=Ey(new Map,new WeakMap),Kt=J1(),gm=U0(Wt,tn),Rc=f0(tt),He=V1(tt,Rc,ws),gw=Bv(gm,de,He),le=_0(La),Tn=_1(Kt),ie=P0(Tn),_m=new WeakMap,vm=o0(Tr),Li=Q0(Kt),Pc=D0(Li),Fc=I0(Kt),ym=M0(Kt),pi=X0(Kt),Ne=py(Rv(Hp),Vv(dw,fw,ta,pw,na,tt,mw,Ii,de,xs,fn,ws,Co),Wt,x0(ku,na,tt,de,di,fn),tn,ja,ot,Hy(ta,ku,tt,de,di,le,fn,ie),Jy(_m,tt,zt),vm,le,Pc,Fc,ym,ie,pi),_w=Wv(Ne,gw,tn,gm,le,ie),bc=new WeakSet,kd=$0(Kt),wm=qy(new Uint32Array(1)),Vc=ew(wm,tn),Lc=tw(wm),vw=$v(bc,Wt,ot,kd,Tn,H1(kd),Vc,Lc),za=qv(ft),Sm=L1(Rc,Ri,ws),nn=Ry(Sm),Cr=G0(za,Wt,aw,lw,uw,Ic,fm,Mc,hw,nw(Vi),pm),sn=b1(m0(Ri),Sm),yw=Qv(nn,Cr,de,sn,He),Bt=my(Pv(Gp),_m,xc,gy,Ev,Nv,Av,Ov,Dv,yu,Up,Li,dm),ww=Gv(Ne,yw,Bt,qe,Cr,le,ie,Tr),Sw=sy(Ne,ry,tn,qe,Y0(ft,Vi),le,ie,He),kw=xy(nn,am,de,sn,He),Es=z1(mm),Tw=Cy(Ne,Bt,kw,ja,am,le,ie,Es),Kn=W0(xs,Fc),Cw=sw(qe,Kn),Jn=s1(Li,Cw),xw=Oy(Jn,de,He),Ew=Ay(Ne,xw,Jn,le,ie),Nw=My(Fi,de,He),Aw=Iy(Ne,Nw,Fi,le,ie,iw),Ow=o1(za,Cr,ft,Kn),xr=i1(za,Wt,Ow,Ic,Mc),Dw=Ly(nn,xr,de,sn,He),Iw=Vy(Ne,Bt,Dw,xr,le,ie,Tr),km=a1(ot,Vi),Mw=Wy(km,de,He),Rw=zy(Ne,Mw,km,le,ie,Es),Pw=Yy(nn,lm,de,sn,He),Fw=Qy(Ne,Bt,Pw,lm,le,ie,Es),Tm=l1(ot),bw=s0(nn,Tm,de,sn,He),Vw=n0(Ne,Bt,bw,Tm,ot,le,ie,Es),Lw=h0(nn,ft,de,sn,He),qw=c0(Ne,Bt,Lw,ft,le,ie),jw=d1(ja,qe,bi,ot),Wa=q1(Wt,ft,bi,Q1(ft,Tn)),zw=C0(Cr,de,Tn,He,Wa),Ww=u1(jw),Bw=k0(Ne,Ww,zw,le,ie,Es),Uw=iy(Bt,Jn,xr,bi,ot,cm,ie,Vi),Cm=new WeakMap,$w=z0(Sw,Uw,vm,ie,Cm,Tr),xm=v1(za,Wt,Ic,fm,Mc,pm),Hw=D1(nn,xm,de,sn,He),Gw=O1(Ne,Bt,xm,Hw,le,ie,Tr),Em=Fy(Cr),Qw=x1(Em,qe,ft,hm,Kn),Ba=C1(Em,qe,Qw,hm,Kn,Li,Vi),Yw=w1(ta,qe,Jn,ft,bi,Ba,ot,na,cm,Kn),Nm=y1(Yw),Xw=R1(nn,Jn,xr,ft,Nm,de,Tn,sn,He,Wa),Zw=M1(Ne,Bt,Nm,Xw,le,ie,Es),Kw=S1(tn),Jw=F1(Kw,le,new WeakSet,ow),eS=T1(Jn,Fi,ft,Ba,ot,Kn),Am=k1(eS,ot),tS=$1(nn,Am,de,sn,He),nS=U1(Ne,Bt,Am,tS,le,ie),sS=K1(Ba,de,He),rS=Z1(Ne,qe,Ba,sS,le,ie,Es),Om=F0(Kt),qc=a0(Kt),Dm=new WeakMap,iS=v0(Dm,Tn),oS=Om?bv(Wt,ot,i0(Kt),qc,l0(Iv),le,iS,ie,pi,new WeakMap,new WeakMap,G1(pi,Tn),Kt):void 0,aS=R0(Pc,ie),lS=$y(bc,Wt,Uy,r0,new WeakSet,le,aS,Jo,fi,Vc,Lc),Im=ky(oS,_w,vw,ww,Tw,Ew,Aw,Iw,Rw,lS,Fw,Vw,qw,Bw,$w,Gw,Zw,Jw,nS,rS),uS=b0(Ne,f1,le,ie),cS=L0(Ne,p1,le,ie),hS=q0(Ne,m1,le,ie),dS=g1(qe,ie),fS=j0(Ne,dS,le),pS=ny(Im,qe,ot,Y1,uS,cS,hS,fS,Li),jc=y0(Cm),mS=jv(jc),Mm=Py(tn),gS=Zy(jc),Rm=e0(tn),Pm=new WeakMap,_S=d0(Pm,zt),vS=n1(Mm,tn,qe,Jn,Fi,xr,ft,bi,ot,Rm,qc,_S,Kn),yS=K0(qe,vS,ft,ot,Kn),wS=Sy(nn,Mm,Cr,Jn,Fi,xr,ft,gS,Rm,qc,de,pi,Tn,sn,He,Wa),SS=g0(Dm),kS=j1(Pm),Td=Om?vy(mS,Ne,Bt,wS,yS,tt,SS,le,ie,pi,rw,kS,cw,Tr):void 0,TS=By(ot,Tn),CS=W1(bc,Wt,Rc,jc,Wa,Jo,Vc,Lc),xS=N1(Im,Wt,qe,TS,CS),ES=E0(La,Pc),NS=N0(Cc,Fc),AS=A0(xc,ym),OS=O0(La,ie);function H(t,e){if(!t)throw new Error(e)}function vn(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Fm(t){!t.isOffline&&t.state!=="running"&&Vm('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let bm=console;function DS(...t){bm.log(...t)}function Vm(...t){bm.warn(...t)}function Nt(t){return typeof t>"u"}function Q(t){return!Nt(t)}function IS(t){return typeof t=="function"}function Jt(t){return typeof t=="number"}function ds(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function Lm(t){return typeof t=="boolean"}function qt(t){return Array.isArray(t)}function en(t){return typeof t=="string"}function ao(t){return en(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function MS(t){return new pS(t)}function RS(t,e,n){return new xS(t,e,n)}const fs=typeof self=="object"?self:null,PS=fs&&(fs.hasOwnProperty("AudioContext")||fs.hasOwnProperty("webkitAudioContext"));function FS(t,e,n){return H(Q(Td),"This node only works in a secure context (https or localhost)"),new Td(t,e,n)}function Ut(t,e,n,s){var r=arguments.length,i=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i}function De(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})}class bS{constructor(e,n,s){this._callback=e,this._type=n,this._updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),s=new Worker(n);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){this._updateInterval=Math.max(e,128/44100),this._type==="worker"&&this._worker.postMessage(Math.max(e*1e3,1))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Ss(t){return AS(t)}function Un(t){return NS(t)}function xo(t){return OS(t)}function Rs(t){return ES(t)}function qm(t){return t instanceof AudioBuffer}function VS(t,e){return t==="value"||Ss(e)||Un(e)||qm(e)}function Zt(t,...e){if(!e.length)return t;const n=e.shift();if(ds(t)&&ds(n))for(const s in n)VS(s,n[s])?t[s]=n[s]:ds(n[s])?(t[s]||Object.assign(t,{[s]:{}}),Zt(t[s],n[s])):Object.assign(t,{[s]:n[s]});return Zt(t,...e)}function LS(t,e){return t.length===e.length&&t.every((n,s)=>e[s]===n)}function N(t,e,n=[],s){const r={},i=Array.from(e);if(ds(i[0])&&s&&!Reflect.has(i[0],s)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(Zt(r,{[s]:i[0]}),n.splice(n.indexOf(s),1),i.shift())),i.length===1&&ds(i[0]))Zt(r,i[0]);else for(let o=0;o<n.length;o++)Q(i[o])&&(r[n[o]]=i[o]);return Zt(t,r)}function qS(t){return t.constructor.getDefaults()}function ps(t,e){return Nt(t)?e:t}function nt(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Cn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||fs&&this.toString()===fs.TONE_DEBUG_CLASS)&&DS(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Cn.version=Bp;const zc=1e-6;function oa(t,e){return t>e+zc}function Nu(t,e){return oa(t,e)||Ft(t,e)}function jm(t,e){return t+zc<e}function Ft(t,e){return Math.abs(t-e)<zc}function jS(t,e,n){return Math.max(Math.min(t,n),e)}class rn extends Cn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=N(rn.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(H(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];H(Nu(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const s=this._search(e,n);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const s=this._search(e,n);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Ft(this._timeline[n].time,e)){for(let s=n;s>=0&&Ft(this._timeline[s].time,e);s--)n=s;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Nu(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let s=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][n]<=e)return r-1;for(;s<i;){let o=Math.floor(s+(i-s)/2);const a=this._timeline[o],l=this._timeline[o+1];if(Ft(a[n],e)){for(let u=o;u<this._timeline.length;u++){const c=this._timeline[u];if(Ft(c[n],e))o=u;else break}return o}else{if(jm(a[n],e)&&oa(l[n],e))return o;oa(a[n],e)?i=o:s=o+1}}return-1}_iterate(e,n=0,s=this._timeline.length-1){this._timeline.slice(n,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const s=this._search(e);return s!==-1&&this._iterate(n,0,s),this}forEachAfter(e,n){const s=this._search(e);return this._iterate(n,s+1),this}forEachBetween(e,n,s){let r=this._search(e),i=this._search(n);return r!==-1&&i!==-1?(this._timeline[r].time!==e&&(r+=1),this._timeline[i].time===n&&(i-=1),this._iterate(s,r,i)):r===-1&&this._iterate(s,0,i),this}forEachFrom(e,n){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(n,s+1),this}forEachAtTime(e,n){const s=this._search(e);if(s!==-1&&Ft(this._timeline[s].time,e)){let r=s;for(let i=s;i>=0&&Ft(this._timeline[i].time,e);i--)r=i;this._iterate(i=>{n(i)},r,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const zm=[];function Ua(t){zm.push(t)}function zS(t){zm.forEach(e=>e(t))}const Wm=[];function $a(t){Wm.push(t)}function WS(t){Wm.forEach(e=>e(t))}class qi extends Cn{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(r=>{Nt(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(n)}),this}once(e,n){const s=(...r)=>{n(...r),this.off(e,s)};return this.on(e,s),this}off(e,n){return e.split(/\W+/).forEach(r=>{if(Nt(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(Nt(n))this._events[e]=[];else{const i=this._events[e];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let r=0,i=s.length;r<i;r++)s[r].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const s=Object.getOwnPropertyDescriptor(qi.prototype,n);Object.defineProperty(e.prototype,n,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class Bm extends qi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class ji extends Bm{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new rn,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const e=N(ji.getDefaults(),arguments,["context"]);e.context?this._context=e.context:this._context=MS({latencyHint:e.latencyHint}),this._ticker=new bS(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(zS(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,s){return this._context.createBuffer(e,n,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,s){return this._context.createPeriodicWave(e,n,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return H(Rs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return H(Rs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return H(Rs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){H(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){H(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){H(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){H(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return FS(this.rawContext,e,n)}addAudioWorkletModule(e,n){return De(this,void 0,void 0,function*(){H(Q(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(n)||this._workletModules.set(n,this.rawContext.audioWorklet.addModule(e)),yield this._workletModules.get(n)})}workletsAreReady(){return De(this,void 0,void 0,function*(){const e=[];this._workletModules.forEach(n=>e.push(n)),yield Promise.all(e)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get latencyHint(){return this._latencyHint}_setLatencyHint(e){let n=0;if(this._latencyHint=e,en(e))switch(e){case"interactive":n=.1;break;case"playback":n=.5;break;case"balanced":n=.25;break}this.lookAhead=n,this.updateInterval=n/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Rs(this._context)?this._context.resume():Promise.resolve()}close(){return De(this,void 0,void 0,function*(){Rs(this._context)&&(yield this._context.close()),this._initialized&&WS(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),s=n.getChannelData(0);for(let i=0;i<s.length;i++)s[i]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=n,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const s=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),r()},id:s,time:i+n})};return r(),s}}class BS extends Bm{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e,n){return De(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function oe(t,e){qt(e)?e.forEach(n=>oe(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Wc(t,e){qt(e)?e.forEach(n=>Wc(t,n)):Object.defineProperty(t,e,{writable:!0})}const ne=()=>{};class se extends Cn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ne;const e=N(se.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,e.url&&qm(e.url)||e.url instanceof se?this.set(e.url):en(e.url)&&this.load(e.url).catch(e.onerror)}static getDefaults(){return{onerror:ne,onload:ne,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:gt().sampleRate}set(e){return e instanceof se?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return De(this,void 0,void 0,function*(){const n=se.load(e).then(s=>{this.set(s),this.onload(this)});se.downloads.push(n);try{yield n}finally{const s=se.downloads.indexOf(n);se.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=qt(e)&&e[0].length>0,s=n?e.length:1,r=n?e[0].length:e.length,i=gt(),o=i.createBuffer(s,r,i.sampleRate),a=!n&&s===1?[e]:e;for(let l=0;l<s;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(Jt(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const s=this.numberOfChannels;for(let r=0;r<s;r++){const i=this.toArray(r);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(r=>r/s),this.fromArray(n)}return this}toArray(e){if(Jt(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let s=0;s<this.numberOfChannels;s++)n[s]=this.getChannelData(s);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){const s=Math.floor(e*this.sampleRate),r=Math.floor(n*this.sampleRate);H(s<r,"The start time must be less than the end time");const i=r-s,o=gt().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(s,r),a);return new se(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new se().fromArray(e)}static fromUrl(e){return De(this,void 0,void 0,function*(){return yield new se().load(e)})}static load(e){return De(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const a=n[1].split("|");let l=a[0];for(const u of a)if(se.supportsType(u)){l=u;break}e=e.replace(n[0],l)}const s=se.baseUrl===""||se.baseUrl.endsWith("/")?se.baseUrl:se.baseUrl+"/",r=yield fetch(s+e);if(!r.ok)throw new Error(`could not load url: ${e}`);const i=yield r.arrayBuffer();return yield gt().decodeAudioData(i)})}static supportsType(e){const n=e.split("."),s=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return De(this,void 0,void 0,function*(){for(yield Promise.resolve();se.downloads.length;)yield se.downloads[0]})}}se.baseUrl="";se.downloads=[];class Bc extends ji{constructor(){super({clockSource:"offline",context:xo(arguments[0])?arguments[0]:RS(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:xo(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=xo(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return De(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const s=Math.floor(this.sampleRate/128);e&&n%s===0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(e=!0){return De(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new se(n)})}close(){return Promise.resolve()}}const Um=new BS;let Js=Um;function gt(){return Js===Um&&PS&&US(new ji),Js}function US(t){Rs(t)?Js=new ji(t):xo(t)?Js=new Bc(t):Js=t}function $S(){return Js.resume()}if(fs&&!fs.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Bp} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function HS(t){return Math.pow(10,t/20)}function GS(t){return 20*(Math.log(t)/Math.LN10)}function $m(t){return Math.pow(2,t/12)}let Ha=440;function QS(){return Ha}function YS(t){Ha=t}function Au(t){return Math.round(Hm(t))}function Hm(t){return 69+12*Math.log2(t/Ha)}function XS(t){return Ha*Math.pow(2,(t-69)/12)}class Uc extends Cn{constructor(e,n,s){super(),this.defaultUnits="s",this._val=n,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const s=parseInt(e,10),r=n==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/s)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,s)=>{let r=0;return e&&e!=="0"&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r+=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r+=this._beatsToUnits(parseFloat(s)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Uc&&this.fromType(this._val),Nt(this._val))return this._noArg();if(en(this._val)&&Nt(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(ds(this._val)){let e=0;for(const n in this._val)if(Q(this._val[n])){const s=this._val[n];e+=new this.constructor(this.context,n).valueOf()*s}return e}if(Q(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return en(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class bt extends Uc{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new bt(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const s=new this.constructor(this.context,e).valueOf(),r=this.valueOf(),a=Math.round(r/s)*s-r;return r+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let s=n[0],r=new bt(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new bt(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(r-e)&&(s=i,r=o)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const s=Math.floor(n/this._getTimeSignature());let r=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=r.toString();return i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3))),[s,n,r].join(":")}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.round(n*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Au(this.toFrequency())}_now(){return this.context.now()}}class _t extends bt{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return QS()}static set A4(e){YS(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:_t.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(e,n){const r=ZS[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?r:_t.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,s){let r=1;return e&&e!=="0"&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r*=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r*=this._beatsToUnits(parseFloat(s)/4)),r}}})}transpose(e){return new _t(this.context,this.valueOf()*$m(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Au(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/_t.A4);let s=Math.round(12*n)+57;const r=Math.floor(s/12);return r<0&&(s+=-12*r),KS[s%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return XS(e)}static ftom(e){return Au(e)}}const ZS={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},KS=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Cd(t,e){return new _t(gt(),t,e)}class Qr extends bt{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class je extends Cn{constructor(){super();const e=N(je.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:gt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return new bt(this.context,e).toSeconds()}toFrequency(e){return new _t(this.context,e).toFrequency()}toTicks(e){return new Qr(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(s=>{Nt(e[s])&&delete n[s]}),n}get(){const e=qS(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const s=this[n];Q(s)&&Q(s.value)&&Q(s.setValueAtTime)?e[n]=s.value:s instanceof je?e[n]=s._getPartialProperties(e[n]):qt(s)||Jt(s)||en(s)||Lm(s)?e[n]=s:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&Q(this[n])&&(this[n]&&Q(this[n].value)&&Q(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof je?this[n].set(e[n]):this[n]=e[n])}),this}}class Ga extends rn{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,s){return vn(n,0),this.add(Object.assign({},s,{state:e,time:n})),this}getLastState(e,n){const s=this._search(n);for(let r=s;r>=0;r--){const i=this._timeline[r];if(i.state===e)return i}}getNextState(e,n){const s=this._search(n);if(s!==-1)for(let r=s;r<this._timeline.length;r++){const i=this._timeline[r];if(i.state===e)return i}}}class Z extends je{constructor(){super(N(Z.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=N(Z.getDefaults(),arguments,["param","units","convert"]);for(H(Q(e.param)&&(Ss(e.param)||e.param instanceof Z),"param must be an AudioParam");!Ss(e.param);)e.param=e.param._param;this._swappable=Q(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new rn(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Q(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(je.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Q(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Q(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return Q(this.maxValue)&&Q(this.minValue)&&vn(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?HS(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?GS(e):e}setValueAtTime(e,n){const s=this.toSeconds(n),r=this._fromType(e);return H(isFinite(r)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),s=this._events.getAfter(n),r=this._events.get(n);let i=this._initialValue;if(r===null)i=this._initialValue;else if(r.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const o=this._events.getBefore(r.time);let a;o===null?a=this._initialValue:a=o.value,r.type==="setTargetAtTime"&&(i=this._exponentialApproach(r.time,a,r.value,r.constant,n))}else if(s===null)i=r.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let o=r.value;if(r.type==="setTargetAtTime"){const a=this._events.getBefore(r.time);a===null?o=this._initialValue:o=a.value}s.type==="linearRampToValueAtTime"?i=this._linearInterpolate(r.time,o,s.time,s.value,n):i=this._exponentialInterpolate(r.time,o,s.time,s.value,n)}else i=r.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const s=this._fromType(e),r=this.toSeconds(n);return H(isFinite(s)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this._events.add({time:r,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(s,r),this}exponentialRampToValueAtTime(e,n){let s=this._fromType(e);s=Ft(s,0)?this._minOutput:s,this._assertRange(s);const r=this.toSeconds(n);return H(isFinite(s)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(s,r),this}exponentialRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(n)),this}linearRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(n)),this}targetRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,n),this}exponentialApproachValueAtTime(e,n,s){n=this.toSeconds(n),s=this.toSeconds(s);const r=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,n,r),this.cancelAndHoldAtTime(n+s*.9),this.linearRampToValueAtTime(e,n+s),this}setTargetAtTime(e,n,s){const r=this._fromType(e);H(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(r),H(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:s,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,i,s),this._param.setTargetAtTime(r,i,s),this}setValueCurveAtTime(e,n,s,r=1){s=this.toSeconds(s),n=this.toSeconds(n);const i=this._fromType(e[0])*r;this.setValueAtTime(this._toType(i),n);const o=s/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*r;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return H(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),s=this._fromType(this.getValueAtTime(n));H(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+s);const r=this._events.get(n),i=this._events.getAfter(n);return r&&Ft(r.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),n)),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}rampTo(e,n=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,s):this.linearRampTo(e,n,s),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const s=this._events.get(n);if(s&&s.type==="setTargetAtTime"){const r=this._events.getAfter(s.time),i=r?r.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,r=>{r.type==="cancelScheduledValues"?e.cancelScheduledValues(r.time):r.type==="setTargetAtTime"?e.setTargetAtTime(r.value,r.time,r.constant):e[r.type](r.value,r.time)}),this}setParam(e){H(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,s,r,i){return s+(n-s)*Math.exp(-(i-e)/r)}_linearInterpolate(e,n,s,r,i){return n+(r-n)*((i-e)/(s-e))}_exponentialInterpolate(e,n,s,r,i){return n*Math.pow(r/n,(i-e)/(s-e))}}class B extends je{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return Q(this.input)?Ss(this.input)||this.input instanceof Z?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Q(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Q(e)&&(e instanceof B||Un(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();H(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,s=0){return Ns(this,e,n,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Vm("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,s=0){return Gm(this,e,n,s),this}chain(...e){return mi(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),Q(this.input)&&(this.input instanceof B?this.input.dispose():Un(this.input)&&this.input.disconnect()),Q(this.output)&&(this.output instanceof B?this.output.dispose():Un(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function mi(...t){const e=t.shift();t.reduce((n,s)=>(n instanceof B?n.connect(s):Un(n)&&Ns(n,s),s),e)}function Ns(t,e,n=0,s=0){for(H(Q(t),"Cannot connect from undefined node"),H(Q(e),"Cannot connect to undefined node"),(e instanceof B||Un(e))&&H(e.numberOfInputs>0,"Cannot connect to node with no inputs"),H(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof B||e instanceof Z;)Q(e.input)&&(e=e.input);for(;t instanceof B;)Q(t.output)&&(t=t.output);Ss(e)?t.connect(e,n):t.connect(e,n,s)}function Gm(t,e,n=0,s=0){if(Q(e))for(;e instanceof B;)e=e.input;for(;!Un(t);)Q(t.output)&&(t=t.output);Ss(e)?t.disconnect(e,n):Un(e)?t.disconnect(e,n,s):t.disconnect()}class me extends B{constructor(){super(N(me.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=N(me.getDefaults(),arguments,["gain","units"]);this.gain=new Z({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),oe(this,"gain")}static getDefaults(){return Object.assign(B.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ur extends B{constructor(e){super(e),this.onended=ne,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new me({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const s=this.toSeconds(n);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(B.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ne})}_startGain(e,n=1){H(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+s):this._gainNode.gain.exponentialApproachValueAtTime(n,e,s)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){H(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.context.currentTime),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ne&&(this.onended(this),this.onended=ne,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),H(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class aa extends ur{constructor(){super(N(aa.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=N(aa.getDefaults(),arguments,["offset"]);Ns(this._source,this._gainNode),this.offset=new Z({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(ur.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class J extends B{constructor(){super(N(J.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=N(J.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new aa({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(B.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,s=0){return Qa(this,e,n,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,s){return this._param.exponentialRampTo(e,n,s),this}linearRampTo(e,n,s){return this._param.linearRampTo(e,n,s),this}targetRampTo(e,n,s){return this._param.targetRampTo(e,n,s),this}exponentialApproachValueAtTime(e,n,s){return this._param.exponentialApproachValueAtTime(e,n,s),this}setTargetAtTime(e,n,s){return this._param.setTargetAtTime(e,n,s),this}setValueCurveAtTime(e,n,s,r){return this._param.setValueCurveAtTime(e,n,s,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,s){return this._param.rampTo(e,n,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Qa(t,e,n,s){(e instanceof Z||Ss(e)||e instanceof J&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof J&&(e.overridden=!0)),Ns(t,e,n,s)}class la extends Z{constructor(){super(N(la.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new rn(1/0),this._multiplier=1;const e=N(la.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Z.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,s){n=this.toSeconds(n),this.setRampPoint(n);const r=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/s,1));for(let a=0;a<=o;a++){const l=s*a+n,u=this._exponentialApproach(i.time,i.value,r,s,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}setValueAtTime(e,n){const s=this.toSeconds(n);super.setValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const s=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const s=this._fromType(e),r=this._events.get(n),i=Math.round(Math.max((n-r.time)*10,1)),o=(n-r.time)/i;for(let a=0;a<=i;a++){const l=o*a+r.time,u=this._exponentialInterpolate(r.time,r.value,n,s,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Nt(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(r=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(s+r)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),s=this._events.get(n);return Math.max(this._getTicksUntilEvent(s,n),0)}getDurationOfTicks(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(n);return this.getTimeOfTick(r+e)-s}getTimeOfTick(e){const n=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&s&&s.type==="linearRampToValueAtTime"&&n.value!==s.value){const r=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(s.time))-r)/(s.time-n.time),a=Math.sqrt(Math.pow(r,2)-2*o*(n.ticks-e)),l=(-r+a)/o,u=(-r-a)/o;return(l>0?l:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const s=this.toSeconds(n),r=this.toSeconds(e),i=this.getTicksAtTime(s);return this.getTicksAtTime(s+r)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class ua extends J{constructor(){super(N(ua.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=N(ua.getDefaults(),arguments,["value"]);this.input=this._param=new la({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(J.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class ca extends je{constructor(){super(N(ca.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Ga,this._tickOffset=new rn;const e=N(ca.getDefaults(),arguments,["frequency"]);this.frequency=new ua({context:this.context,units:e.units,value:e.frequency}),oe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},je.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),Q(n)&&this.setTicksAtTime(n,s)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const s=this._state.get(n);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&this._state.setStateAtTime("paused",n),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),s=this._state.getLastState("stopped",n),r={state:"paused",time:n};this._state.add(r);let i=s,o=0;return this._state.forEachBetween(s.time,n+this.sampleTime,a=>{let l=i.time;const u=this._tickOffset.get(a.time);u&&u.time>=i.time&&(o=u.ticks,l=u.time),i.state==="started"&&a.state!=="started"&&(o+=this.frequency.getTicksAtTime(a.time)-this.frequency.getTicksAtTime(l)),i=a}),this._state.remove(r),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),s=this.frequency.timeToTicks(e,n);this.setTicksAtTime(s,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);let r=n,i=0;return this._state.forEachBetween(n.time,e+this.sampleTime,o=>{let a=r.time;const l=this._tickOffset.get(o.time);l&&l.time>=r.time&&(i=l.seconds,a=l.time),r.state==="started"&&o.state!=="started"&&(i+=o.time-a),r=o}),this._state.remove(s),i}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const s=this._tickOffset.get(n),r=this._state.get(n),i=Math.max(s.time,r.time),o=this.frequency.getTicksAtTime(i)+e-s.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,s){let r=this._state.get(e);this._state.forEachBetween(e,n,o=>{r&&r.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(r.time,e),o.time-this.sampleTime,s),r=o});let i=null;if(r&&r.state==="started"){const o=Math.max(r.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(r.time),u=a-l;let c=Math.ceil(u)-u;c=Ft(c,1)?0:c;let h=this.frequency.getTimeOfTick(a+c);for(;h<n;){try{s(h,Math.round(this.getTicksAtTime(h)))}catch(d){i=d;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class gi extends je{constructor(){super(N(gi.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=ne,this._lastUpdate=0,this._state=new Ga("stopped"),this._boundLoop=this._loop.bind(this);const e=N(gi.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new ca({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,oe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(je.getDefaults(),{callback:ne,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Fm(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,n),s<this._lastUpdate&&this.emit("start",s,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(r+e,s)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,s=>{switch(s.state){case"started":const r=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,r);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,n,(s,r)=>{this.callback(s,r)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}qi.mixin(gi);class $c extends Cn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=N($c.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const s=e.urls[n];this.add(n,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:ne,onload:ne,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return H(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,s=ne,r=ne){return en(n)?this._buffers.set(e.toString(),new se(this.baseUrl+n,s,r)):this._buffers.set(e.toString(),new se(n,s,r)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class et extends Qr{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class JS extends je{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new rn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Ua(t=>{t.draw=new JS({context:t})});$a(t=>{t.draw.dispose()});class ek extends Cn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){H(Q(e.time),"Events must have a time property"),H(Q(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new tk(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const s of n)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let s,r=null;if(n>0)if(e.left.right===null)s=e.left,s.right=e.right,r=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,r=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,r=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,r=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),r&&this._rebalance(r)}e.dispose()}_rotateLeft(e){const n=e.parent,s=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rotateRight(e){const n=e.parent,s=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let s=n[0];for(let r=1;r<n.length;r++)n[r].low>s.low&&(s=n[r]);return s.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(s=>n.push(s)),n.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}forEachFrom(e,n){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class tk{constructor(e,n,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class ks extends B{constructor(){super(N(ks.getDefaults(),arguments,["volume"])),this.name="Volume";const e=N(ks.getDefaults(),arguments,["volume"]);this.input=this.output=new me({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,oe(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(B.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class ha extends B{constructor(){super(N(ha.getDefaults(),arguments)),this.name="Destination",this.input=new ks({context:this.context}),this.output=new me({context:this.context}),this.volume=this.input.volume;const e=N(ha.getDefaults(),arguments);mi(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(B.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),mi(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Ua(t=>{t.destination=new ha({context:t})});$a(t=>{t.destination.dispose()});class nk extends Cn{constructor(e){super(),this.name="TimelineValue",this._timeline=new rn({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Gn{constructor(e,n){this.id=Gn._eventId++;const s=Object.assign(Gn.getDefaults(),n);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=s.time}static getDefaults(){return{callback:ne,once:!1,time:0}}invoke(e){this.callback&&(this.callback(e),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}Gn._eventId=0;class Hc extends Gn{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(Hc.getDefaults(),n);this.duration=new et(e.context,s.duration).valueOf(),this._interval=new et(e.context,s.interval).valueOf(),this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Gn.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvents(e){const n=this.transport.getTicksAtTime(e);n>=this.time&&n>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new et(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const n=this.transport.getTicksAtTime(e);n>this.time&&(this._nextTick=this.time+Math.ceil((n-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new et(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new et(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class _i extends je{constructor(){super(N(_i.getDefaults(),arguments)),this.name="Transport",this._loop=new nk(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new rn,this._repeatedEvents=new ek,this._syncedSignals=[],this._swingAmount=0;const e=N(_i.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new gi({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),oe(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(je.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const s=n%(this._swingTicks*2)/(this._swingTicks*2),r=Math.sin(s*Math.PI)*this._swingAmount;e+=new et(this.context,this._swingTicks*2/3).toSeconds()*r}this._timeline.forEachAtTime(n,s=>s.invoke(e))}schedule(e,n){const s=new Gn(this,{callback:e,time:new Qr(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,n,s,r=1/0){const i=new Hc(this,{callback:e,duration:new bt(this.context,r).toTicks(),interval:new bt(this.context,n).toTicks(),time:new Qr(this.context,s).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const s=new Gn(this,{callback:e,once:!0,time:new Qr(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(n,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new et(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){let s;return Q(n)&&(s=this.toTicks(n)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){qt(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new bt(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new bt(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new et(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new et(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),s=this._clock.frequency.timeToTicks(e,n);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(n),r=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,n),i=n+r;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return Math.round(this._clock.getTicksAtTime(e))}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),s=this.getTicksAtTime(n),r=e-s%e;return this._clock.nextTickTime(r,n)}}syncSignal(e,n){if(!n){const r=this.now();if(e.getValueAtTime(r)!==0){const i=this.bpm.getValueAtTime(r),o=1/(60/i/this.PPQ);n=e.getValueAtTime(r)/o}else n=0}const s=new me(n);return this.bpm.connect(s),s.connect(e._param),this._syncedSignals.push({initial:e.value,ratio:s,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const s=this._syncedSignals[n];s.signal===e&&(s.ratio.dispose(),s.signal.value=s.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Wc(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}qi.mixin(_i);Ua(t=>{t.transport=new _i({context:t})});$a(t=>{t.transport.dispose()});class Fe extends B{constructor(e){super(e),this.input=void 0,this._state=new Ga("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ne,this._syncedStop=ne,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ks({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,oe(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(B.getDefaults(),{mute:!1,onstop:ne,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,s){let r=Nt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),!this._synced&&this._state.getValueAtTime(r)==="started")H(oa(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,n,s);else if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const i=this._state.get(r);i&&(i.offset=this.toSeconds(ps(n,0)),i.duration=s?this.toSeconds(s):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,s)},r);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else Fm(this.context),this._start(r,n,s);return this}stop(e){let n=Nt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||Q(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const s=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(s)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(n>0){const s=this._state.get(n);if(s&&s.state==="started"&&s.time!==n){const r=n-this.toSeconds(s.time);let i;s.duration&&(i=this.toSeconds(s.duration)-r),this._start(e,this.toSeconds(s.offset)+r,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ne,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class cr extends ur{constructor(){super(N(cr.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=N(cr.getDefaults(),arguments,["url","onload"]);Ns(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Z({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new se(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ur.getDefaults(),{url:new se,loop:!1,loopEnd:0,loopStart:0,onload:ne,onerror:ne,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,s,r=1){H(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,r),this.loop?n=ps(n,this.loopStart):n=ps(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),u=a-l;Nu(o,a)&&(o=(o-l)%u+l),Ft(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,jm(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),Q(s)){let a=this.toSeconds(s);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class vi extends Fe{constructor(){super(N(vi.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const e=N(vi.getDefaults(),arguments,["type"]);this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Fe.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(H(e in xd,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const n=this.now();this._stop(n),this._start(n)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const n=xd[this._type];this._source=new cr({url:n,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(n.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Ms=44100*5,xl=2,on={brown:null,pink:null,white:null},xd={get brown(){if(!on.brown){const t=[];for(let e=0;e<xl;e++){const n=new Float32Array(Ms);t[e]=n;let s=0;for(let r=0;r<Ms;r++){const i=Math.random()*2-1;n[r]=(s+.02*i)/1.02,s=n[r],n[r]*=3.5}}on.brown=new se().fromArray(t)}return on.brown},get pink(){if(!on.pink){const t=[];for(let e=0;e<xl;e++){const n=new Float32Array(Ms);t[e]=n;let s,r,i,o,a,l,u;s=r=i=o=a=l=u=0;for(let c=0;c<Ms;c++){const h=Math.random()*2-1;s=.99886*s+h*.0555179,r=.99332*r+h*.0750759,i=.969*i+h*.153852,o=.8665*o+h*.3104856,a=.55*a+h*.5329522,l=-.7616*l-h*.016898,n[c]=s+r+i+o+a+l+u+h*.5362,n[c]*=.11,u=h*.115926}}on.pink=new se().fromArray(t)}return on.pink},get white(){if(!on.white){const t=[];for(let e=0;e<xl;e++){const n=new Float32Array(Ms);t[e]=n;for(let s=0;s<Ms;s++)n[s]=Math.random()*2-1}on.white=new se().fromArray(t)}return on.white}};function As(t,e){return De(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,s=new Bc(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class da extends ur{constructor(){super(N(da.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=N(da.getDefaults(),arguments,["frequency","type"]);Ns(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Z({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Z({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),oe(this,["frequency","detune"])}static getDefaults(){return Object.assign(ur.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class ve extends Fe{constructor(){super(N(ve.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=N(ve.getDefaults(),arguments,["frequency","type"]);this.frequency=new J({context:this.context,units:"frequency",value:e.frequency}),oe(this,"frequency"),this.detune=new J({context:this.context,units:"cents",value:e.detune}),oe(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Fe.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),s=new da({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return ve._periodicWaveCache.find(n=>n.phase===this._phase&&LS(n.partials,this._partials));{const e=ve._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(Q(s)){const{partials:r,wave:i}=s;this._wave=i,this._partials=r,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[r,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(r,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),ve._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:r,type:this._type,wave:this._wave}),ve._periodicWaveCache.length>100&&ve._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){vn(e,0);let n=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(n=s[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const r=new Float32Array(e);this._partials.forEach((i,o)=>r[o]=i),this._partials=Array.from(r),this.type=this._type}}_getRealImaginary(e,n){let r=2048;const i=new Float32Array(r),o=new Float32Array(r);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,r=a,this._partials.length===0)return[i,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),r=a):this._partialCount=0,this._partials=[]}for(let l=1;l<r;++l){const u=2/(l*Math.PI);let c;switch(e){case"sine":c=l<=a?1:0,this._partials[l-1]=c;break;case"square":c=l&1?2*u:0,this._partials[l-1]=c;break;case"sawtooth":c=u*(l&1?1:-1),this._partials[l-1]=c;break;case"triangle":l&1?c=2*(u*u)*(l-1>>1&1?-1:1):c=0,this._partials[l-1]=c;break;case"custom":c=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}c!==0?(i[l]=-c*Math.sin(n*l),o[l]=c*Math.cos(n*l)):(i[l]=0,o[l]=0)}return[i,o]}_inverseFFT(e,n,s){let r=0;const i=e.length;for(let o=0;o<i;o++)r+=e[o]*Math.cos(o*s)+n[o]*Math.sin(o*s);return r}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let s=0;const r=Math.PI*2,i=32;for(let o=0;o<i;o++)s=Math.max(this._inverseFFT(e,n,o/i*r),s);return jS(-this._inverseFFT(e,n,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return De(this,void 0,void 0,function*(){return As(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}ve._periodicWaveCache=[];class yn extends B{constructor(){super(Object.assign(N(yn.getDefaults(),arguments,["context"])))}connect(e,n=0,s=0){return Qa(this,e,n,s),this}}class hr extends yn{constructor(){super(Object.assign(N(hr.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=N(hr.getDefaults(),arguments,["mapping","length"]);qt(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):IS(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(J.getDefaults(),{length:1024})}setMap(e,n=1024){const s=new Float32Array(n);for(let r=0,i=n;r<i;r++){const o=r/(i-1)*2-1;s[r]=e(o,r)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(s=>s.includes(e));H(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Gc extends yn{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new hr({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Dt extends J{constructor(){super(Object.assign(N(Dt.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=N(Dt.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new me({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(J.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class yi extends Fe{constructor(){super(N(yi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Gc({context:this.context}),this._modulationNode=new me({context:this.context});const e=N(yi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new ve({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ve({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Dt({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),oe(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ve.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return De(this,void 0,void 0,function*(){return As(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class dr extends Fe{constructor(){super(N(dr.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new me({context:this.context,gain:0});const e=N(dr.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new ve({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new J({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new ve({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Dt({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Dt({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),oe(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ve.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return De(this,void 0,void 0,function*(){return As(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class fr extends Fe{constructor(){super(N(fr.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new me({context:this.context,gain:0}),this._thresh=new hr({context:this.context,mapping:n=>n<=0?-1:1});const e=N(fr.getDefaults(),arguments,["frequency","width"]);this.width=new J({context:this.context,units:"audioRange",value:e.width}),this._triangle=new ve({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),oe(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Fe.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return De(this,void 0,void 0,function*(){return As(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class wi extends Fe{constructor(){super(N(wi.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=N(wi.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new J({context:this.context,units:"frequency",value:e.frequency}),this.detune=new J({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,oe(this,["frequency","detune"])}static getDefaults(){return Object.assign(ve.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,s=e/(this._oscillators.length-1);this._forEach((r,i)=>r.detune.value=n+s*i)}}get count(){return this._oscillators.length}set count(e){if(vn(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const s=new ve({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):ne});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[n]=s}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,s)=>n.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return De(this,void 0,void 0,function*(){return As(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Si extends Fe{constructor(){super(N(Si.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Dt({context:this.context,value:2});const e=N(Si.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new fr({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new ve({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),oe(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Fe.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return De(this,void 0,void 0,function*(){return As(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Ed={am:yi,fat:wi,fm:dr,oscillator:ve,pulse:fr,pwm:Si};class wn extends Fe{constructor(){super(N(wn.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=N(wn.getDefaults(),arguments,["frequency","type"]);this.frequency=new J({context:this.context,units:"frequency",value:e.frequency}),this.detune=new J({context:this.context,units:"cents",value:e.detune}),oe(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(ve.getDefaults(),dr.getDefaults(),yi.getDefaults(),wi.getDefaults(),fr.getDefaults(),Si.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=Ed[e],s=this.now();if(this._oscillator){const r=this._oscillator;r.stop(s),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof Ed[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Jt(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Jt(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&en(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return De(this,void 0,void 0,function*(){return As(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Qc extends J{constructor(){super(Object.assign(N(Qc.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new me({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,mi(this._constantSource,this._sum)}static getDefaults(){return Object.assign(J.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class pr extends yn{constructor(){super(Object.assign(N(pr.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=N(pr.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Dt({context:this.context,value:e.max-e.min}),this._add=this.output=new Qc({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(yn.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Yc extends yn{constructor(){super(Object.assign(N(Yc.getDefaults(),arguments))),this.name="Zero",this._gain=new me({context:this.context}),this.output=this._gain,this.input=void 0,Ns(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Gm(this.context.getConstant(0),this._gain),this}}class fa extends B{constructor(){super(N(fa.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Z.prototype._fromType,this._toType=Z.prototype._toType,this._is=Z.prototype._is,this._clampValue=Z.prototype._clampValue;const e=N(fa.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new ve(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new me({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new J({context:this.context,units:"audioRange",value:0}),this._zeros=new Yc({context:this.context}),this._a2g=new Gc({context:this.context}),this._scaler=this.output=new pr({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),oe(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(ve.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,s=this.max;this._units=e,this.min=n,this.max=s}get state(){return this._oscillator.state}connect(e,n,s){return(e instanceof Z||e instanceof J)&&(this.convert=e.convert,this.units=e.units),Qa(this,e,n,s),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function Qm(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){vn(i,t,e),n.set(this,i)}})}}function xn(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){vn(this.toSeconds(i),t,e),n.set(this,i)}})}}class ki extends Fe{constructor(){super(N(ki.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=N(ki.getDefaults(),arguments,["url","onload"]);this._buffer=new se({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Fe.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ne,onerror:ne,playbackRate:1,reverse:!1})}load(e){return De(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=ne){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,s){return super.start(e,n,s),this}_start(e,n,s){this._loop?n=ps(n,this._loopStart):n=ps(n,0);const r=this.toSeconds(n),i=s;s=ps(s,Math.max(this._buffer.duration-r,0));let o=this.toSeconds(s);o=o/this._playbackRate,e=this.toSeconds(e);const a=new cr({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&Nt(i)?a.start(e,r):a.start(e,r,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(n))}restart(e,n,s){return super.restart(e,n,s),this}_restart(e,n,s){this._stop(e),this._start(e,n,s)}seek(e,n){const s=this.toSeconds(n);if(this._state.getValueAtTime(s)==="started"){const r=this.toSeconds(e);this._stop(s),this._start(s,r)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&vn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&vn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),s=this._state.getNextState("stopped",n);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Ut([xn(0)],ki.prototype,"fadeIn",void 0);Ut([xn(0)],ki.prototype,"fadeOut",void 0);class pa extends yn{constructor(){super(Object.assign(N(pa.getDefaults(),arguments,["value"]))),this.name="Pow";const e=N(pa.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new hr({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(yn.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class $e extends B{constructor(){super(N($e.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new J({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=N($e.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(B.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(en(e))return e;{let s;for(s in lo)if(lo[s][n]===e)return s;return e}}_setCurve(e,n,s){if(en(s)&&Reflect.has(lo,s)){const r=lo[s];ds(r)?e!=="_decayCurve"&&(this[e]=r[n]):this[e]=r}else if(qt(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._decayCurve}set decayCurve(e){H(["linear","exponential"].some(n=>n===e),`Invalid envelope curve: ${e}`),this._decayCurve=e}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let r=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/r;r=(1-o)/a}if(r<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,r,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,r,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,r,n)}if(i&&this.sustain<1){const a=n*this.sustain,l=e+r;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(H(qt(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,s=1){return n=this.toSeconds(n),this.triggerAttack(n,s),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,s=0){return Qa(this,e,n,s),this}asArray(e=1024){return De(this,void 0,void 0,function*(){const n=e/this.context.sampleRate,s=new Bc(1,n,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=r+this.toSeconds(this.release),o=i*.1,a=i+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:s}));return l._sig.toDestination(),l.triggerAttackRelease(n*(r+o)/a,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Ut([xn(0)],$e.prototype,"attack",void 0);Ut([xn(0)],$e.prototype,"decay",void 0);Ut([Qm(0,1)],$e.prototype,"sustain",void 0);Ut([xn(0)],$e.prototype,"release",void 0);const lo=(()=>{let e,n;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/(128-1)*(Math.PI/2));const r=[],i=6.4;for(e=0;e<128-1;e++){n=e/(128-1);const d=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;r[e]=d/10+n*.83}r[128-1]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/(128-1)*a)/a;const l=[];for(e=0;e<128;e++)n=e/(128-1),l[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/(128-1);const d=Math.pow(n,3)*4+.2,g=Math.cos(d*Math.PI*2*n);u[e]=Math.abs(g*(1-n))}function c(d){const g=new Array(d.length);for(let m=0;m<d.length;m++)g[m]=1-d[m];return g}function h(d){return d.slice(0).reverse()}return{bounce:{In:c(u),Out:u},cosine:{In:s,Out:h(s)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:c(r)},sine:{In:l,Out:c(l)},step:{In:o,Out:c(o)}}})();class Sn extends B{constructor(){super(N(Sn.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const e=N(Sn.getDefaults(),arguments);this._volume=this.output=new ks({context:this.context,volume:e.volume}),this.volume=this._volume.volume,oe(this,"volume")}static getDefaults(){return Object.assign(B.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const s=this["_original_"+e]=this[e];this[e]=(...r)=>{const i=r[n],o=this.context.transport.schedule(a=>{r[n]=a,s.apply(this,r)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(e,n,s,r){const i=this.toSeconds(s),o=this.toSeconds(n);return this.triggerAttack(e,i,r),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class We extends Sn{constructor(){super(N(We.getDefaults(),arguments));const e=N(We.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Sn.getDefaults(),{detune:0,onsilence:ne,portamento:0})}triggerAttack(e,n,s=1){this.log("triggerAttack",e,n,s);const r=this.toSeconds(n);return this._triggerEnvelopeAttack(r,s),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const s=this.toSeconds(n),r=e instanceof _t?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,i,s)}else this.frequency.setValueAtTime(r,s);return this}}Ut([xn(0)],We.prototype,"portamento",void 0);class zi extends $e{constructor(){super(N(zi.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new me({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Qn extends We{constructor(){super(N(Qn.getDefaults(),arguments)),this.name="Synth";const e=N(Qn.getDefaults(),arguments);this.oscillator=new wn(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new zi(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),oe(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(We.getDefaults(),{envelope:Object.assign(nt($e.getDefaults(),Object.keys(B.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(nt(wn.getDefaults(),[...Object.keys(Fe.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class mr extends We{constructor(){super(N(mr.getDefaults(),arguments)),this.name="ModulationSynth";const e=N(mr.getDefaults(),arguments);this._carrier=new Qn({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new Qn({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new J({context:this.context,units:"frequency"}),this.detune=new J({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new Dt({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new me({context:this.context,gain:0}),oe(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(We.getDefaults(),{harmonicity:3,oscillator:Object.assign(nt(wn.getDefaults(),[...Object.keys(Fe.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(nt($e.getDefaults(),Object.keys(B.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(nt(wn.getDefaults(),[...Object.keys(Fe.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(nt($e.getDefaults(),Object.keys(B.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,n){this._carrier._triggerEnvelopeAttack(e,n),this._modulator._triggerEnvelopeAttack(e,n)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class Xc extends mr{constructor(){super(N(Xc.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Gc({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Ti extends B{constructor(){super(N(Ti.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const e=N(Ti.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Z({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Z({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Z({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Z({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(B.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){H(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let o=0;o<e;o++){const l=Math.pow(o/e,2)*(2e4-20)+20;n[o]=l}const s=new Float32Array(e),r=new Float32Array(e),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(n,s,r),s}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class gr extends B{constructor(){super(N(gr.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new me({context:this.context}),this.output=new me({context:this.context}),this._filters=[];const e=N(gr.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new J({context:this.context,units:"positive",value:e.Q}),this.frequency=new J({context:this.context,units:"frequency",value:e.frequency}),this.detune=new J({context:this.context,units:"cents",value:e.detune}),this.gain=new J({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,oe(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(B.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){H(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(s=>s.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const n=Jt(e)?e:parseInt(e,10),s=[-12,-24,-48,-96];let r=s.indexOf(n);H(r!==-1,`rolloff can only be ${s.join(", ")}`),r+=1,this._rolloff=n,this.input.disconnect(),this._filters.forEach(i=>i.disconnect()),this._filters=new Array(r);for(let i=0;i<r;i++){const o=new Ti({context:this.context});o.type=this._type,this.frequency.connect(o.frequency),this.detune.connect(o.detune),this.Q.connect(o.Q),this.gain.connect(o.gain),this._filters[i]=o}this._internalChannels=this._filters,mi(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const n=new Ti({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),s=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{n.getFrequencyResponse(e).forEach((i,o)=>s[o]*=i)}),n.dispose(),s}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Wc(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Ci extends $e{constructor(){super(N(Ci.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const e=N(Ci.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new pa({context:this.context,value:e.exponent}),this._scale=this.output=new pr({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign($e.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const n=this.toFrequency(e);vn(n,0),this._baseFrequency=n,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class us extends We{constructor(){super(N(us.getDefaults(),arguments)),this.name="MonoSynth";const e=N(us.getDefaults(),arguments);this.oscillator=new wn(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new gr(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new Ci(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new zi(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),oe(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(We.getDefaults(),{envelope:Object.assign(nt($e.getDefaults(),Object.keys(B.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(nt(gr.getDefaults(),Object.keys(B.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(nt(Ci.getDefaults(),Object.keys(B.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(nt(wn.getDefaults(),Object.keys(Fe.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,n=1){if(this.envelope.triggerAttack(e,n),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class ma extends We{constructor(){super(N(ma.getDefaults(),arguments)),this.name="DuoSynth";const e=N(ma.getDefaults(),arguments);this.voice0=new us(Object.assign(e.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new us(Object.assign(e.voice1,{context:this.context})),this.harmonicity=new Dt({context:this.context,units:"positive",value:e.harmonicity}),this._vibrato=new fa({frequency:e.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new me({context:this.context,units:"normalRange",gain:e.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new J({context:this.context,units:"frequency",value:440}),this.detune=new J({context:this.context,units:"cents",value:e.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),oe(this,["voice0","voice1","frequency","vibratoAmount","vibratoRate"])}getLevelAtTime(e){return e=this.toSeconds(e),this.voice0.envelope.getValueAtTime(e)+this.voice1.envelope.getValueAtTime(e)}static getDefaults(){return Zt(We.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:Zt(nt(us.getDefaults(),Object.keys(We.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:Zt(nt(us.getDefaults(),Object.keys(We.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(e,n){this.voice0._triggerEnvelopeAttack(e,n),this.voice1._triggerEnvelopeAttack(e,n)}_triggerEnvelopeRelease(e){return this.voice0._triggerEnvelopeRelease(e),this.voice1._triggerEnvelopeRelease(e),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class ga extends mr{constructor(){super(N(ga.getDefaults(),arguments)),this.name="FMSynth";const e=N(ga.getDefaults(),arguments);this.modulationIndex=new Dt({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(mr.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const Nd=[1,1.483,1.932,2.546,2.63,3.897];class _a extends We{constructor(){super(N(_a.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];const e=N(_a.getDefaults(),arguments);this.detune=new J({context:this.context,units:"cents",value:e.detune}),this.frequency=new J({context:this.context,units:"frequency"}),this._amplitude=new me({context:this.context,gain:0}).connect(this.output),this._highpass=new gr({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let n=0;n<Nd.length;n++){const s=new dr({context:this.context,harmonicity:e.harmonicity,modulationIndex:e.modulationIndex,modulationType:"square",onstop:n===0?()=>this.onsilence(this):ne,type:"square"});s.connect(this._highpass),this._oscillators[n]=s;const r=new Dt({context:this.context,value:Nd[n]});this._freqMultipliers[n]=r,this.frequency.chain(r,s.frequency),this.detune.connect(s.detune)}this._filterFreqScaler=new pr({context:this.context,max:7e3,min:this.toFrequency(e.resonance)}),this.envelope=new $e({attack:e.envelope.attack,attackCurve:"linear",context:this.context,decay:e.envelope.decay,release:e.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=e.octaves,this.octaves=e.octaves}static getDefaults(){return Zt(We.getDefaults(),{envelope:Object.assign(nt($e.getDefaults(),Object.keys(B.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(e,n=1){return this.envelope.triggerAttack(e,n),this._oscillators.forEach(s=>s.start(e)),this.envelope.sustain===0&&this._oscillators.forEach(s=>{s.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(e){return this.envelope.triggerRelease(e),this._oscillators.forEach(n=>n.stop(e+this.toSeconds(this.envelope.release))),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(e){this._oscillators.forEach(n=>n.modulationIndex.value=e)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(e){this._oscillators.forEach(n=>n.harmonicity.value=e)}get resonance(){return this._filterFreqScaler.min}set resonance(e){this._filterFreqScaler.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,e)}dispose(){return super.dispose(),this._oscillators.forEach(e=>e.dispose()),this._freqMultipliers.forEach(e=>e.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class _r extends Qn{constructor(){super(N(_r.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=N(_r.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,oe(this,["oscillator","envelope"])}static getDefaults(){return Zt(We.getDefaults(),Qn.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const s=this.toSeconds(n),r=this.toFrequency(e instanceof _t?e.toFrequency():e),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,s),this.oscillator.frequency.exponentialRampToValueAtTime(r,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Ut([Qm(0)],_r.prototype,"octaves",void 0);Ut([xn(0)],_r.prototype,"pitchDecay",void 0);class va extends Sn{constructor(){super(N(va.getDefaults(),arguments)),this.name="NoiseSynth";const e=N(va.getDefaults(),arguments);this.noise=new vi(Object.assign({context:this.context},e.noise)),this.envelope=new zi(Object.assign({context:this.context},e.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(Sn.getDefaults(),{envelope:Object.assign(nt($e.getDefaults(),Object.keys(B.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(nt(vi.getDefaults(),Object.keys(Fe.getDefaults())),{type:"white"})})}triggerAttack(e,n=1){return e=this.toSeconds(e),this.envelope.triggerAttack(e,n),this.noise.start(e),this.envelope.sustain===0&&this.noise.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(e){return e=this.toSeconds(e),this.envelope.triggerRelease(e),this.noise.stop(e+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(e,n,s=1){return n=this.toSeconds(n),e=this.toSeconds(e),this.triggerAttack(n,s),this.triggerRelease(n+e),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const Ym=new Set;function Zc(t){Ym.add(t)}function Xm(t,e){const n=`registerProcessor("${t}", ${e})`;Ym.add(n)}const sk=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Zc(sk);const rk=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Zc(rk);const ik=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Zc(ik);const ok="feedback-comb-filter",ak=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Xm(ok,ak);class xi extends Sn{constructor(){super(N(xi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=N(xi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(s=>{const r=parseInt(s,10);if(H(ao(s)||Jt(r)&&isFinite(r),`url key is neither a note or midi pitch: ${s}`),ao(s)){const i=new _t(this.context,s).toMidi();n[i]=e.urls[s]}else Jt(r)&&isFinite(r)&&(n[r]=e.urls[r])}),this._buffers=new $c({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Sn.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ne,onerror:ne,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,s=1){return this.log("triggerAttack",e,n,s),Array.isArray(e)||(e=[e]),e.forEach(r=>{const i=Hm(new _t(this.context,r).toFrequency()),o=Math.round(i),a=i-o,l=this._findClosest(o),u=o-l,c=this._buffers.get(u),h=$m(l+a),d=new cr({url:c,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);d.start(n,0,c.duration/h,s),qt(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(d),d.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const g=this._activeSources.get(o),m=g.indexOf(d);m!==-1&&g.splice(m,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(s=>{const r=new _t(this.context,s).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const i=this._activeSources.get(r);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(r,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,s,r=1){const i=this.toSeconds(s);return this.triggerAttack(e,i,r),qt(n)?(H(qt(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,s){if(H(ao(e)||isFinite(e),`note must be a pitch or midi: ${e}`),ao(e)){const r=new _t(this.context,e).toMidi();this._buffers.add(r,n,s)}else this._buffers.add(e,n,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Ut([xn(0)],xi.prototype,"attack",void 0);Ut([xn(0)],xi.prototype,"release",void 0);class ya extends je{constructor(){super(N(ya.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new Ga("stopped"),this._startOffset=0;const e=N(ya.getDefaults(),arguments,["callback","value"]);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(je.getDefaults(),{callback:ne,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,n=>{let s;if(n.state==="started"){n.id!==-1&&this.context.transport.clear(n.id);const r=n.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||Jt(this._loop)&&this._loop>1){s=1/0,Jt(this._loop)&&(s=this._loop*this._getLoopDuration());const i=this._state.getAfter(r);i!==null&&(s=Math.min(s,i.time-r)),s!==1/0&&(this._state.setStateAtTime("stopped",r+s+1,{id:-1}),s=new et(this.context,s));const o=new et(this.context,this._getLoopDuration());n.id=this.context.transport.scheduleRepeat(this._tick.bind(this),o,new et(this.context,r),s)}else n.id=this.context.transport.schedule(this._tick.bind(this),new et(this.context,r))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const n=this.toTicks(e);return this._state.getValueAtTime(n)==="stopped"&&(this._state.add({id:-1,state:"started",time:n}),this._rescheduleEvents(n)),this}stop(e){this.cancel(e);const n=this.toTicks(e);if(this._state.getValueAtTime(n)==="started"){this._state.setStateAtTime("stopped",n,{id:-1});const s=this._state.getBefore(n);let r=n;s!==null&&(r=s.time),this._rescheduleEvents(r)}return this}cancel(e){e=ps(e,-1/0);const n=this.toTicks(e);return this._state.forEachFrom(n,s=>{this.context.transport.clear(s.id)}),this._state.cancel(n),this}_tick(e){const n=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(n)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let s=.02;Lm(this.humanize)||(s=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*s}this.callback(e,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new et(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new et(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,n=this._state.get(e);if(n!==null&&n.state==="started"){const s=this._getLoopDuration();return(e-n.time)%s/s}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class wa extends je{constructor(){super(N(wa.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const e=N(wa.getDefaults(),arguments,["callback","interval"]);this._event=new ya({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability}),this.callback=e.callback,this.iterations=e.iterations}static getDefaults(){return Object.assign(je.getDefaults(),{interval:"4n",callback:ne,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(e){return this._event.start(e),this}stop(e){return this._event.stop(e),this}cancel(e){return this._event.cancel(e),this}_tick(e){this.callback(e)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(e){this._event.loopEnd=e}get playbackRate(){return this._event.playbackRate}set playbackRate(e){this._event.playbackRate=e}get humanize(){return this._event.humanize}set humanize(e){this._event.humanize=e}get probability(){return this._event.probability}set probability(e){this._event.probability=e}get mute(){return this._event.mute}set mute(e){this._event.mute=e}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(e){e===1/0?this._event.loop=!0:this._event.loop=e}dispose(){return super.dispose(),this._event.dispose(),this}}class Sa extends B{constructor(){super(Object.assign(N(Sa.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=N(Sa.getDefaults(),arguments,["pan"]);this.pan=new Z({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",oe(this,"pan")}static getDefaults(){return Object.assign(B.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const lk="bit-crusher",uk=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Xm(lk,uk);class xe extends B{constructor(){super(N(xe.getDefaults(),arguments,["solo"])),this.name="Solo";const e=N(xe.getDefaults(),arguments,["solo"]);this.input=this.output=new me({context:this.context}),xe._allSolos.has(this.context)||xe._allSolos.set(this.context,new Set),xe._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(B.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),xe._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){xe._soloed.has(this.context)||xe._soloed.set(this.context,new Set),xe._soloed.get(this.context).add(this)}_removeSolo(){xe._soloed.has(this.context)&&xe._soloed.get(this.context).delete(this)}_isSoloed(){return xe._soloed.has(this.context)&&xe._soloed.get(this.context).has(this)}_noSolos(){return!xe._soloed.has(this.context)||xe._soloed.has(this.context)&&xe._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),xe._allSolos.get(this.context).delete(this),this._removeSolo(),this}}xe._allSolos=new Map;xe._soloed=new Map;class ka extends B{constructor(){super(N(ka.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=N(ka.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Sa({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ks({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,oe(this,["pan","volume"])}static getDefaults(){return Object.assign(B.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class is extends B{constructor(){super(N(is.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=N(is.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new xe({solo:e.solo,context:this.context}),this._panVol=this.output=new ka({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),oe(this,["pan","volume"])}static getDefaults(){return Object.assign(B.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return is.buses.has(e)||is.buses.set(e,new me({context:this.context})),is.buses.get(e)}send(e,n=0){const s=this._getBus(e),r=new me({context:this.context,units:"decibels",gain:n});return this.connect(r),r.connect(s),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}is.buses=new Map;class ck extends B{constructor(){super(...arguments),this.name="Listener",this.positionX=new Z({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Z({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Z({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Z({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Z({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Z({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Z({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Z({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Z({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(B.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Ua(t=>{t.listener=new ck({context:t})});$a(t=>{t.listener.dispose()});function Ad(){return gt().now()}const hk=gt().transport;gt().destination;gt().destination;gt().listener;gt().draw;gt();var Ya={exports:{}},Xa={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk=ce.exports,fk=Symbol.for("react.element"),pk=Symbol.for("react.fragment"),mk=Object.prototype.hasOwnProperty,gk=dk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_k={key:!0,ref:!0,__self:!0,__source:!0};function Zm(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)mk.call(e,s)&&!_k.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:fk,type:t,key:i,ref:o,props:r,_owner:gk.current}}Xa.Fragment=pk;Xa.jsx=Zm;Xa.jsxs=Zm;(function(t){t.exports=Xa})(Ya);const vk=Ya.exports.Fragment,X=Ya.exports.jsx,Gt=Ya.exports.jsxs;function yk(t){const[e,n]=ce.exports.useState(!1),s=ce.exports.useCallback(r=>{r.preventDefault(),$S().then(()=>{n(!0)})},[]);return ce.exports.useEffect(()=>{if(!e)return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[e]),e?t.children:X("p",{children:Gt("button",{onClick:s,children:[X("strong",{children:"Click/press any key to start"}),X("br",{}),"(Browser enforces that audio context must be triggered by user action)"]})})}function Eo(t){let e=[];for(let n=0;n<t;n++)e.push(n);return e}function wk(t,e){var a,l,u;const n=structuredClone(t),s=new RegExp(/(?<note>[^\W]+)\/(?<duration>[^\W]+)\b$/gi);for(let c of e.matchAll(s)){const h=(a=c.groups.note)!=null?a:"C4",d=(l=c.groups.duration)!=null?l:"8n";n.instrument.note=h,n.instrument.duration=d}const r=new RegExp(/@(?<synthType>[^\W]+)\b/gi);for(let c of e.matchAll(r)){const h=(u=c.groups.synthType)!=null?u:"sine";["duo","am","fm","membrane","sine"].includes(h)&&(n.instrument.type=h)}const i=new RegExp(/\bs(?<steps>[0-9]+)\b/gi);for(let c of e.matchAll(i)){const h=+c.groups.steps;if(n.sequencer.steps=h,h>n.sequencer.sequence.length)for(let d=n.sequencer.sequence.length;d<h;d++)n.sequencer.sequence.push(!1)}const o=new RegExp(/\b(?<volume>[0-9]+)%\B/gi);for(let c of e.matchAll(o)){const h=+c.groups.volume;n.instrument.gain=h/100}return n}function Sk(t){var a,l;const[e,n]=ce.exports.useState(`${(a=t.track.instrument)==null?void 0:a.note}/${(l=t.track.instrument)==null?void 0:l.duration}`),s=ce.exports.useCallback(u=>{n(u.target.value);const c=wk(t.track,u.target.value);JSON.stringify(t.track)!=JSON.stringify(c)&&t.onChange(c)},[t.track]),r=t.track.instrument.routeToKeyboard,i=ce.exports.useCallback(()=>{const u=structuredClone(t.track);u.instrument.routeToKeyboard=!r,t.onChange(u)},[r]);function o(u){const c=structuredClone(t.track);c.sequencer.sequence[u]=!c.sequencer.sequence[u],t.onChange(c)}return Gt("tr",{children:[X("th",{children:X("input",{type:"text",value:e,onChange:s})}),X("th",{children:X("button",{onClick:i,style:{fontWeight:r?"bold":"normal",backgroundColor:r?"blue":"transparent"},children:r?"Disconnect":"Route to Keyboard"})}),Eo(t.track.sequencer.steps).map(u=>{var c;return X("td",{className:u==t.globalSequenceCounter%t.track.sequencer.steps?"active":"",children:X("input",{type:"checkbox",checked:(c=t.track.sequencer.sequence[u])!=null?c:!1,onChange:()=>o(u)})},u)})]})}const Od=["a","s","d","f","g","h","j"],Dd=["w","e","t","y","u"],uo=["a","w","s","e","d","f","t","g","y","h","u","j"];function kk({onAttack:t,onRelease:e}){const[n,s]=ce.exports.useState(!1),r=uo.reduce((a,l)=>(a[l]=ce.exports.useState(!1),a),{}),i=ce.exports.useCallback(a=>{uo.forEach(l=>{if(a.key==l){t(uo.indexOf(a.key));const[u,c]=r[a.key];c(!0),a.preventDefault()}})},[]),o=ce.exports.useCallback(a=>{Od.concat(Dd).forEach(l=>{if(a.key==l){e(uo.indexOf(a.key));const[u,c]=r[a.key];c(!1),a.preventDefault()}})},[]);return ce.exports.useEffect(()=>{if(!!n)return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[i,n]),ce.exports.useEffect(()=>{if(!!n)return window.addEventListener("keyup",o),()=>{window.removeEventListener("keyup",o)}},[o,n]),Gt("div",{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:{backgroundColor:n?"yellow":"transparent"},children:[X("p",{style:{marginLeft:10},children:Dd.map((a,l)=>X("button",{style:{backgroundColor:r[a][0]?"yellow":"black",color:"white"},children:a},l))}),X("p",{children:Od.map((a,l)=>X("button",{style:{backgroundColor:r[a][0]?"yellow":"white",color:"black"},children:a},l))})]})}class Tk{constructor(e,n,s,r){ns(this,"gainNode");this.instrument=e,this.note=s,this.duration=r,this.gainNode=new me(n).toDestination(),this.instrument.connect(this.gainNode)}dispose(){this.instrument.dispose(),this.gainNode.dispose()}triggerAttackRelease(e){this.instrument.triggerAttackRelease(this.note,this.duration,e)}}function Id(t){let e;switch(t.type){case"am":e=new Xc;break;case"fm":e=new ga;break;case"duo":e=new ma;break;case"membrane":e=new _r;break;case"noise":e=new va;break;case"metal":e=new _a;break;case"sine":default:e=new Qn;break}return new Tk(e,t.gain,t.note,t.duration)}class Ck{constructor(e){ns(this,"loop");ns(this,"counter",0);ns(this,"instruments",[]);ns(this,"hashes",[]);ns(this,"sequencers",[]);this.loop=new wa(n=>{this.counter+=1,this.sequencers.forEach((s,r)=>{s.sequence[this.counter%s.steps]&&this.instruments[r].triggerAttackRelease(n)}),e.onCounterIncrement(this.counter)},"8n"),this.loop.start(Ad()),hk.start()}play(){this.loop.start()}pause(){this.loop.stop()}hash(e){return JSON.stringify(e)}setTracks(e){for(;this.instruments.length>e.length;){const n=this.instruments.pop();this.hashes.pop(),this.sequencers.pop(),n.dispose()}e.forEach((n,s)=>{const r=this.hash(n);r!==this.hashes[s]&&(this.hashes[s]=r,this.instruments[s]=Id(n.instrument))}),this.sequencers=e.map(n=>n.sequencer)}attackWithSynth(e,n){const s=structuredClone(e),r=Cd(e.note).toMidi();s.note=Cd(r+n,"midi").toNote(),Id(s).triggerAttackRelease(Ad())}}let Md=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),""),co;const xk=["C4","D4","E4","F4","G4","A5","B5"];function Ek(){const[t,e]=ce.exports.useState(180),[n,s]=ce.exports.useState(!1),[r,i]=ce.exports.useState(0),[o,a]=ce.exports.useState(xk.map(_=>({id:Md(),sequencer:{sequence:Eo(16).map(()=>!1),steps:16},instrument:{duration:"8n",gain:1,note:_,routeToKeyboard:!1,type:"sine"}}))),l=ce.exports.useCallback(()=>{const _=[{id:Md(),sequencer:{sequence:Eo(16).map(()=>!1),steps:16},instrument:{duration:"8n",gain:1,note:"C4",type:"sine",routeToKeyboard:!1}}];a(w=>w.concat(_))},[o]);function u(_){a(w=>{const f=structuredClone(w),p=f.findIndex(y=>y.id===_.id);return f[p]=_,f})}ce.exports.useEffect(()=>{co||(co=new Ck({onCounterIncrement:i}))},[]),ce.exports.useEffect(()=>{co.setTracks(o)},[o]);const[c,h]=ce.exports.useState(Eo(12).map(()=>!1));function d(_,w,f){const p=[...w];return p[f]=_,p}const g=_=>{h(w=>d(!0,w,_))},m=_=>{h(w=>d(!1,w,_))};return ce.exports.useEffect(()=>{const _=o.filter(w=>{var f;return(f=w.instrument)==null?void 0:f.routeToKeyboard}).map(w=>w.instrument);for(const w of _)for(let f=0;f<c.length;f++)c[f]&&co.attackWithSynth(w,f)},[c,o]),Gt(vk,{children:[X("h3",{children:"Tips"}),Gt("ul",{children:[Gt("li",{children:["Input like ",X("code",{children:"C4/8n"})," means play a C4 eighth note"]}),Gt("li",{children:["Try changing instrument by using ",X("code",{children:"@duo"}),","," ",X("code",{children:"@membrane"}),", ",X("code",{children:"@am"}),", ",X("code",{children:"@fm"}),","," ",X("code",{children:"@sine"})]}),Gt("li",{children:["Change the number of ticks by using e.g. ",X("code",{children:"s32"})," \u2014 they don't have to match"]}),Gt("li",{children:["Set the gain by adding ",X("code",{children:"90%"})]})]}),X("h3",{children:"Sequencer"}),X("button",{onClick:()=>s(!n),children:n?"\u25B6\uFE0F Play":"\u23F8 Pause"}),"BPM:"," ",X("input",{type:"text",value:t,onChange:_=>e(+_.target.value)}),X("table",{children:X("tbody",{children:o.map(_=>X(Sk,{track:_,onChange:w=>u(w),globalSequenceCounter:r},_.id))})}),X("button",{onClick:l,children:"\u2795 Add Track"}),X("h3",{children:"Keyboard"}),Gt("div",{children:["Synths connected to keyboard:"," ",o.filter(_=>{var w;return(w=_.instrument)==null?void 0:w.routeToKeyboard}).length,X(kk,{onAttack:g,onRelease:m})]})]})}function Nk(){return X(yk,{children:X(Ek,{})})}El.createRoot(document.getElementById("root")).render(X(wg.StrictMode,{children:X(Nk,{})}));
